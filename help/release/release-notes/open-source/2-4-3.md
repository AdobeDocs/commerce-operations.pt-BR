---
title: Notas de versão do Magento Open Source 2.4.3
description: Saiba mais sobre novos recursos, melhorias, correções de erros e problemas conhecidos no Magento Open Source versão 2.4.3.
source-git-commit: 065c56f20ba5b1eef8c331c5c2f5649902f1442b
workflow-type: tm+mt
source-wordcount: '13303'
ht-degree: 0%

---


# Notas de versão do Magento Open Source 2.4.3

O Magento Open Source 2.4.3 apresenta aprimoramentos no desempenho e na segurança, além de melhorias significativas na plataforma. As melhorias de segurança incluem a expansão da cobertura do reCAPTCHA e a inclusão da limitação integrada da taxa. As dependências do compositor principal e as bibliotecas de terceiros foram atualizadas para as versões mais recentes compatíveis com o PHP 8.x. O Page Builder agora está disponível como uma extensão agrupada no Magento Open Source. Agora é a ferramenta de edição de conteúdo padrão para Adobe Commerce e Magento Open Source.

Esta versão inclui mais de 370 novas correções para código principal e 33 melhorias de segurança. Inclui a resolução de quase 290 problemas do GitHub por parte de nossos membros da comunidade. Essas contribuições da comunidade variam de uma pequena limpeza do código principal a melhorias significativas no GraphQL.

Esta versão inclui mais de 370 novas correções para código principal e 33 melhorias de segurança. Todos os problemas conhecidos identificados nas notas de versão do Magento Open Source 2.4.2 foram corrigidos nesta versão.

{{bics}}

Consulte [Notas de versão do Adobe Commerce 2.4.2-p2](../security/2-4-2-p2.md) para obter informações sobre o Adobe Commerce 2.4.2-p2.

## Outras informações de versão

Embora o código para esses recursos seja fornecido com versões trimestrais , vários desses projetos (por exemplo, Progressive Web Application (PWA) Studio) também são lançados independentemente. As correções de erros desses projetos estão documentadas nas informações separadas da versão específica do projeto, disponíveis na documentação de cada projeto.

## Aplicar `AC-3022.patch` continuar a oferecer à DHL como transportadora

A DHL introduziu o schema versão 6.2 e descontinuará o schema versão 6.0 em breve. Adobe Commerce 2.4.4 e versões anteriores que oferecem suporte à integração com a DHL somente a versão 6.0. Os comerciantes que implantam essas versões devem se aplicar `AC-3022.patch` logo que possível, continuar a oferecer à DHL como transportadora marítima. Consulte a [Aplicar um patch para continuar oferecendo a DHL como transportadora](https://support.magento.com/hc/en-us/articles/7707818131597-Apply-a-patch-to-continue-offering-DHL-as-shipping-carrier) Artigo da Base de conhecimento para obter informações sobre como baixar e instalar o patch.

## Aplique MC-43048__set_rate_limits__2.4.3.patch para solucionar o problema com a limitação da taxa de API

Esse hotfix fornece uma solução para o problema em que as APIs da Web não podem processar solicitações que contêm mais de 20 itens em uma matriz. Esse problema afeta as implantações que executam o Magento Open Source 2.4.3, Adobe Commerce 2.4.3 ou 2.3.7-p1. A limitação integrada da taxa foi adicionada a essas versões para evitar ataques de negação de serviço (DoS) e o máximo padrão foi definido como 20. Esse patch reverte o limite padrão para um valor mais alto. Se você suspeitar que sua loja está enfrentando um ataque DoS, o Adobe recomenda reduzir os limites de entrada padrão para um valor menor para restringir o número de recursos que podem ser solicitados. Consulte a [A API da Web não consegue processar solicitações com mais de 20 itens na matriz](https://support.magento.com/hc/en-us/articles/4406893342093) Artigo da Base de conhecimento.

## Aplique AC-384__Fix_Incompatível_PHP_Method__2.4.3_ce.patch para tratar do erro fatal PHP na atualização

O seguinte erro fatal pode ocorrer durante a atualização para o Magento Open Source 2.4.3:

```terminal
PHP Fatal error: Uncaught Error: Call to undefined function Magento\Framework\Filesystem\Directory\str_contains() in [...]/magento/vendor/magento/framework/Filesystem/Directory/DenyListPathValidator.php:74
```

Esse erro resulta do uso da variável `str_contains` , que é uma função PHP 8.x. O aplicativo Open Source 2.4.3 não é compatível com PHP 8.x. Esse hotfix substitui essa função por uma função PHP 7.x compatível. Consulte a [Adobe Commerce upgrade 2.4.3, 2.3.7-p1 Hotfix do erro fatal PHP](https://support.magento.com/hc/en-us/articles/4408021533069-Adobe-Commerce-upgrade-2-4-3-2-3-7-p1-PHP-Fatal-error-Hotfix) Artigo da Base de conhecimento.

## Destaques

Procure os seguintes destaques nesta versão.

### Melhorias substanciais na segurança

Esta versão inclui 33 correções de segurança e melhorias na segurança da plataforma. Muitas dessas correções de segurança foram enviadas para 2.4.2-p2 e 2.3.7-p1.

#### Trinta e três aprimoramentos de segurança que ajudam a fechar as vulnerabilidades de execução de código remoto (RCE) e script entre sites (XSS)

Até à data, não ocorreram ataques confirmados relacionados com estas questões. No entanto, certas vulnerabilidades podem ser exploradas para acessar informações do cliente ou tomar as sessões do administrador. A maioria desses problemas exige que um invasor obtenha acesso primeiro ao Administrador. Como resultado, lembramos que você deve tomar todas as medidas necessárias para proteger seu administrador, incluindo, entre outras, esses esforços:  de IP incluir na lista de permissões, [autenticação de dois fatores](https://devdocs.magento.com/guides/v2.4/security/two-factor-authentication.html), uso de uma VPN, uso de um local exclusivo em vez de `/admin`e boa higiene de senhas. Consulte [Aviso de segurança do Adobe](https://helpx.adobe.com/security/products/magento/apsb21-64.html) para uma discussão sobre estas questões fixas.

#### Melhorias adicionais na segurança

As melhorias de segurança desta versão melhoram a conformidade com as práticas recomendadas de segurança mais recentes, incluindo:

* A **novo plug-in do Composer** ajuda a evitar confusão de dependência e identifica pacotes mal-intencionados com os mesmos nomes dos pacotes internos no repositório de pacotes públicos. Consulte a [O Adobe lança o novo plug-in do Composer com a versão 2.4.3](https://magento.com/blog/best-practices/adobe-releases-new-composer-plugin-magento-243-release) postagem no blog.

* **A limitação de taxa agora é incorporada às APIs** para impedir ataques de negação de serviço (DoS). As APIs da Web agora impõem restrições sobre o tamanho ou o número de recursos (o máximo padrão é definido como 20 e pode ser configurado para um valor diferente com base na necessidade comercial) que podem ser solicitados por um cliente. Consulte [Limite de taxa](https://developer.adobe.com/commerce/webapi/get-started/api-security/) para obter informações sobre como configurar essas restrições. <!-- MC-35358-->

* **A cobertura do ReCAPTCHA foi ampliada** para incluir:

   * As APIs da Web que têm páginas HTML correspondentes são abordadas por meio de ReCAPTCHA. (Isso exclui APIs da Web acessadas por integrações.) A cobertura ReCAPTCHA protege pontos finais de ataques de spam. Quando as APIs da Web são acessadas por um serviço de integração de terceiros que usa OAuth, ReCAPTCHA é desativado.<!-- MC-34472-->

   * A página Colocar loja de pedidos e as APIs da Web relacionadas ao pagamento. A proteção ReCAPTCHA para essas páginas é desativada por padrão e pode ser ativada no Administrador. Essa cobertura adiciona um mecanismo de força anti-bruta para proteger lojas contra ataques de cartografia.

{{cve-notice}}

### Melhorias na infraestrutura

Esta versão contém aprimoramentos que melhoram a qualidade da estrutura e das seguintes áreas funcionais:

* Conta do cliente

* Catálogo

* CMS

* OMS

* Importar/Exportar

* Promoções e direcionamento

* Carrinho e Check-out

* B2B

* Preparo e visualização

**O Pagamento PayPal Mais Tarde agora é suportado** em implantações que incluem PayPal. Esse recurso permite que os compradores paguem um pedido em prestações quinzenais em vez de pagar o valor total no momento da compra. <!-- MC-40556-->

**Novo `use_application_lock` modo de indexação**. O `use_application_lock` O modo permite habilitar a reindexação por meio do uso de variáveis de ambiente ou configurando o `app/etc/env.php` arquivo. Não é mais necessário redefinir manualmente o indexador após a falha com esse modo ativado.  Consulte [Usando o modo de bloqueio de aplicativo para processos de reindexação](https://developer.adobe.com/commerce/php/development/components/indexing/#using-application-lock-mode-for-reindex-processes).

### Aprimoramentos da plataforma

A versão 2.4.3 ainda não é compatível com o PHP 8.x, mas as atualizações de plataforma a seguir nos aproximam da compatibilidade futura com o PHP 8.x.

* As dependências do Core Composer e as bibliotecas de terceiros foram atualizadas para as versões mais recentes compatíveis com o PHP 8.x. <!-- MC-39514-->

* A biblioteca KnockoutJS foi atualizada para v3.5.1 (a versão mais recente). <!-- MC-40694-->

* A biblioteca TinyMCE v3 obsoleta foi removida. O `Magento_Tinymce3Banner` os testes de módulo e MFTF relacionados ao TinyMCE v3.x foram removidos do Adobe Commerce. <!-- MC-42199 42170 -->

* O Magento Open Source 2.4.3 foi testado e confirmado como compatível com o Redis 6.0.12. (a versão 2.4.x permanece compatível com o Redis 5.x.)

* As dependências da biblioteca Laminas foram atualizadas para versões compatíveis com PHP 8.x. Algumas dependências redundantes foram removidas do `composer.json` arquivo. **O Magento Open Source 2.4.3 usa o Laminas 3.4.0**. <!-- MC-39513-->

### Melhorias de desempenho

Esta versão inclui aprimoramentos que diminuem o tempo de indexação para o Preço do produto e os indexadores da Regra do catálogo. Os comerciantes agora podem excluir um site de um grupo de clientes ou catálogo compartilhado, o que reduz o número de registros para indexação e melhora os tempos de indexação.

### Integração do Adobe Stock

Esta versão inclui a Adobe Stock Integration v2.1.1.

### GraphQL

Esta versão adiciona a cobertura GraphQL para rotas compartilhadas. O [consulta de rota](https://devdocs.magento.com/guides/v2.4/graphql/queries/route.html) e [RoutableInterface](https://devdocs.magento.com/guides/v2.4/graphql/interfaces/routable-interface.html) oferecem suporte a solicitações de roteamento em páginas de produto, categoria e CMS. O `urlResolver` O query foi substituído e sua funcionalidade foi substituída pelo `route` query.

Consulte a [Guia do desenvolvedor do GraphQL](https://devdocs.magento.com/guides/v2.4/graphql/) para obter detalhes sobre essas melhorias.

### Page Builder

O Page Builder agora está disponível como uma extensão agrupada no Magento Open Source. Agora é a ferramenta de edição de conteúdo padrão do Adobe Commerce 2.4.3 e do Magento Open Source 2.4.3. Ela pode substituir o editor WYSIWG por qualquer módulo de terceiros.

O Page Builder substitui o Editor do TinyMCE nas seguintes áreas de Administração:

* Página CMS
* Bloco CMS
* Descrição da Categoria
* Descrição do produto

Todo o conteúdo criado no TinyMCE foi migrado para o Page Builder como HTML.

### PWA Studio

Para obter informações sobre aprimoramentos e correções de erros, consulte [Versões de PWA Studio](https://github.com/magento/pwa-studio/releases). Consulte [compatibilidade](https://developer.adobe.com/commerce/pwa-studio/integrations/adobe-commerce/version-compatibility/) para obter uma lista de versões do PWA Studio e suas versões compatíveis.

### Ferramenta de compatibilidade de atualização

O âmbito da [Ferramenta de compatibilidade de atualização](https://experienceleague.adobe.com/docs/commerce-operations/upgrade-guide/upgrade-compatibility-tool/overview.html) O foi expandido com base no feedback da comunidade. Junte-se ao nosso [#upgrade-compatibility-tool](https://magentocommeng.slack.com/archives/C019Y143U9F) Canal de Slack para obter suporte da equipe de produtos do Adobe e da comunidade, bem como para ajudar a orientar a direção futura da ferramenta.

### Extensões desenvolvidas do fornecedor

Consulte os seguintes artigos para obter atualizações sobre recursos e alterações desta versão:

* [Amazon Pay](https://docs.magento.com/user-guide/payment/amazon-pay.html)

* [Braintree](https://docs.magento.com/user-guide/payment/braintree.html)

* [dotdigital Engagement Cloud](../../../upgrade/modules/upgrade.md)

* [Klarna](https://docs.magento.com/user-guide/payment/klarna.html)

* [Nuvem de vértex](https://docs.magento.com/user-guide/tax/vertex.html)

* [Revisões do produto Yotpo](../../../upgrade/modules/upgrade.md)

## Problemas corrigidos

Corrigimos centenas de problemas no código principal 2.4.3.

### Instalação, atualização, implantação

<!-- MC-41154-->

* O `bin/magento setup:db:status` agora retorna uma mensagem indicando que tudo está atualizado após uma atualização bem-sucedida. Anteriormente, o aplicativo exibia esse erro: `Declarative Schema is not up to date`.

<!-- MC-40031 -->

* Os valores de configuração agora são preservados no recarregamento do formulário quando a criação de um novo produto configurável falha. Anteriormente, os valores eram perdidos durante o recarregamento do formulário e o aplicativo exibia esse erro: `The value specified in the URL Key field would generate a URL that already exists`. [GitHub-32102](https://github.com/magento/magento2/issues/32102)

<!-- MC-37596-->

* O aplicativo não gera mais uma exceção ao executar `bin/magento setup:upgrade` para atualizar de uma implantação do Magento Open Source com Redis para Adobe Commerce.

<!-- ENGCOM-8508 -->

* Implantações em execução no Galera Cluster agora oferecem suporte a mais clientes. [GitHub-31038](https://github.com/magento/magento2/issues/31038)

<!-- ENGCOM-9036 MC-41938 -->

* Agora, os administradores podem fazer logon em uma implantação com êxito quando o aplicativo tiver sido instalado com a variável `—use-rewrites=0` ou com `web/seo/use_rewrites` definido como 0 pol `core_config_data_table`. [GitHub-32100](https://github.com/magento/magento2/issues/32100)

<!-- ENGCOM-8451 -->

* Atualizado `sortOrder` carregar para `AsyncCssPlugin`. O aplicativo agora carrega `AsyncCssPlugin` before `JsFooterPlugin`. [GitHub-30882](https://github.com/magento/magento2/issues/30882)

<!-- ENGCOM-8701 -->

* `Magento\Config\Model\Config\PathValidator` agora verifica o caminho de exibição para determinar se um elemento existe e, se ele tem um caminho de configuração, usa a variável `config.xml` caminho em vez de validação. [GitHub-27678](https://github.com/magento/magento2/issues/27678)

<!-- ENGCOM-8684 -->

* A compilação de Menos arquivos com Grunt ou por compilação de servidor agora gera os mesmos resultados. Anteriormente. `.abs- styles`, que abrange outros `.abs- styles` em `_extends.less`, não foram gerados corretamente quando compilado com Grunt. Isso resultava em diferenças entre implantações de produção e desenvolvimento. [GitHub-7231](https://github.com/magento/magento2/issues/7231)

### Integração do Adobe Stock

<!-- MC-39754-->

* O aplicativo agora exibe uma mensagem informativa e um link para o Administrador **Lojas** > **Configuração** > **Avançado** > **Sistema** na página Pesquisar Adobe Stock quando **Chave da API (ID do cliente)** e **Segredo do cliente** não estão definidas. Anteriormente, o aplicativo exibia esse erro: `We couldn't find any records` e sem link.

### Back-end

<!-- MC-40389-->

* Os administradores com acesso restrito (por exemplo, que recebem acesso somente a um site) não podem mais editar categorias definidas como escopo Global.

<!-- MC-39037-->

* O relatório de Sistema gerado (**Sistema** > **Suporte** > **Relatório do sistema**) agora é renderizada corretamente. Anteriormente, o conteúdo do relatório estava desalinhado.

<!-- MC-30152 ENGCOM-8625-->

* O aplicativo agora desativa a validação na **Preço** como esperado quando a função **Preço dinâmico** é ativada durante a criação do produto do pacote. Anteriormente, o aplicativo exibia um erro de validação ao remover um valor do **Preço** quando a variável **Preço dinâmico** foi ativada. [GitHub-26214](https://github.com/magento/magento2/issues/26214)

<!-- MC-24840-->

* Redirecionamentos infinitos não ocorrem mais quando o URL de administrador difere do URL padrão do site em implantações em que o aplicativo está configurado para ser acessível de dois URLs.

### Produtos do pacote

<!-- MC-41810-->

* Agora você pode usar o `addProductsToCart` mutação para adicionar um produto de pacote com mais de uma opção de caixa de seleção ao carrinho.

<!-- MC-41614-->

* A indexação de preço de produtos de pacote agora é executada usando tabelas temporárias, o que evita o bloqueio de tabelas de banco de dados. Anteriormente, o aplicativo usava tabelas físicas, o que resultava em tabelas bloqueadas.

<!-- MC-41177 magento/magento2#32594-->

* O preço de um item de pacote agora pode ser definido como 0,00. Anteriormente, quando você retornava à página de edição após definir o preço como 0,00, o preço retornava ao seu valor padrão. [GitHub-32383](https://github.com/magento/magento2/issues/32383)

<!-- MC-40603-->

* Os detalhes do pedido para pedidos que contêm produtos do pacote agora mostram o preço correto para os produtos do pacote se o preço foi alterado antes do pedido ser feito.

<!-- MC-40035-->

* O status do estoque de produtos do pacote foi atualizado com base no status do estoque de seus produtos filho. Anteriormente, os produtos do pacote eram mostrados como indisponíveis quando uma opção era removida do produto e o produto do pacote tinha duas opções com o mesmo SKU.

<!-- MC-39276-->

* Um administrador agora pode alterar o valor de um produto de pacote `Shipment Type` após ter sido movido para um grupo de atributos diferente. Anteriormente, esse atributo era sempre salvo com um `Together` se ele tiver sido movido para um grupo de atributos diferente do grupo padrão no conjunto de atributos.

<!-- MC-38900-->

* A GraphQL `setGuestEmailOnCart` agora, a mutação atualiza corretamente o email de convidado. Anteriormente, as tabelas de endereço de cotação e cotação não eram atualizadas.

<!-- MC-37719-->

* Adicionar, remover ou atualizar um produto filho em um pacote por meio de chamadas REST API agora aciona a reindexação conforme esperado. Anteriormente, essas ações não acionavam a reindexação e, como resultado, o produto do pacote não alterava seu status de estoque até que a reindexação manual fosse executada.

<!-- MC-35725 ENGCOM-8568-->

* O aplicativo agora exibe o intervalo de preço correto para produtos de pacote com preços de camada. [GitHub-30284](https://github.com/magento/magento2/issues/30284)

<!-- MC-35638-->

* O aplicativo agora exibe o mesmo preço total esperado na página do carrinho de compras e na etapa de envio do fluxo de trabalho de finalização após a alteração do preço de uma opção de pacote.

<!-- MC-32617-->

* Agora é possível configurar um produto de pacote com êxito acessando-o de um carrinho de compras do cliente. Anteriormente, a página Configurar produto nunca era totalmente carregada e não era possível salvar suas configurações.

<!-- MC-30317 ENGCOM-7141-->

* Os comerciantes agora podem atribuir um preço exclusivo para um produto de pacote em cada visualização de loja de uma implantação de várias lojas. Os preços específicos do site são salvos na variável `catalog_product_bundle_selection_price` tabela. Anteriormente, o aplicativo não baseava o preço de um produto de pacote no escopo do site mesmo quando  **Lojas** > **Configuração** > **Catálogo** > **Catálogo** > **Preço** > **Escopo do Preço do Catálogo** foi definido como `Website`. Nenhum preço específico do site foi salvo em `catalog_product_bundle_selection_price`. [GitHub-12584](https://github.com/magento/magento2/issues/12584)

<!-- ENGCOM-8705 MC-38953-->

* As faturas de produtos de pacote agora exibem a quantidade correta para os produtos simples associados quando **Preços dinâmicos** está desativado. Anteriormente, os produtos simples associados ao produto do pacote tinham a quantidade do produto principal, não o produto do pacote). [GitHub-30802](https://github.com/magento/magento2/issues/30802)

<!-- magento/magento2#30374 MC-36930-->

* O `updateProductsInWishlist` agora, a mutação atualiza com êxito itens que pertencem a um produto de pacote em uma lista de desejos. Anteriormente, em vez de atualizar o item da lista de desejos, essa mutação excluía o item e criava um novo, que alterava a ID do item.

### Cache

<!-- ENGCOM-8554-->

* O `varnish6.vcl` O arquivo foi atualizado para ignorar o armazenamento em cache da página do cliente.

### CAPTCHA

<!-- MC-41572-->

* O CAPTCHA agora valida corretamente os dados fornecidos por um comprador, e os campos CAPTCHA agora são exibidos como esperado após várias tentativas malsucedidas de um comprador para fazer check-out com o PayPal Payflow Pro.

<!-- MC-41281-->

* A validação CAPTCHA não falha mais aleatoriamente na página de pagamento do fluxo de trabalho de finalização.

<!-- MC-41001-->

* O aplicativo agora exibe os campos CAPTCHA conforme esperado após exceder o número de tentativas de conclusão com falha. Anteriormente, embora o aplicativo solicitasse que você tentasse o desafio CAPTCHA novamente, ele não exibia os campos CAPTCHA.

<!-- MC-40359-->

* O CAPTCHA agora funciona conforme o esperado na página de check-out. Anteriormente, depois que um comprador respondia corretamente a um desafio CAPTCHA, o carregador na página de checkout nunca era concluído e o aplicativo exibia esse erro: `captchaData[formId] is undefined`. (Esse erro ocorria somente quando o comprador usava o mesmo navegador do qual ele tinha acessado anteriormente uma implantação em execução 2.3.5-p1.)

<!-- ENGCOM-8630-->

* `_.isEmpty()` dos `defaultCaptcha.js` arquivo concluído com êxito. Anteriormente, essas verificações não eram concluídas e, como resultado, a página de check-out não era carregada após a atualização. [GitHub-31641](https://github.com/magento/magento2/issues/31641)

### Carrinho e check-out

<!-- MC-41911-->

* O aplicativo agora considera localizadores decimais específicos da localidade ao converter e atualizar a quantidade do produto no carrinho.

<!-- MC-40657-->

* O aplicativo agora exibe a mensagem de validação de Termos e Condições no bloco relevante somente quando um comprador clica no **Colocar pedido** botão. Anteriormente, o aplicativo exibia essa mensagem no bloco Aplicar código de desconto sempre que um comprador alterava o método de pagamento no fluxo de trabalho de finalização: `The order wasn't placed. First, agree to the terms and conditions, then try placing your order again`.

<!-- MC-39581-->

* O aplicativo agora descarta alterações no formulário de endereço de faturamento na etapa de pagamento de finalização se o comprador não clicar no **Atualizar** e retornou à etapa de envio.

<!-- MC-37807 ENGCOM-8530-->

* Produtos com uma opção personalizável `(File)` agora inclui links ativos, conforme esperado, durante o processo de finalização de várias entregas. Anteriormente, esse link estava ausente. [GitHub-31095](https://github.com/magento/magento2/issues/31095)

<!-- MC-37689-->

* O carrinho de compras do Administrador agora exibe os preços do produto em moedas corretas para lojas que oferecem suporte a várias moedas. Anteriormente, os preços eram convertidos para a moeda especificada mais de uma vez — primeiro, quando os produtos eram adicionados ao carrinho pela loja e depois novamente quando o pedido era renderizado subsequentemente no Administrador.

<!-- MC-35640-->

* Os compradores agora podem adicionar um produto ao carrinho cujo Preço Mínimo Anunciado (MAP) excede seu preço normal do produto.

<!-- MC-35289-->

* Os compradores agora podem alterar o endereço de faturamento do fluxo de trabalho de finalização ao fazer check-out com vários endereços.

<!-- MC-29335 magento/magento2#32251 -->

* Todas as transações de pagamento pago criadas por convidados agora são salvas no banco de dados e visíveis no Administrador, conforme esperado. Anteriormente, apenas um pequeno subconjunto de pedidos simultâneos era salvo no banco de dados e a maioria dos pedidos era perdida devido a tempos limite que resultavam de bloqueios de banco de dados. [GitHub-25862](https://github.com/magento/magento2/issues/25862)

<!-- MC-23989-->

* O aplicativo agora exibe corretamente mensagens de boas-vindas em linha que contêm caracteres especiais quando um convidado coloca um produto no minicarrinho. Anteriormente, o aplicativo não adicionava o produto ao minicarrinho ou exibia a mensagem de boas-vindas. [GitHub-32250](https://github.com/magento/magento2/issues/32250)

<!-- MC-41165-->

* A página de envio do workflow de check-out agora é carregada com êxito quando a entrega na loja é ativada. Anteriormente, o aplicativo exibia um erro de JavaScript e a página de check-out de envio não era totalmente renderizada.

<!-- ENGCOM-9006-->

* Adicionado o `itemResolvers` argumento para o catálogo `di.xml` arquivo. Como resultado, o check-out não será mais interrompido se os módulos de produto configuráveis e agrupados estiverem desativados. [GitHub-30860](https://github.com/magento/magento2/issues/30860)

<!-- ENGCOM-8944-->

* O aplicativo agora exibe os botões de opção na **Informações sobre Pagamento e Entrega** conforme esperado durante o workflow de reordenação do administrador. [GitHub-30257](https://github.com/magento/magento2/issues/30257)

<!-- MC-39158 ENGCOM-8493-->

* O aplicativo agora aplica corretamente as regras de preço do carrinho com um desconto fixo em nível de carrinho quando o carrinho contém um produto de pacote com várias opções. Anteriormente, a regra de preço do carrinho não era totalmente aplicada ao pedido. [GitHub-30952](https://github.com/magento/magento2/issues/30952)

<!-- MC-40983 ENGCOM-8828-->

* O **Adicionar ao carrinho** agora funciona como esperado. [GitHub-32232](https://github.com/magento/magento2/issues/32232)

<!-- ENGCOM-8490-->

* Agora você pode usar o POST `/V1/carts/mine/items` para adicionar uma quantidade personalizada de produtos agrupados ao carrinho. [GitHub-26909](https://github.com/magento/magento2/issues/26909)

<!-- ENGCOM-8886-->

* O aplicativo não preenche mais a área de endereço de faturamento do workflow de finalização com o endereço de envio. Anteriormente, quando a variável **Estado/Província** o campo para o endereço de faturamento estava vazio e os endereços de envio e faturamento eram diferentes, o aplicativo preenchia o endereço de faturamento **Estado/Província** com informações do endereço de entrega. [GitHub-31608](https://github.com/magento/magento2/issues/31608)

### Catálogo

<!-- MC-36787-->

* Atualização em massa de **Ativar incrementos de quantidade** e **Incrementos de Qtd** os atributos agora funcionam como esperado. [GitHub-29544](https://github.com/magento/magento2/issues/29544)

<!-- MC-41575-->

* O aplicativo não gera mais um erro de JavaScript depois que você habilita a sincronização de produtos recentes com o Administrador. Anteriormente, o aplicativo exibia esse erro de JavaScript: `Cannot read property 'status' of undefined`.

<!-- MC-41534-->

* As atualizações de layout de tema personalizado agora são aplicadas conforme esperado. Anteriormente, as atualizações de layout de tema personalizado eram ignoradas.

<!-- MC-41499-->

* O cache de categoria do produto agora é limpo conforme esperado por `cron` during `indexer_update_all_views` execução. Anteriormente, as contagens de produtos na página Categoria após a reindexação estavam incorretas.

<!-- MC-41422-->

* Agora, os valores de atributos permanecem inalterados quando um atributo não é especificado em uma solicitação de API REST de atualização de produto para uma exibição de loja. Anteriormente, se um atributo não fosse especificado, o aplicativo redefiniria o valor do atributo para seu valor de escopo padrão.

<!-- MC-41284-->

* A grade de produtos Administradores (Administrador) **Catálogo** > **Produtos**) agora exibe a contagem correta de produtos quando os produtos são filtrados por SKU.

<!-- MC-40873-->

* O aplicativo agora exibe um status de estoque preciso quando um produto é adicionado a uma página CMS quando Permissões de categoria são ativadas e impede a exibição do preço para o grupo do cliente especificado. Anteriormente, todos os produtos eram mostrados como indisponíveis, independentemente do status do estoque real.

<!-- MC-40859-->

* O campo de entrada de preço de bloco de Preço do Grupo de Clientes de Precificação Avançada agora tem uma largura mínima de cinco dígitos. Anteriormente, apenas dois símbolos estavam visíveis nesse campo em exibições de baixa resolução.

<!-- MC-40825-->

* O aplicativo agora exclui com êxito uma imagem de mídia de produto após excluir um produto. Anteriormente, a imagem da mídia do produto permanecia na pasta após a exclusão bem-sucedida do produto.

<!-- MC-40811 magento/magento2#32042-->

* O layout da página agora é atualizado conforme esperado quando você cria ou edita um produto no Administrador e, em seguida, cria uma Atualização de design agendada. [GitHub-32007](https://github.com/magento/magento2/issues/32007)

<!-- MC-40773-->

* Um atributo de produto personalizado com valor zero agora pode ser salvo com êxito como em branco. Anteriormente, o aplicativo não atualizava esse valor para em branco.

<!-- MC-40736 ENGCOM-8789-->

* Os arquivos de atualização de layout de categoria personalizada agora se aplicam aos produtos conforme esperado. Anteriormente, o identificador do arquivo de atualização (`catalog_category_view_*`) não correspondia ao identificador do produto. [GitHub-27285](https://github.com/magento/magento2/issues/27285)

<!-- MC-40679-->

* A classificação foi desativada para a coluna Imposto fixo do produto (FPT) da lista de produtos Admin. Anteriormente, a página Produtos não podia ser recarregada após a coluna FPT ter sido classificada.

<!-- MC-40443-->

* A visualização do widget de produtos do Page Builder agora funciona conforme o esperado em uma implantação de vários sites, quando os produtos correspondentes têm um preço diferente em cada site.

<!-- MC-40344 ENGCOM-8629-->

* Classificação por posição na pesquisa de produto usando o GET `/rest/V1/products/?searchCriteria[filterGroups]` O agora funciona conforme o esperado. Anteriormente, a coleção de produtos não tinha um campo `position` para classificação. [GitHub-31591](https://github.com/magento/magento2/issues/31591)

<!-- MC-40122-->

* Agora, os usuários administradores podem visualizar espaços duplos na **Nome** e **SKU** na grade do produto. Anteriormente, o aplicativo recolhia vários espaços em um único espaço.

<!-- MC-39869-->

* Os produtos agora são exibidos como esgotados na loja quando a quantidade comercializável no Administrador é 0. Anteriormente, esses produtos eram listados como em estoque na loja e o aplicativo exibia um ativo **Adicionar ao carrinho** botão. [GitHub-31117](https://github.com/magento/magento2/issues/31117)

<!-- MC-39809-->

* Agora, os administradores podem adicionar produtos com opções personalizáveis `(File)` à grade Itens solicitados na seção Carrinho de compras (coluna Atividades do cliente) da página Cliente administrador. Anteriormente, o aplicativo não adicionava o item à lista porque o valor não era formatado corretamente antes de ser inserido em `\Magento\Catalog\Model\Product\Type\AbstractType::_prepareOptions`.

<!-- MC-39619-->

* O aplicativo não solicita mais que os compradores selecionem uma opção de produto para um produto empacotado que tenha apenas uma opção.

<!-- MC-39617-->

* O aplicativo agora exibe todas as subcategorias em atualizações de layout (categorias de âncora e não âncora) durante a criação de um novo widget.

<!-- MC-39481-->

* O `product` O query não substitui mais os valores padrão de todas as exibições de loja em uma implantação de várias lojas quando um nome de produto é atualizado apenas para uma exibição de loja. [GitHub-31083](https://github.com/magento/magento2/issues/31083)

<!-- MC-39470 magento/magento2#31492-->

* O Magento Open Source atualiza a contagem total de páginas conforme esperado quando você altera o valor por página dos Produtos Relacionados a Administradores, Vendas Antecipadas e Vendas Cruzadas. [GitHub-31059](https://github.com/magento/magento2/issues/31059)

<!-- MC-39444-->

* Agora, os administradores podem adicionar produtos com duas ou mais opções personalizáveis `(File)` para um pedido por SKU.

<!-- MC-39140-->

* O aplicativo não gera mais um erro quando um administrador com permissões restritas adiciona um widget de Produto a uma página CMS no Administrador. Anteriormente, o aplicativo exibia esse erro quando o administrador clicava no **Salvar** botão:  `We are sorry, an error has occurred while generating the content`.

<!-- MC-39134-->

* As páginas de detalhes do produto agora são abertas com a opção de data personalizável preenchida com a data da ordem anterior quando **Usar calendário do JavaScript** estiver ativado. O resolvedor de valor da opção de data personalizada agora retorna para um formato alternativo se o valor não for formatado com base na configuração atual. Anteriormente, o valor da opção de data personalizada estava vazio.

<!-- MC-39104-->

* O aplicativo agora exibe apenas um erro no carrinho quando o produto está indisponível. Anteriormente, o aplicativo exibia mensagens redundantes. [GitHub-27469](https://github.com/magento/magento2/issues/27469)

<!-- MC-38575-->

* Agora é possível definir a variável `required_options` e `has_options` atributos de pacote conforme esperado ao criar ou atualizar um produto de pacote usando o `POST /V1/product/:sku` endpoint . Anteriormente, esses atributos personalizados eram definidos como 0 (zero) apesar dos esforços para configurá-los como 1 (um).

<!-- MC-35717  magento/partners-magento2ee#427-->

* Agora, os administradores podem adicionar um produto com uma opção personalizável `(File)` para um pedido por SKU. [GitHub-30285](https://github.com/magento/magento2/issues/30285)

<!-- MC-30625-->

* Agora você pode salvar um produto e um preço sem especificar `type_id`. [GitHub-13639](https://github.com/magento/magento2/issues/13639)

<!-- MC-39024-->

* Os produtos do grupo agora estão disponíveis na loja, como esperado, quando um REST `PUT /V1/products/:sku/links` é usada para associar um novo produto filho a um novo produto de grupo. Anteriormente, os produtos não eram indexados corretamente após a execução `bin/magento cron:run`.

<!-- ENGCOM-9010 8947-->

* Não é mais possível criar um produto com uma `NULL` Valor de SKU. Anteriormente, você podia criar um produto sem um valor de SKU por meio de um importador personalizado ou diretamente no banco de dados, mas ao tentar editá-lo pelo Administrador, o aplicativo exibia um erro. [GitHub-27411](https://github.com/magento/magento2/issues/27411), [GitHub-32525](https://github.com/magento/magento2/issues/32525)

<!-- ENGCOM-8902-->

* Adicionar as opções personalizadas necessárias a um produto simples não o remove mais dos produtos compostos pai sem aviso prévio. O aplicativo agora exibe um aviso informativo e não salva o produto.  Anteriormente, o aplicativo salvava as alterações do produto e não exibia um aviso. [GitHub-30492](https://github.com/magento/magento2/issues/30492)

### Regra de catálogo

<!-- MC-39896-->

* O `products` agora retorna os valores atuais quando uma regra de preço de catálogo se aplica a um item. [GitHub-26738](https://github.com/magento/magento2/issues/26738)

<!-- ENGCOM-8367-->

* Tabelas temporárias que começam com `catalogrule_product__temp` agora são excluídas conforme esperado quando a reindexação falha após uma regra de carrinho ou catálogo expirar, estiver desativada ou se tornar inativa. [GitHub-22273](https://github.com/magento/magento2/issues/22273)

<!-- ENGCOM-8949-->

* Agora, os fusos horários são aplicados da mesma maneira em `\Magento\CatalogRule\Model\Indexer\IndexBuilder::reindexById` e `\Magento\CatalogRule\Model\Indexer\IndexBuilder::reindexByIds`. [GitHub-29549](https://github.com/magento/magento2/issues/29549)

### Conteúdo CMS

<!-- MC-41471-->

* Imagens grandes agora são redimensionadas como esperado durante o upload quando a variável **Ativar Redimensionamento de Frontend** a configuração está ativada.

<!-- MC-40663 ENGCOM-8883-->

* Correção do tratamento de erros para o controlador de salvamento de Página CMS. Anteriormente, ao `Error` foi lançado no `cms_page_prepare_save` , o aplicativo enviou esse objeto para a `addExceptionMessage` , quebrando seu contrato porque essa função espera um `Exception`. Isso foi resolvido adicionando uma mensagem de erro usando o `addErrorMessage` . [GitHub-30149](https://github.com/magento/magento2/issues/30149)

### Produtos configuráveis

<!-- MC-40719-->

* O aplicativo não duplica mais miniaturas de produtos na galeria de imagens de um produto ao clicar nas opções configuráveis de um produto.

<!-- MC-37418-->

* O pop-up de configuração que o aplicativo exibe quando você está editando um produto configurável de uma lista de desejos agora é fechado como esperado quando você clica no **OK** botão.

<!-- MC-39878  magento/magento2#31472-->

* O aplicativo agora gera faturas corretamente para pedidos que contêm apenas um produto configurável. [GitHub-31143](https://github.com/magento/magento2/issues/31143)

<!-- ENGCOM-8673-->

* Os compradores agora podem adicionar produtos configuráveis ao carrinho a partir de uma visualização de loja não padrão. Anteriormente, quando o comprador em uma visualização de loja não padrão tentava adicionar um produto configurável, o aplicativo exibia este erro: `Could not add item to cart. Please check required options and try again`. [GitHub-31660](https://github.com/magento/magento2/issues/31660)

### Política de segurança de conteúdo (CSP)

<!-- ENGCOM-8577-->

* A Política de segurança de conteúdo agora é compatível com o carregamento de imagens e fontes codificadas na base64 por meio de `data: scheme`.

### cron

<!-- MC-30804-->

* As consultas de limpeza de Cron foram refatoradas para reduzir ou eliminar os seguintes problemas de desempenho: `cron` tarefas que permanecem paradas em um estado pendente, consultas MySQL cada vez mais lentas e um aumento no uso da CPU. [GitHub-26507](https://github.com/magento/magento2/issues/26507)

<!-- ENGCOM-8571-->

* `cronjobs` que tenham estado `running` por mais de 24 horas agora são alteradas automaticamente para o status `error`.  Como resultado, uma nova instância desse trabalho poderá ser executada novamente e você não precisará alterar manualmente o status do trabalho quando um trabalho permanecer incorretamente definido como status `running`. Anteriormente, se uma `cronjob` estavam presos no status `running`, o aplicativo impediu a inicialização de novas instâncias do mesmo trabalho e você precisou alterar manualmente o status do trabalho. [GitHub-8933](https://github.com/magento/magento2/issues/8933)

<!-- ENGCOM-8571-->

* `cron` os trabalhos agora são concluídos conforme esperado e não exibem mais esse erro de serialização:  `[Magento\Framework\DB\Adapter\DeadlockException]SQLSTATE[40001]: Serialization failure: 1213 Deadlock found when trying to get lock; try restarting transaction, query was: DELETE FROM cron_schedule WHERE (status = 'missed') AND (job_code in ('indexer_reindex_all_invalid', 'indexer_update_all_views', 'indexer_clean_all_changelogs')) AND (created_at < '2018-09-28 18:32:28')`. [GitHub-18409](https://github.com/magento/magento2/issues/18409)

<!-- ENGCOM-8571-->

* `indexer_update_all_views`  os trabalhos do cron agora são executados como esperado após uma falha anterior. A execução com falha é marcada como uma falha no `cron_schedule schedule`e a execução subsequente não falha automaticamente. Anteriormente, o `cron_schedule` tabela preenchida com trabalhos pendentes e `indexer_update_all_views` trabalho cron não foi executado. [GitHub-23054](https://github.com/magento/magento2/issues/23054)

<!-- ENGCOM-8571-->

* `cron` os bloqueios não ocorrem mais como resultado de `cron` tentando definir um bloqueio em implantações grandes onde os grupos se sobrepuseram. [GitHub-8933](https://github.com/magento/magento2/issues/8933)

<!-- ENGCOM-8571-->

* `cron` os bloqueios não ocorrem mais no `cron_schedule` tabela após apenas alguns `cron` tarefas foram executadas. [GitHub-22438](https://github.com/magento/magento2/issues/22438)

### Atributos personalizados do cliente

<!-- MC-41611-->

* O **Estado** no catálogo de endereços da conta do cliente da loja é carregado como e permanece como um elemento de página suspensa. O **Enviar** agora fica desativado até que todos os elementos da página tenham sido completamente carregados. Anteriormente, o aplicativo carregava esse campo como uma caixa de texto antes de renderizá-lo como um elemento suspenso, e os compradores podiam inserir e salvar valores no campo de texto, o que causava um erro durante o check-out.

<!-- MC-40329-->

* O aplicativo não gera mais um erro ao salvar um atributo de endereço do cliente com um anexo de arquivo no campo Endereço do cliente de administração ao carregar arquivos. Isso ocorreu devido a uma declaração de retorno ausente na ação do controlador. Anteriormente, o aplicativo exibia esse erro: `Something went wrong while saving the file`.

<!-- MC-39354-->

* As chamadas REST GET Cart API agora retornam valores de atributos personalizados corretos para endereços de faturamento e envio. Anteriormente, os atributos de endereço personalizados eram exibidos incorretamente na página de detalhes do pedido, na página Minha loja de contas e em Administrador.

<!-- MC-24495-->

* O aplicativo agora manipula com êxito arquivos que contêm atributos de endereço do cliente com tipo de entrada `file (attachment)`. Anteriormente, o aplicativo exibia esse erro durante o upload do arquivo anexado: `Something went wrong while saving the file`.

### Cliente

<!-- MC-40579-->

* A filtragem por data de criação de conta agora produz resultados que estão em conformidade com as configurações de fuso horário e que capturam todas as contas criadas relevantes.

<!-- MC-40502-->

* O filtro de grade do cliente agora usa uma opção correta de site para um usuário restrito se os dados tiverem sido armazenados em cache anteriormente. Anteriormente, o filtro de grade do cliente recuperava parâmetros do site do cache e incluía dados incorretos para usuários restritos.

<!-- MC-39189-->

* O aplicativo não gera mais uma exceção na página Clientes administradores , quando um site é excluído em uma implantação de vários sites. Anteriormente, quando um administrador tentava acessar a lista abrangente de clientes, o aplicativo não exibia todos os clientes e exibia este erro: `The website with id 2 that was requested wasn't found. Verify the website and try again`.

<!-- MC-38913-->

* Os administradores com permissão agora podem reatribuir a atribuição de clientes a sites diferentes da guia Informações da conta do cliente.

<!-- MC-39852-->

* Agora é possível fazer upload de um arquivo com êxito ao criar um atributo de endereço do cliente com um tipo de entrada de `(File)`. Anteriormente, quando você tentava fazer upload e salvar um arquivo, o aplicativo exibia esse erro: `Something went wrong while saving the file`.

### Diretório

<!-- MC-39520-->

* O aplicativo não gera mais uma exceção quando um comprador insere um CEP/código postal inválido durante a seção de envio do fluxo de trabalho de finalização. [GitHub-23371](https://github.com/magento/magento2/issues/23371)

### Baixável

<!-- MC-35779-->

* O aplicativo agora exibe links para produtos baixáveis no email Novo pedido quando o pedido contém um produto baixável e um produto configurável com uma opção baixável. Anteriormente, o aplicativo exibia o link para o produto independente baixável, mas não o link para o produto configurável com uma opção baixável.

### EAV

<!-- MC-41756-->

* Os valores de data do atributo do endereço do cliente agora são salvos no formato de quatro dígitos, em vez do formato de dois dígitos.

### Email

<!-- MC-39757-->

* O link de redefinição de senha na página Redefinir senha do administrador agora funciona como esperado. Anteriormente, quando um modelo personalizado era usado para a página redefinir senha do administrador, o aplicativo exibia essa mensagem quando um administrador clicava no link dentro do email: `Your password reset link has expired`. Isso ocorreu porque o modelo de email personalizado continha a variável incorreta para a ID do usuário.

<!-- MC-41588-->

* O envio de email do cliente pelo Administrador agora funciona corretamente quando ativado no nível de visualização da loja. Anteriormente, o aplicativo não enviava emails do cliente quando as configurações de notificação de email eram ativadas no nível de visualização da loja, mas não no nível global.

<!-- MC-40950-->

* O aplicativo agora envia emails conforme esperado em implantações de vários sites, onde nem todos os sites habilitaram o envio assíncrono de email. Anteriormente, se pelo menos um site tivesse essa configuração desativada, o email não era enviado de nenhum site, mesmo quando ativado. Os emails de NFF, Entrega e Aviso de Crédito tinham problemas semelhantes. No entanto, os emails Comentários da Ordem, Comentários da NFF, Comentários da Entrega e Comentários do Aviso de Crédito foram enviados com êxito. [GitHub-31950](https://github.com/magento/magento2/issues/31950)

<!-- MC-30127 magento/magento2#31455-->

* As faturas e PDF de fatura agora incluem os mesmos preços para produtos de pacote que o esperado. Anteriormente, os PDF de fatura incluíam o preço incorreto para produtos de pacote. [GitHub-12856](https://github.com/magento/magento2/issues/12856)

<!-- ENGCOM-9021-->

* A transmissão de cadeia de caracteres foi adicionada ao método de filtro de modelo de email para garantir que o valor de retorno seja um `string`. Anteriormente, quando uma exceção era capturada enquanto não estava no modo de desenvolvedor, o aplicativo retornava um `phrase` objeto. Isto, por sua vez, provocou uma morte `Uncaught TypeError`. [GitHub-32671](https://github.com/magento/magento2/issues/32671)

<!-- ENGCOM-8807-->

* Os emails de confirmação de pedido agora são enviados conforme esperado quando o envio assíncrono é ativado (**Lojas**  >  **Configuração**  >  **Vendas**  > **Emails de vendas**  >  **Configurações gerais**  >  **Envio assíncrono**) em um site em uma implantação de vários sites. [GitHub-31950](https://github.com/magento/magento2/issues/31950)

<!-- MC-18023 ENGCOM-9000-->

* O aplicativo agora registra um erro, como esperado, quando uma exceção ocorre enquanto um cliente tenta enviar um email a partir do formulário Fale conosco . [GitHub-23645](https://github.com/magento/magento2/issues/23645)

### Estruturas

<!-- MC-41712-->

* As classes pai no Admin agora são verificadas para anotação de bloco de documento junto com a classe original e as interfaces herdadas. Anteriormente, como as classes pai não eram verificadas, executar qualquer ação relacionada ao cliente no Administrador que acionava um evento resultava em um erro. O aplicativo registrou esse erro no log de exceções: `report.CRITICAL: Method's return type must be specified using @return annotation.`.

<!-- MC-41192-->

* O aplicativo não gera mais um erro fatal quando o servidor Redis é interrompido em uma implantação na qual o cache de página Redis é ativado.

<!-- MC-40739-->

* Agora, o aplicativo atende aos **Excluir pasta de mídia do backup** definir quando o backup é ativado com `bin/magento config:set system/backup/functionality_enabled 1`. Anteriormente, apesar dessa configuração, o backup da Pasta de mídia era realizado, pois o caminho para `/magento` foi formada incorretamente com um duplo //.

<!-- MC-40654 ENGCOM-8881-->

* O aplicativo agora traduz todas as cadeias de caracteres traduzíveis como esperado para a página Carrinho de administração. Anteriormente, o carregamento da tradução era muito tarde e ignorava todos os observadores que se inscreviam na ação de controle antes do despacho. [GitHub-31849](https://github.com/magento/magento2/issues/31849)

<!-- MC-39776-->

* A validação de formulário na página Criar nova conta do cliente agora funciona com êxito quando a variável **Efetuar logon como cliente** habilitar configuração de extensão está desabilitado. Anteriormente, o aplicativo exibia um erro de JavaScript.

<!-- MC-39193-->

* Tratamento de exceções para processos filhos bifurcados por `ProcessManager` melhorou. Quando uma exceção ocorre agora, o processo principal sai e uma mensagem de erro é exibida apenas uma vez. Anteriormente, várias falhas de indexador eram registradas e várias mensagens eram exibidas. [GitHub-30622](https://github.com/magento/magento2/issues/30622)

<!-- MC-39132-->

* Plug-ins globais do Magento Open Source (por exemplo, `webapi_rest` e `graphql` ) não são mais acionadas para um novo tipo de área personalizada quando a variável `di.xml` deste arquivo de área não contém plug-ins registrados.

<!-- MC-38770-->

* As exceções que ocorrem durante a inicialização não são mais armazenadas em cache e agora acionam um código de resposta 500.

<!-- ENGCOM-8232-->

* O último manipulador mesclado em um `communication.xml` O arquivo não substitui mais todos os manipuladores criados anteriormente. [GitHub-29528](https://github.com/magento/magento2/issues/29528)

### Correções gerais

<!-- MC-41194-->

* O aplicativo agora exibe o número correto de estrelas na página Minhas revisões do produto e na página Minha conta revisões recentes. Anteriormente, o aplicativo aplicava a revisão como iniciada apenas na primeira revisão e deixava as outras revisões na página sem ser iniciada.

<!-- MC-40653-->

* Agora, os links de conta nos cabeçalhos seguem os padrões da WCAG. Anteriormente, os links de conta nos cabeçalhos continham IDs duplicadas, o que causava falhas na validação da WCAG.

<!-- MC-39765-->

* O aplicativo não gera mais erros gerados pelo log do sistema quando um comprador convidado usa um endereço inválido. Anteriormente, o aplicativo exibia intermitentemente esse erro em vez de renderizar a página: `No such entity with addressId`. [GitHub-15115](https://github.com/magento/magento2/issues/15115)

<!-- MC-39747-->

* O processo de redimensionamento de imagem não interrompe mais as imagens em formato não compatível. Anteriormente, quando `catalog:images:resize` encontrou um formato de imagem não suportado, o processo parou e o aplicativo exibiu este erro: `bin/magento catalog:images:resize Unsupported image format`.

<!-- ENGCOM-8925-->

* O suporte WEBP e AVIF para imagens de logotipo foi adicionado ao Admin. [GitHub-32495](https://github.com/magento/magento2/issues/32495)

<!-- MC-38156-->

* Não é possível alterar mais o escopo da variável `media_gallery` atributo. Anteriormente, quando você alterava o escopo da variável `media_gallery` voltar para `global`, o aplicativo gerou um erro.

<!-- MC-36818  magento/partners-magento2ee#470-->

* Os produtos relacionados que foram adicionados como uma atualização programada não são mais exibidos em uma página de produto da loja após a data de término da atualização. [GitHub-469](https://github.com/magento/partners-magento2ee/issues/469)

<!-- MC-33499 magento/partners-magento2ee#446-->

* A filtragem agora funciona como esperado na lista de exportações agendadas quando o tipo de entidade é selecionado. Anteriormente, o filtro não funcionava e o aplicativo exibia um erro de JavaScript. [GitHub-361](https://github.com/magento/partners-magento2ee/issues/361)

<!-- MC-30084 ENGCOM-8674-->

* As imagens de categoria agora são copiadas conforme esperado do `catalog/tmp/category` para `catalog/category` quando as categorias são salvas usando o método de armazenamento do banco de dados. A linha de imagem na `media_storage_file_storage` a tabela agora também tem o correto `directory_id`. [GitHub-11995](https://github.com/magento/magento2/issues/11995)

<!-- MC-24768-->

* Agora os comerciantes são notificados sobre caches invalidados conforme esperado após enviar alterações na hierarquia do CMS. Anteriormente, o aplicativo não invalidava caches ao salvar a hierarquia do CMS.

<!-- MC-24725-->

* Solicitações de AJAX redundantes para a seção do carrinho do carrinho de compras foram reduzidas. Anteriormente, o aplicativo não carregava corretamente o subtotal do carrinho, o que acionava o recarregamento do carrinho novamente.

<!-- MC-23740-->

* Adicionada validação de URLs para impedir que palavras reservadas sejam incluídas em chaves de URL. Consulte [Definindo URIs (Uniform Resource Identifiers) bem-conhecidos](https://tools.ietf.org/html/rfc5785)

<!-- ENGCOM-9037-->

* Em implantações que executam o PHP 7.4, o aplicativo agora retorna um erro 404 quando a variável **Gerar substituições de URL de &quot;categoria/produto&quot;** está definida como **Não** e um comprador tenta acessar um caminho de categoria inexistente. Anteriormente, o aplicativo retornava um erro 500 informando: `Trying to access array offset on value of type bool`. [GitHub-31984](https://github.com/magento/magento2/issues/31984)

<!-- ENGCOM-8901-->

* `nowdoc` foi substituído `heredoc` no `Magento_Backend` armazene o alternador. [GitHub-32262](https://github.com/magento/magento2/issues/32262)

<!-- ENGCOM-8685-->

* Adição das regiões Argentina, Bolívia, Chile, Equador, Guiana, Paraguai, Peru, Suriname e Venezuela às `directory_country_region` tabela. [GitHub-31169](https://github.com/magento/magento2/issues/31169)

<!-- ENGCOM-8505-->

* Adição das regiões Albânia, Dinamarca, Grécia, Islândia, Portugal e Suécia ao `directory_country_region` tabela. [GitHub-31040](https://github.com/magento/magento2/issues/31040)

<!-- MC-30104 magento/magento2#31480 -->

* As mensagens agora são sinalizadas como erros na fila de mensagens do MysqlMQ quando ocorrem exceções. [GitHub-18140](https://github.com/magento/magento2/issues/18140)

<!-- ENGCOM-8579-->

* O aplicativo agora faz referência ao objeto de classe correto ao carregar informações de imposto para as páginas Aviso de crédito do administrador e NFF. [GitHub-31197](https://github.com/magento/magento2/issues/31197)

<!-- MC-40346-->

* A integração de clique e soltar do Royal Mail agora funciona conforme o esperado. Anteriormente, o aplicativo exibia esse erro ao tentar ativar essa integração: `Sorry! Something went wrong. Please try again later`. [GitHub-28996](https://github.com/magento/magento2/issues/28996)

<!-- ENGCOM-8498-->

* O aplicativo agora exibe uma mensagem de erro informativa quando uma entrega incorreta, aviso de crédito ou ID de fatura é passada em um URL. Anteriormente, o aplicativo gerava um erro fatal. [GitHub-30424](https://github.com/magento/magento2/issues/30424)

<!-- ENGCOM-8632-->

* A recursão no local dos arquivos estáticos foi removida.  O aplicativo agora exibe uma página 404 em vez de um erro 500. Anteriormente, um bug na configuração padrão do NGINX resultava em recursão infinita. [GitHub-31530](https://github.com/magento/magento2/issues/31530)

<!-- ENGCOM-8550-->

* O nome do `cms_index_noroute.xml` o arquivo foi corrigido para `cms_noroute_index.xml`. [GitHub-31300](https://github.com/magento/magento2/issues/31300)

<!-- ENGCOM-8516-->

* O `.editorconfig` foi refatorado para corrigir a formatação automática de `db_schema_whitelist.json` arquivos. [GitHub-31171](https://github.com/magento/magento2/issues/31171)

<!-- ENGCOM-9018-->

* Redimensionar uma janela do navegador não aciona mais eventos de ampliador de vínculo duplicados. [GitHub-30788](https://github.com/magento/magento2/issues/30788)

<!-- ENGCOM-8722-->

* O aplicativo não gera mais uma exceção SQL ao filtrar `Magento\Users\Model\ResourceModel\Users\Collection` por `user_id`. [GitHub-31216](https://github.com/magento/magento2/issues/31216)

### Cartões de presente

<!-- MC-32651-->

* A lógica de validação de intervalo de preços foi adicionada à página de criação do cartão-presente. Anteriormente, um administrador podia criar um cartão com um valor mínimo que excedia o valor máximo. [GitHub-493](https://github.com/magento/partners-magento2ee/issues/493)

<!-- MC-32638979 magento/partners-magento2ee#40851-->

* O `addRequisitionListItemsToCart` agora retorna a quantidade de um cartão-presente personalizado, conforme esperado, quando a solicitação não contém um valor para `allow_open_amount`.

### Mensagem de presente

<!-- ENGCOM-8539-->

* Agora, os administradores são redirecionados diretamente para a página de Administração solicitada após o logon.  Anteriormente, quando um administrador fazia logon, ele era redirecionado para o Painel de administração (ou qualquer página que estivesse configurada como página de inicialização) e precisava navegar manualmente para o destino. [GitHub-31042](https://github.com/magento/magento2/issues/31042)

### Gerenciador de tags da Google

<!-- MC-39072-->

* O componente da interface do usuário para o endereço de faturamento na página de pagamento do fluxo de trabalho de check-out agora usa o endereço de cotação corretamente quando o Gerenciador de tags da Google está ativado. Anteriormente, ocorria um erro de JavaScript na página de pagamento.

### GraphQL

<!-- MC-41885-->

* A GraphQL `products` agora retorna opções de atributo que são classificadas na mesma ordem de classificação usada na página de edição de atributo.

<!-- MC-41473-->

* A resposta ao `{ category(id: 2){ children { name children { name } } } }` A solicitação do GraphQL agora inclui uma árvore de categorias classificada corretamente.

<!-- MC-41030-->

* O `CartItemPrices` O objeto agora contém o novo campo GraphQL `fixed_product_taxes`, que retorna uma matriz dos impostos fixos sobre o produto aplicados a um item do carrinho. Anteriormente, os impostos fixos do produto que eram aplicados a um item do carrinho não eram incluídos na consulta do carrinho.

<!-- MC-40920-->

* Solicitações vazias para o GraphQL agora exibem o código de resposta 200 em vez de 500. Anteriormente, o analisador do GraphQL exibia uma exceção antes do resultado da consulta ser gerado.

<!-- MC-40867 magento/partners-magento2ee#532 -->

* O `applyRewardPointsToCart` agora a mutação atualiza o total geral do carrinho para refletir com precisão o valor dos pontos de recompensa deduzidos. [GitHub-486](https://github.com/magento/partners-magento2ee/issues/486)

<!-- MC-40379-->

* Os produtos desativados não são mais incluídos na resposta do GraphQL quando o GraphQL é usado para vincular produtos de upsell.

<!-- MC-40262-->

* Os comerciantes agora podem usar a GraphQL `setShippingAddressesOnCart` para definir endereços de faturamento e envio para o carrinho de um comprador quando o check-out do convidado estiver desativado.

<!-- MC-39508-->

* O `categoryList` O query não gera mais uma exceção quando contém vários fragmentos no `CategoryTree` objeto. [GitHub-31086](https://github.com/magento/magento2/issues/31086)

<!-- MC-38995-->

* A GraphQL `product` query agora retorna os preços corretos do grupo de clientes.

<!-- MC-38822-->

* A GraphQL `products` a resposta da consulta agora classifica agregações de acordo com a posição do atributo do produto.

<!-- ENGCOM-8462-->

* O aplicativo não gera mais erros do tipo durante consultas do GraphQL quando os sufixos de URL de produto e categoria contêm valores nulos. [GitHub-30909](https://github.com/magento/magento2/issues/30909)

<!-- magento/magento2#31164-->

* O `CustomizableDateValue` agora contém o `type` atributo. Seu valor é uma enumeração que pode ser definida como DATE, DATE_TIME ou TIME.

<!--  magento/partners-magento2ee#421-->

* O [`dynamicBlocks` query](https://devdocs.magento.com/guides/v2.4/graphql/queries/dynamic-blocks.html) retorna o conteúdo dos blocos dinâmicos que correspondem aos filtros especificados.

<!-- ENGCOM-8603-->

* O POST `V1/products/special-price-delete` agora exclui somente o preço com um `store_id` conforme esperado. Anteriormente, a chamada removia todos os preços especiais do SKU especificado de todas as lojas. [GitHub-25907](https://github.com/magento/magento2/issues/25907)

<!--  magento/partners-magento2ee#280 -->

* Correção de um erro com a função `country_code` no `createGiftRegistry` mutação.

<!-- magento/partners-magento2ee#280 -->

* Correção de problemas com o `giftRegistryUid` do `updateGiftRegistryItems` mutação.

<!-- magento/partners-magento2ee#280 -->

* Foi adicionada uma verificação adicional para evitar que a variável `updateGiftRegistryRegistrants` de ser usada para adicionar pessoas aleatórias como registrantes a um registro de presentes.

<!-- magento/magento2#31380 -->

* O `addConfigurableProductsToCart` agora retorna a miniatura correta do produto especificado. Anteriormente, retornava a miniatura do produto pai.

<!-- ENGCOM-8477-->

* O `products` O query não expõe mais o preço especial de um produto quando o período de preço especial é definido para uma data futura. [GitHub-30210](https://github.com/magento/magento2/issues/30210), [GitHub-29631](https://github.com/magento/magento2/issues/29631)

<!-- magento-engcom/magento2ee#576-->

* O `customer` A resposta da consulta agora inclui a variável `total_giftcard` como parte do `OrderTotal` objeto.

<!-- MC-41084 ENGCOM-9042 -->

* Correção de um problema que causava o `products` query para retornar informações incorretas sobre níveis de preço em itens que não têm definição de preço de camada. [GitHub-32279](https://github.com/magento/magento2/issues/32279)

### Imagem

<!-- MC-38951-->

* Agora é possível definir os atributos required_options e has_options do pacote conforme esperado ao criar ou atualizar um produto de pacote usando o POST `/V1/product/:sku` endpoint . Anteriormente, esses atributos personalizados eram definidos como 0 (zero) apesar dos esforços para configurá-los como 1 (um).

### Importar/exportar

<!-- MC-41576-->

* O filtro IDs de categoria para entidades de produto na grade Atributos de entidade da página Exportar agora funciona como esperado.

<!-- MC-41439-->

* O status do estoque de produtos agrupados agora é atualizado como esperado para esgotamento quando todos os produtos filho estiverem esgotados. [GitHub-32647](https://github.com/magento/magento2/issues/32647)

<!-- MC-41184-->

* O status de estoque de produto configurável agora é atualizado automaticamente conforme esperado quando o status de estoque de produto filho é atualizado por importação. Anteriormente, o status do estoque de produtos não era atualizado automaticamente quando o status do estoque de produtos filho era atualizado por importação.

<!-- MC-41151-->

* Agora é possível salvar valores vazios em uma exportação agendada. Anteriormente, o aplicativo atualizava valores de filtro vazios após a criação da exportação ou salvava. Ambos `no` e `not specified` os valores eram representados por zero no banco de dados e um valor de `not selected` foi substituída por `no`.

<!-- MC-41092-->

* O processo de exportação agora leva em consideração o escopo de função do usuário ao exportar produto, fontes de estoque e entidades do cliente. Anteriormente, o processo de exportação ignorava o escopo da função de usuário, o que permitia a exportação de entidades de exportação de função de usuário privado.

<!-- MC-40943-->

* O aplicativo agora define a classe de imposto do produto como `None` se um produto for importado com `tax_class_name` values `None` ou `0`. Anteriormente, se `product tax_class_name` was `None` no arquivo CSV, o aplicativo criou uma nova classe de imposto `None`, que duplicou a classe fiscal existente. If `product tax_class_name` were `0` no arquivo CSV, o aplicativo ignorou esse valor e a classe de imposto do produto não foi alterada após a importação.

<!-- MC-40898-->

* Agora, os administradores podem alterar a função `name` de um produto de pacote `bundle_values` em Admin. Anteriormente, o aplicativo exibia o produto como indisponível na loja depois que você alterava o nome do Administrador. Os produtos também foram mesclados com o mesmo SKU em uma única seção de opção de pacote.

<!-- MC-40333-->

* O aplicativo agora leva em consideração o escopo do usuário ao exportar dados do cliente. Anteriormente, quando você tentava exportar clientes, o aplicativo exportava os dados do cliente de todos os sites.

<!-- MC-40305-->

* O aplicativo agora remove os relacionamentos de produtos entre venda adicional, venda cruzada e produtos relacionados durante a importação de arquivos CSV, conforme esperado quando `__EMPTY__VALUE__` é especificado no arquivo CSV.

<!-- MC-40012-->

* Exportação de dados de endereços personalizados para muitos clientes (Administrador) **Sistema** > **Exportar**) não resulta mais em um erro de memória rotineiramente. Anteriormente, ao exportar dados de endereço personalizados, o aplicativo tentava carregar todos os dados do cliente, o que resultava em uma depleção de memória, e o aplicativo gerava um erro de falha de alocação de memória.

<!-- MC-39977-->

* Os preços duplicados da camada não são mais importados durante o processo de importação padrão de CSV. Anteriormente, faltava a validação para impedir a importação de preços duplicados da camada e, quando se verificavam preços duplicados da camada, os comerciantes não podiam guardar produtos. Os comerciantes também viram esse erro quando tentaram programar uma mudança de produto: `SQLSTATE[23000]: Integrity constraint violation: 1062 Duplicate entry…`.

<!-- MC-39609  magento/magento2#31397-->

* Todas as imagens de produto agora são validadas durante a importação. Antes, o aplicativo validava apenas a primeira imagem quando o produto tinha várias imagens. [GitHub-28236](https://github.com/magento/magento2/issues/28236)

<!-- MC-39483-->

* Agora é possível excluir uma região de um endereço de cliente conforme esperado durante a importação. Anteriormente, a região atribuída não era alterada quando um endereço de cliente era importado com uma região vazia.

<!-- MC-38810-->

* Produtos com conteúdo JSON ou HTML como atributos de produto adicionais agora são exportados corretamente para um arquivo CSV. Anteriormente, o arquivo CSV continha sequências de dados sobrepostas em campos incorretos.

### Índice

<!-- MC-39718 ENGCOM-8567-->

* O Process Manager agora existe com um erro quando um processo filho falha. Anteriormente, o Process Manager sempre saía com sucesso se o número de funções transmitidas (por exemplo, dimensões de indexador) fosse menor que o valor da variável `MAGE_INDEXER_THREADS_COUNT` variável de ambiente. [GitHub-30964](https://github.com/magento/magento2/issues/30964)

<!-- MC-39272-->

* Os produtos agora estão disponíveis conforme esperado nos resultados de pesquisa da loja ao vincular produtos usando um PUT REST `/V1/products/:sku/links` solicitação quando o modo indexer estiver definido como **Atualizar ao salvar**.

<!-- MC-38310 magento/magento2#32693-->

* O indexador da regra de preço do catálogo agora funciona como esperado quando o modo de indexador está definido como **Atualizar ao salvar**. [GitHub-370](https://github.com/magento/partners-magento2ee/issues/370)

<!-- ENGCOM-8890-->

* A exclusão de uma categoria desativada que não inclui um produto agora não afeta a pesquisa do catálogo e as tabelas de índice simples de categoria. Anteriormente, a exclusão de uma categoria inativa disparava um reíndice completo. [GitHub-23297](https://github.com/magento/magento2/issues/23297)

<!-- ENGCOM-8599 8474-->

* Os indexadores personalizados agora podem usar nomes de colunas de entidade diferentes para assinaturas. Anteriormente, o acionador de banco de dados usava o nome da coluna do indexador definido pela última vez como **Atualizar por agendamento** em vez do indexador designado. [GitHub-21853](https://github.com/magento/magento2/issues/21853)

<!-- ENGCOM-8887-->

* O aplicativo não envia mais AJAX solicitações para recarregar as seções de dados do cliente (`Magento_Customer/js/section-config`) que não são afetadas pela solicitação. [GitHub-31948](https://github.com/magento/magento2/issues/31948)

<!-- MC-39569-->

* Os seguintes indexadores não são mais invalidados depois que você adiciona, remove ou reorganiza produtos em uma categoria: `catalog_category_product` e `catalogsearch_fulltext` (e seus dependentes). Anteriormente, essas remoções inadvertidas acionavam a reindexação completa dos sites. Um reíndice completo agora é impedido nessas condições, quando o catálogo simples não está ativado.

### Infraestrutura

<!-- MC-41445-->

* A dependência `pelago/emogrifier` O foi atualizado da versão 3.1.0 para 5.0.0. Essa atualização resultou na introdução de alterações retroativas incompatíveis no `Magento\Email\Model\Template\Filter` classe . O código alterado é executado durante a renderização dos templates de email. Consulte [Referência BIC](https://developer.adobe.com/commerce/php/development/backward-incompatible-changes/reference/).

<!-- MC-42212-->

* Correção de um problema com `\Magento\CatalogInventory\Model\Indexer\Stock\CacheCleaner::getCategoryIdsByProductIds` isso impedia salvar um novo produto.

<!-- MC-42199-->

* A biblioteca TinyMCE v3 obsoleta foi removida. O `Magento_Tinymce3Banner` os testes de módulo e MFTF relacionados ao TinyMCE v3.x foram removidos do Adobe Commerce.

<!-- MC-41497-->

* O aplicativo não lança mais um `Invalid header value detected` erro no formulário Contact us quando um comprador insere um endereço de email que contém marcas diacríticas francesas (como &quot;é&quot;, &quot;è&quot;). O aplicativo agora converte letras UTF-8 no nome de usuário para codificação ASCII. Anteriormente, letras UTF-8 não eram convertidas em codificação ASCII na seção exclusiva do endereço de email.

<!-- MC-39947-->

* O aplicativo não gera mais um erro fatal PHP quando um plug-in é adicionado a uma classe pai. [GitHub-31291](https://github.com/magento/magento2/issues/31291)

<!-- ENGCOM-9012-->

* Atualização dos arquivos README.md para estes módulos: `Magento_Msrp`, `Magento_MsrpConfigurableProduct`, `Magento_MsrpGroupedProduct`, `Magento_Multishipping`, `Magento_MysqlMq`. [GitHub-32577](https://github.com/magento/magento2/issues/32577)

<!-- magento/partners-magento2ee#501-->

* `phpcpd` foi atualizado para v6.0.3 para compatibilidade com o PHP 8.

<!-- ENGCOM-9073-->

* `ramsey/uuid` O foi atualizado para compatibilidade com o PHP 8.0. [GitHub-31777](https://github.com/magento/magento2/issues/31777), [GitHub-826](https://github.com/magento/magento2-functional-testing-framework/issues/826)

<!-- ENGCOM-8997-->

* `colinmollenhour/php-redis-session-abstract` foi atualizado para v1.4.4 para compatibilidade com PHP 8. [GitHub-32709](https://github.com/magento/magento2/issues/32709)

<!-- ENGCOM-8527-->

* Correção de uma combinação inválida de guias e espaços na `phpstan.neon` arquivo. [GitHub-31239](https://github.com/magento/magento2/issues/31239)

<!-- ENGCOM-8668-->

* Remoção do uso de propriedades obsoletas `$_isScopePrivate` em toda a base de código. [GitHub-30506](https://github.com/magento/magento2/issues/30506)

<!-- ENGCOM-8551-->

* Os layouts das páginas não são mais codificados em  `Magento\Widget\Block\Adminhtml\Widget\Instance\Edit\Chooser\Container`.  Como resultado, a variável `getPageLayouts()` agora retorna a lista real de layouts de página declarados pelos diferentes módulos conforme esperado. Anteriormente, retornava somente layouts codificados. [GitHub-31168](https://github.com/magento/magento2/issues/31168)

<!-- ENGCOM-8509-->

* O `composer.lock` O arquivo foi atualizado para a versão mais recente do Coding Standard. [GitHub-31152](https://github.com/magento/magento2/issues/31152)

<!-- ENGCOM-9015 -->

* Adição de uma dependência ausente no `web-token/jwt-framework` para `magento/module-jwt-framework-adapter`. [GitHub-32578](https://github.com/magento/magento2/issues/32578)

<!-- ENGCOM-9019 -->

* Foram adicionados ouvintes passivos ao `fotorama.js` biblioteca para melhorar a pontuação de métricas de farol. [GitHub-31140](https://github.com/magento/magento2/issues/31140)

<!-- ENGCOM-9014 -->

* O arquivo README.md para o módulo Google Analytics foi atualizado. [GitHub-32616](https://github.com/magento/magento2/issues/32616)

<!-- ENGCOM-8375 -->

* O Process Manager agora lida com as exceções adequadamente em processos bifurcados. O processo principal agora existe, e o aplicativo agora exibe uma mensagem de erro apenas uma vez. Além disso, as exceções dos processos bifurcados agora são tratadas quando são lançadas no processo principal. Anteriormente, o aplicativo registrava várias falhas de indexador e exibia várias mensagens de erro.  [GitHub-30622](https://github.com/magento/magento2/issues/30622)

<!-- ENGCOM-8544 -->

* O aplicativo não gera mais um erro quando um plug-in é adicionado a uma classe pai. (O `optionsProvider` agora é declarado após `getContentIdentities` em `Assest.php`.) Anteriormente, o aplicativo exibia esse erro:  `Error: Cannot instantiate interface Magento\Framework\Data\OptionSourceInterface`. [GitHub-31291](https://github.com/magento/magento2/issues/31291)

<!-- ENGCOM-8549 -->

* Em execução `Magento\Framework\Filesystem\Io\Ftp::ls()` em uma pasta vazia, agora retorna uma matriz vazia, como esperado. Anteriormente, o aplicativo lançava essa exceção: `Invalid argument supplied for foreach() in vendor/magento/framework/Filesystem/Io/Ftp.php…`. [GitHub-31288](https://github.com/magento/magento2/issues/31288)

<!-- ENGCOM-8791 -->

* O `update` O método para Função e Regras foi marcado como obsoleto em `app/code/Magento/Authorization/Model/Role.php`. [GitHub-30756](https://github.com/magento/magento2/issues/30756)

<!-- ENGCOM-8946 -->

* A concatenação de parâmetros de cookie SameSite foi corrigida. Anteriormente, a concatenação incorreta anexava a variável `lex` sufixo para `value`, `domain`e outros parâmetros. [GitHub-26377](https://github.com/magento/magento2/issues/26377), [GitHub-32440](https://github.com/magento/magento2/issues/32440)

<!-- ENGCOM-8698 ENGCOM-9034 -->

* `allure-framework/allure-phpunit` foi atualizado para v1.3.1 em toda a base de código. Anteriormente, o aplicativo exibia esse erro:  `Warning: Use of undefined constant GLOB_BRACE - assumed 'GLOB_BRACE' (this will throw an Error in a future version of PHP) in /var/www/html/src/vendor/allure-framework/allure-phpunit/src/Yandex/Allure/Adapter/AllureAdapter.php:74.` [GitHub-24635](https://github.com/magento/magento2/issues/24635)

<!-- ENGCOM-8783 -->

* O aplicativo agora exibe erros mais informativos quando ocorrem erros em execução `bin/magento` no modo de produção. Anteriormente, o aplicativo não exibia mensagens de erro ou exibia mensagens que não continham informações. [GitHub-32786](https://github.com/magento/magento2/issues/32786)

<!-- ENGCOM-8953 -->

* O `ArrayIterator` O objeto PHP foi atualizado para funcionar conforme esperado com o PHP 7.4. [GitHub-32088](https://github.com/magento/magento2/issues/32088)

<!-- ENGCOM-8469 -->

* O aplicativo não gera mais um erro quando um cliente tenta concluir um pedido quando nenhuma transportadora está disponível. Em vez disso, exibe a página de checkout e esta mensagem: `Sorry, no quotes are available for this order at this time`. Anteriormente, o aplicativo exibia uma página de check-out em branco e gravava essa mensagem no log de exceção: `array_keys() expects parameter 1 to be array, null given`. [GitHub-30830](https://github.com/magento/magento2/issues/30830)

<!-- ENGCOM-8557 -->

* O aplicativo não registra mais cada cookie como um contexto separado. O `$_COOKIE` matriz também foi convertida em uma string. Anteriormente, como cada cookie era registrado como um contexto separado, quando o número de cookies excedia 50, o aplicativo registrava esta mensagem: `Unable to send the cookie. Maximum number of cookies would be exceeded`. [GitHub-31334](https://github.com/magento/magento2/issues/31334)

### Fatura

<!-- ENGCOM-8472 -->

* Ao criar novas NFFs no Administrador, a variável **Cópia de email de** agora funciona conforme o esperado. Anteriormente, a caixa de seleção era ignorada se a configuração global para enviar emails de fatura estivesse ativada em **Emails de vendas**. Agora é consistente e opera da mesma forma que as páginas de criação de remessa e aviso de crédito. [GitHub-28511](https://github.com/magento/magento2/issues/28511)

### Galeria de Mídia

<!-- MC-41728-->

* `bin/magento media-gallery:sync` agora falha como esperado ao processar imagens PNG que não têm informações XMP.

<!-- ENGCOM-8814-->

* Entradas no `catalog_product_entity_media_gallery` são removidas conforme esperado quando os produtos relacionados são excluídos. [GitHub-17727](https://github.com/magento/magento2/issues/17727)

<!-- ENGCOM-8945-->

* Os detalhes da imagem agora podem ser atualizados na Galeria de mídia quando a minificação do JavaScript estiver ativada. Anteriormente, os detalhes da imagem não eram salvos e o aplicativo exibia este erro: `TypeError: Cannot read property 'call' of undefined in jquery.validate`. [GitHub-31633](https://github.com/magento/magento2/issues/31633)

### MFTF

Os novos recursos e correções de erros principais do MFTF estão descritos na seção [Código de alteração da estrutura de teste funcional](https://github.com/magento/magento2-functional-testing-framework/blob/develop/CHANGELOG.md).

<!-- ENGCOM-8496-->

* O `magento indexer:reindex` e `cache:flush` e os `AdminReindexAndFlushCache` grupo de ação foram removidos dos testes para melhorar a execução dos seguintes módulos: `Bundle`, `Catalog`, `CatalogRule`, `CatalogRuleConfigurable`, `CatalogUrlRewrite`, `Downloadable`, `Indexer`, `Paypal`e `Sales`. [GitHub-31031](https://github.com/magento/magento2/issues/31031)

<!-- ENGCOM-8562-->

* `AdminSubmitCategoriesPopupActionGroup` foi adicionado aos testes para evitar falhas no teste. [GitHub-31251](https://github.com/magento/magento2/issues/31251)

<!-- ENGCOM-8562-->

* Os testes foram refatorados com `StorefrontCheckQuickSearchStringActionGroup` e `StorefrontAssertProductNameOnProductMainPageActionGroup` (grupos de ação existentes). [GitHub-31251](https://github.com/magento/magento2/issues/31251)

#### Testes refatorado

Os seguintes testes foram refatorados para melhorar o tempo de execução:

`AddOutOfStockProductToCompareListTest`  <!-- ENGCOM-8547-->

`AdminApplyTierPriceToProductWithPercentageDiscountTest` <!-- ENGCOM-8522-->

`AdminCheckingCreditMemoTotalsTest` <!-- ENGCOM-8606-->

`AdminCheckDashboardWithChartsTest` <!-- ENGCOM-8897-->

`AdminConfigDefaultProductLayoutFromConfigurationSettingTest`  <!-- ENGCOM-8891-->

`AdminCreateInvoiceTest` <!-- ENGCOM-8581-->

`AdminCreateOrderAddProductCheckboxTest` <!-- ENGCOM-8492-->

`AdminMassOrdersCancelCompleteAndClosedTest` <!-- ENGCOM-8538-->

`AdminMassOrdersCancelProcessingAndClosedTest`  <!-- ENGCOM-8670-->

`AdminMassOrdersHoldOnCompleteTest`  <!-- ENGCOM-8897-->

`AdminMassOrdersHoldOnPendingAndProcessingTest`  (substituição para obsoleto) `AdminMassOrdersHoldOnPendingAndProcessingTest`) <!-- ENGCOM-8669-->

`AdminMassOrdersUpdateCancelPendingOrderTest` <!-- ENGCOM-8602-->

`AdminMassProductPriceUpdateTest` <!-- ENGCOM-8587-->

`AdminMassUpdateProductAttributesMissingRequiredFieldTest` <!-- ENGCOM-8511-->

`AdminOrdersReleaseInUnholdStatusTest`  <!-- ENGCOM-8592—-->

`AdminPanelIsFrozenIfStorefrontIsOpenedViaCustomerViewTest`  <!-- ENGCOM-8601-->

`AdminSortingByWebsitesTest`  <!-- ENGCOM-8583-->

`AdminUpdateSimpleProduct` <!-- ENGCOM-8536-->

`AdminUpdateSimpleProductWithRegularPriceInStockEnabledFlatTest`  <!-- ENGCOM-8533-->

`AdminValidateShippingTrackingNumberTest`  <!-- ENGCOM-8593-->

`CancelOrdersInOrderSalesReportTest`  <!-- ENGCOM-8591-->

`ProductsQtyReturnAfterOrderCancelTest` <!-- ENGCOM-8506-->

`StorefrontConfigurableProductBasicInfoTest`  <!-- ENGCOM-8711-->

#### Grupos de ação

As ações repetitivas foram substituídas por grupos de ação nestes testes:

`AdminCheckConfigurableProductPriceWithDisabledChildProductTest`  <!-- ENGCOM-8574-->

`AdminConfigurableProductCreateTest` <!-- ENGCOM-9013-->

`AdminConfigurableProductRemoveAnOptionTest` <!-- ENGCOM-9038-->

`AdminCreateProductDuplicateUrlkeyTest` <!-- ENGCOM-9007-->

`AdminCreateSimpleProductNegativePriceTest` <!-- ENGCOM-900-->

`AdminCreateSimpleProductZeroPriceTest`  <!-- ENGCOM-9040-->

`AdminCreateVirtualProductFillingRequiredFieldsOnlyTest` <!-- ENGCOM-9003-->

`AdminUpdateSimpleProductWithRegularPriceInStockDisabledProductTest` <!-- ENGCOM-9002-->

`AdminUpdateSimpleProductWithRegularPriceInStockNotVisibleIndividuallyTest`  <!-- ENGCOM-9011-->

`AdminUpdateSimpleProductWithRegularPriceInStockVisibleInCatalogOnlyTest`  <!-- ENGCOM-9041-->

#### Novos grupos de ação

`AdminClearFiltersOnGridActionGroup` <!-- ENGCOM-8604-->

`AdminClickAddNewPageOnPagesGridActionGroup`  <!-- ENGCOM-8613-->

`AdminClickInsertWidgetActionGroup` <!-- ENGCOM-8614-->

`AdminClickRefundOfflineOnNewMemoPageActionGroup` <!-- ENGCOM-8580-->

`AdminFillAccountInformationOnCreateOrderPageActionGroup` <!-- ENGCOM-8495-->

`AdminGoToOrderStatusPageActionGroup`  <!-- ENGCOM-8615-->

`AdminOpenCMSPagesGridActionGroup`<!-- ENGCOM-8682-->

`AdminSelectAttributeSetOnEditProductPageActionGroup` <!-- ENGCOM-8566-->

`AssertAdminProductIsAssignedToCategoryActionGroup`  (substitui a grade de produtos de filtragem por SKU e clica na primeira linha (para diminuir o tempo de execução do teste) <!-- ENGCOM-8535 8534-->

`AssertLinkActionGroup` <!-- ENGCOM-8457-->

`AssertStorefrontCartDiscountActionGroup` <!-- ENGCOM-8431-->

`ClickPlaceOrderActionGroup` <!-- ENGCOM-8671-->

`SaveCmsPageActionGroup` <!-- ENGCOM-8683-->

`StorefrontAssertProductNameIsNotOnProductMainPageActionGroup` <!-- ENGCOM-8562-->

`StorefrontGuestCheckoutProceedToPaymentStepActionGroup` <!-- ENGCOM-8582-->

`StorefrontHoverProductOnCategoryPageActionGroup` <!-- ENGCOM-8575-->

`StorefrontSelectCustomizeAndAddToTheCartButtonActionGroup` <!-- ENGCOM-8573-->

#### Grupos de ações excluídos

<!-- ENGCOM-8525 8558 8608 8546 8695 8889 8681 8627 8714-->

* Removido  `CliIndexerReindexActionGroup` (ou valor alterado) de testes para melhorar o tempo de execução do `Backend`, `Bundle`, `BundleImportExport`, `Catalog`, `CatalogRule`, `CatalogSearch`, `Checkout`, `Downloadable`,  `Elasticsearch`,  `Elasticsearch6`,  `Indexer`, `LayeredNavigation`,  `LoginAsCustomer`,  `Newsletter`, `Sales`, `SalesRule`, `Search`, `Store`,  `Swatches`, `UrlRewrite`, `Weee`e `Wishlist`módulos.

<!-- ENGCOM-8893 8951 8893 9001 8715 8724 8721 8843-->

* Removido `CliCacheFlushActionGroup` from `Catalog`, `CatalogUrlRewrite`, `Checkout`, `Config`, `ConfigurableProduct`,`Contact`, `Cookie`, `CurrencySymbol`, `Customer`, `Downloadable`, `Elasticsearch`, `Elasticsearch6`, `Fedex`, `Indexer`, `LayeredNavigation`,`LoginAsCustomer`, `Msrp`, `Multishipping`, `Sales`, `Swatches`, `Translation`, `UrlRewrite`, `Vault`, `Weee`e `Wishlist` módulos.

### Informativo

<!-- ENGCOM-8948 MC-40885-->

* O aplicativo não envia mais email informativo para um cliente que foi cancelado a assinatura do boletim informativo no período entre a criação da fila do boletim informativo e o envio do boletim informativo. [GitHub-32116](https://github.com/magento/magento2/issues/32116)

<!-- ENGCOM-8675-->

* O aplicativo agora respeita as configurações de ativação do boletim informativo (**Lojas**  >  **Configurações**  >  **Configuração**  >  **Clientes**  >  **Informativo**  >  **Opções gerais**). Anteriormente, essas configurações eram sempre recuperadas do escopo padrão em implantações de várias lojas. [GitHub-31188](https://github.com/magento/magento2/issues/31188)

<!-- ENGCOM-8551-->

* O GET de chamada REST `/V1/customers/search` agora retorna informações corretas para clientes que assinaram vários boletins informativos. [GitHub-31168](https://github.com/magento/magento2/issues/31168)

<!-- ENGCOM-8817-->

* O status de subscrição do cache foi removido do plug-in do boletim informativo. [GitHub-19345](https://github.com/magento/magento2/issues/19345)

### Pedido

<!-- MC-40963-->

* O aplicativo agora calcula corretamente um saldo de cliente faturado ao retornar crédito de loja a uma conta de cliente para uma ordem parcialmente faturada.

<!-- ENGCOM-8710-->

* O aplicativo agora salva um pedido modificado conforme esperado quando salva um saldo do cliente reembolsado. [GitHub-393](https://github.com/magento/partners-magento2ee/issues/393)

### Métodos de pagamento

<!-- MC-41525-->

* O aplicativo agora renderiza blocos de pagamento em `frontend` independentemente da área da qual o email foi enviado. (A área atual agora é emulada como `frontend` antes da renderização do bloco de pagamento.) Anteriormente, os blocos de pagamento eram renderizados na área a partir da qual o email era enviado. Como resultado, independentemente de o email de vendas ter sido acionado pelo Administrador ou pela REST API, os URLs de ativos tentaram carregá-los da área errada (`webapi_rest` ou `adminhtml`).

<!-- MC-40810-->

* O aplicativo agora envia o link de um produto baixável para o endereço de email especificado durante o check-out. Anteriormente, quando um comprador convidado usava o Check-out expresso do PayPal e inseria endereços de email diferentes para enviar o pedido e fazer check-out, o aplicativo enviava o link do produto disponível para download para o primeiro endereço.

<!-- MC-38051-->

* O aplicativo agora exibe um valor preciso para o crédito de armazenamento disponível na página Método de Pagamento em implantações que oferecem suporte a várias moedas.

<!-- MC-37820-->

* A lista de métodos de pagamento agora é atualizada como esperado quando um comprador convidado altera o endereço de envio de uma ordem para um país diferente durante o check-out. Anteriormente, alterar o endereço de faturamento não disparava uma atualização dos possíveis métodos de pagamento.

#### PayPal

<!-- MC-39895-->

* Os compradores agora podem fazer o check-out de um pedido PayPal Payflow Pro com um endereço de envio que contém caracteres especiais. Anteriormente, o pedido recusava o pagamento dessas ordens.

<!-- MC-39861-->

* Os compradores agora são redirecionados de volta para a página de sucesso do pedido após um pagamento bem-sucedido usando PayPal. Anteriormente, os compradores eram redirecionados para uma página em branco porque os dados da sessão eram perdidos.

### Desempenho

<!-- MC-41647-->

* O desempenho da pesquisa de SKU do administrador em catálogos grandes foi aprimorado. Dicas do Query Otimizer agora forçam o uso do índice durante a execução da consulta.

<!-- MC-41440-->

* O desempenho do  `catalog_product_alert` o processo cron ao executar em tabelas grandes (vários milhões de linhas) foi aprimorado. Anteriormente, `catalog_product_alert` carregou todos os alertas do produto, o que causou uma exceção de falta de memória.

<!-- ENGCOM-8752-->

* O aplicativo não carrega mais todas as páginas do CMS ao precisar de apenas uma página de edição para renderizar um formulário de administrador.  Essas páginas agora carregam mais rápido. [GitHub-30936](https://github.com/magento/magento2/issues/30936)

<!-- ENGCOM-8510-->

* Valores numéricos em `WHERE IN` expressões agora são convertidas como número, não como string, o que melhora o desempenho da consulta em algumas versões do MariaDB. [GitHub-31135](https://github.com/magento/magento2/issues/31135)

* O `use_application_lock` O modo permite habilitar a reindexação por meio do uso de variáveis de ambiente ou configurando o `app/etc/env.php` arquivo. Não é mais necessário redefinir manualmente o indexador após a falha com esse modo ativado. Quando esse modo não estiver ativado, você deve redefinir manualmente o indexador após a falha. Consulte [Usando o modo de bloqueio de aplicativo para processos de reindexação](https://developer.adobe.com/commerce/php/development/components/indexing/#using-application-lock-mode-for-reindex-processes).

### Preços

<!-- MC-41767-->

* O aplicativo agora atualiza corretamente o preço de um produto com preços agrupados quando um comprador atualiza a quantidade do produto na loja. [GitHub-32669](https://github.com/magento/magento2/issues/32669)

<!-- MC-39282-->

* Os produtos do pacote agora podem ser salvos quando os produtos tiverem um preço de camada e `Magento\Framework\Api\ExtensibleDataObjectConverter` é usada para converter dados do produto. Anteriormente, quando `Magento\Framework\Api\ExtensibleDataObjectConverter` foi usado para converter dados do produto em uma matriz quando um produto foi salvo, o aplicativo não salvou o produto e exibiu este erro: `Notice: Undefined index: price in app/code/Magento/Catalog/Model/Product/Type/Price.php on line 382.`

<!-- MC-36811-->

* As atualizações de preço programadas agora são aplicadas a produtos que já estão no carrinho de um comprador. [GitHub-356](https://github.com/magento/partners-magento2ee/issues/356)

<!-- MC-24693-->

* O preço da camada agora é aplicado a um produto conforme o esperado quando os incrementos de quantidade são ativados e o inventário decimal é menor que 1. Anteriormente, a quantidade mínima de preço da camada era definida como 1.

### Vídeo do produto

<!-- MC-39755-->

* Agora você pode usar o **Adicionar vídeo** botão (Administrador) **Catálogo** > **Produtos**) para adicionar vários vídeos consecutivamente. Anteriormente, os campos de vídeo retinham os detalhes do vídeo anterior.

<!-- MC-40817-->

* Entrar no modo de tela cheia para um vídeo de produto em uma página de produto agora funciona como esperado em dispositivos móveis. Anteriormente, entrar no modo de tela cheia fazia com que o vídeo pausasse antes de sair do modo de tela cheia.

<!-- MC-39759-->

* Os botões de seta de navegação (**Próximo** e **Anterior**) agora estão visíveis conforme esperado nos vídeos de produtos da loja.

<!-- MC-40463-->

* Os comerciantes agora podem adicionar vídeos Vimeo usando o **Inserir vídeo** na página do produto conforme esperado. Anteriormente, o aplicativo exibia um erro 404. [GitHub-31753](https://github.com/magento/magento2/issues/31753)

### Citação

<!-- MC-39531-->

* O `/V1/guest-carts/examplecartid/items` chamada agora retorna a exibição de loja solicitada. Anteriormente, retornava a primeira visualização da loja, não a solicitada.

<!-- MC-33893 ENGCOM-8992-->

* O envio da fatura agora pode ser configurado. Anteriormente, o envio da fatura não era configurável e o aplicativo sempre enviava uma fatura após sua criação. Emails de fatura e pedido foram enviados no escopo de um observador. Observadores separados agora controlam o envio de email de pedido e de fatura. [GitHub-27656](https://github.com/magento/magento2/issues/27656)

### Relatórios

<!-- MC-39737-->

* A data da última revisão em Admin **Relatórios** > **Resenhas** > **Por Produtos** agora exibe a data de revisão correta. Anteriormente, o aplicativo exibia a data de criação do produto em vez da data de revisão.

### Resenhas

<!-- MC-40116-->

* As estrelas de classificação da revisão do produto agora são calculadas corretamente na seção Revisar detalhes da página Minha conta .

<!-- MC-39763-->

* As seções Avaliação média do produto e Classificações do produto da página de detalhes da revisão do produto agora são renderizadas corretamente. Anteriormente, a ID de revisão não era definida quando o aplicativo calculava a classificação da loja e o modelo de revisão do produto não era renderizado corretamente.

<!-- MC-36149-->

* O **Seja o primeiro a revisar este produto** O link agora é alterado como esperado para uma contagem de revisão depois que um administrador aprova uma revisão.

<!-- ENGCOM-8501 MC-30270-->

* Agora, os administradores podem classificar revisões de produtos na seção Revisões de produto da página de edição de produto, conforme esperado. [GitHub-30270](https://github.com/magento/magento2/issues/30270)

<!-- MC-41003  magento/magento2#32259-->

* As revisões agora são salvas com a ID de armazenamento correta depois que um administrador aprova e salva a revisão de um domínio diferente da loja. [GitHub-17510](https://github.com/magento/magento2/issues/17510)

### Recompensas

<!-- MC-39820-->

* O aplicativo agora atualiza a lista de métodos de pagamento quando um comprador faz check-out com vários endereços, ou desmarca a opção **Crédito da Loja (Pontos de Recompensa)** opção.

### Vendas

<!-- MC-39796-->

* Agora, os usuários administradores podem fazer pedidos de itens indisponíveis quando a variável **Backorders são permitidos** está ativada (**Lojas** > **Configuração** > **Catálogo** > **Inventário** > **Opções de Estoque de Produtos**). Anteriormente, o aplicativo exibia um erro.

<!-- MC-42280-->

* Os compradores agora podem encontrar um pedido na página Pedidos e Devoluções quando o sobrenome termina com um espaço em branco.

<!-- MC-41438-->

* As faturas agora são criadas com o total geral correto quando uma regra de preço do carrinho atribuindo um desconto de 100% é aplicada a um pedido que também está sujeito a impostos de produto de catálogo e desconto e que se qualifica para frete grátis. Anteriormente, o pedido tinha o preço correto, mas a fatura não. [GitHub-30853](https://github.com/magento/magento2/issues/30853)

<!-- MC-40384-->

* Filtrar pedidos por data agora retorna resultados precisos. Anteriormente, o aplicativo não retornava um pedido feito após 00:00 UTC quando você filtrava pedidos por data de pedido.

<!-- MC-40030-->

* A grade do aviso de crédito agora exibe o símbolo de moeda correto quando **Site** escopo é usado para um **Preço** em uma implantação de várias lojas.

<!-- MC-40013-->

* Os botões de opção Métodos de pagamento não desaparecem mais na seção Informações de Pagamento e Entrega do fluxo de trabalho de finalização após o recarregamento da página Criar Novo Pedido de Administrador. [GitHub-32106](https://github.com/magento/magento2/issues/32106)

<!-- MC-39891-->

* O texto em árabe agora é exibido corretamente nas faturas.

<!-- MC-39864-->

* O aplicativo agora calcula os totais de imposto do aviso de crédito parcial corretamente para avisos de crédito que são baseados em um pedido ou em uma fatura em lojas que implantam o PayPal Payment Pro como um gateway de pagamento. Anteriormente, para pedidos com várias faturas, o aplicativo aplicava todo o imposto dessa ordem para o cancelamento parcial da fatura no aviso de crédito.

<!-- MC-39521 ENGCOM-8528-->

* O aplicativo não cria mais bloqueios aleatórios do banco de dados ao enviar emails de novos pedidos para os clientes. Anteriormente, os bloqueios ocorriam porque o aplicativo salvava o objeto inteiro e seus objetos relacionados em vez de colunas SQL atualizadas. O aplicativo exibia esse tipo de erro: `SQLSTATE[40001]: Serialization failure: 1213 Deadlock found when trying to get lock; try restarting transaction`. [GitHub-31090](https://github.com/magento/magento2/issues/31090)

<!-- MC-39353-->

* A página de detalhes do Pedido de loja agora exibe a quantidade correta do produto entregue. Anteriormente, as quantidades do produto estavam incorretas porque o modelo para a página Entrega da Ordem era renderizado **Qtd. Enviada** como um `int`. Isso foi alterado para `float`.

<!-- MC-39026-->

* O aplicativo não envia mais cópias por email de uma fatura de pedido quando o **Cópia por e-mail da fatura** está desmarcado. Anteriormente, o aplicativo enviava email para **Cliente** e **Enviar Cópia de E-mail da fatura para**. [GitHub-28511](https://github.com/magento/magento2/issues/28511)

<!-- MC-38973-->

* O aplicativo não cria mais entradas de endereço duplicadas para uma conta de cliente ao criar um novo pedido do Administrador para um cliente existente. O **Salvar no Catálogo de Endereços** a caixa de seleção foi renomeada para **Adicionar ao Catálogo de Endereços** e agora está desmarcado em Admin por padrão.

<!-- MC-38834-->

* O aplicativo agora usa o logotipo que foi carregado no **Logotipo para HTML Print View** configurações quando os compradores imprimem um pedido de sua conta. Anteriormente, o aplicativo exibia o logotipo LUMA em vez do logotipo carregado.

<!-- MC-38625-->

* O pager dos itens de pedido na loja agora funciona como esperado quando a contagem de itens excede 20. Anteriormente, o pager levava em conta produtos secundários e a contagem total estava incorreta.

<!-- MC-23915 ENGCOM-8713-->

* O aplicativo agora exibe os símbolos de moeda corretos para o subtotal e os valores de envio e manuseio nas grades da página Ordem e Aviso de crédito . [GitHub-22662](https://github.com/magento/magento2/issues/22662)

<!-- ENGCOM-8486-->

* Os administradores que usam o Safari agora podem adicionar um produto a um pedido do Administrador com êxito. Anteriormente, quando o administrador clicava no **Adicionar produtos selecionados ao pedido** , o aplicativo exibia o ícone de carregamento giratório e a página suspensa.

### Regra de Vendas

<!-- MC-40671-->

* O aplicativo agora aplica regras de preço do carrinho com **Desconto de Quantidade Máxima é Aplicado a** ou **Etapa Qtd. Desconto (Comprar X)** condições corretas quando várias regras de preço do carrinho são aplicadas ao carrinho de compras. Anteriormente, se uma regra de preço do carrinho com **Desconto de Quantidade Máxima é Aplicado a** ou **Etapa Qtd. Desconto (Comprar X)** foi aplicado após outra regra de preço do carrinho, o desconto total foi reduzido para o valor configurado para **Desconto de Quantidade Máxima é Aplicado a** ou **Etapa Qtd. Desconto (Comprar X)** O aumenta o preço do produto.

<!-- MC-39827-->

* O relatório de Cupom agora reflete com precisão a atividade do cupom em implantações nas quais um banco de dados dividido é implementado.

<!-- MC-39477-->

* Regras de preço do carrinho que contêm a condição Categoria **NÃO É** agora são aplicadas conforme esperado aos produtos filho/simples configuráveis que não estão atribuídos a uma categoria, mas cujos produtos pai estão atribuídos.

<!-- MC-39034-->

* A GraphQL `cart` agora retorna o total geral correto para a etapa de faturamento de um carrinho quando um cupom é aplicado ao pedido.

### Pesquisar {#search-heading}

<!-- MC-41138-->

* A página de categoria não contém mais essas IDs de elemento HTML duplicadas: `modes-label`, `mode-list`, `toolbar-amount`, `sorter`, `limiter`.

<!-- MC-40981-->

* Os resultados da pesquisa de palavras parciais não incluem correspondências inesperadas ou irrelevantes, e as pesquisas produzem resultados consistentes na loja e no Administrador. O aplicativo agora usa um analisador diferente sem um mecanismo para pesquisas parciais de palavras. Anteriormente, os resultados da pesquisa exibiam produtos que não incluíam palavras-chave de pesquisa. (Anteriormente, o analisador padrão incluía um mecanismo e, como o mesmo analisador era utilizado no tempo de pesquisa para pesquisa parcial de palavras, o resultado da pesquisa podia produzir correspondências inesperadas ou irrelevantes.)

<!-- MC-40715-->

* A pesquisa rápida agora retorna resultados se a consulta de pesquisa tiver várias palavras e o nome do produto estiver configurado como não pesquisável. Anteriormente, se o nome do produto era configurado como não pesquisável, o aplicativo exibia uma exceção de consulta em consultas de pesquisa com várias palavras.

<!-- MC-40672-->

* Os resultados da pesquisa agora incluem o `weight` como esperado quando configurado como pesquisável.

<!-- MC-40409-->

* O aplicativo não gera mais um erro quando você exibe uma página de categoria vazia com o Elasticsearch ativado. Em vez disso, ela renderiza a página conforme esperado e exibe uma mensagem informativa. Anteriormente, um índice de texto completo vazio acionava uma exceção em uma página de categoria.

<!-- MC-40376-->

* O recurso de preenchimento automático do campo de pesquisa agora funciona como esperado se um comprador clicar fora do campo de pesquisa depois de iniciar sua pesquisa. Sugestões de preenchimento automático agora reaparecem quando o comprador retoma a digitação. Anteriormente, o aplicativo não exibia as sugestões de preenchimento automático e clicar na caixa de pesquisa não tornava as sugestões de pesquisa visíveis novamente (embora digitando letras adicionais).

<!-- MC-34217-->

* A pesquisa de um produto com base em seu SKU completo ou parcial na Pesquisa avançada agora retorna o produto esperado.

<!-- MC-31395-->

* Agora, filtros de navegação em camadas exibem contagens precisas de produtos. Anteriormente, os valores de contagem de produtos do Elasticsearch não eram filtrados por permissões de catálogo.

<!-- MC-23881 ENGCOM-8618-->

* O Elasticsearch não gera mais um erro quando o parâmetro de página do URL da categoria excede a paginação. [GitHub-23843](https://github.com/magento/magento2/issues/23843)

<!-- MC-24033  magento/magento2#3274-->

* Agora é possível adicionar um mapeador de campo Elasticsearch personalizado para `Magento\Elasticsearch\Model\Adapter\FieldMapper\Product\FieldProvider\FieldName\Resolver\CompositeResolver`.

<!-- ENGCOM-9029 MC-24026-->

* Os desenvolvedores agora podem alterar os mapeamentos de Elasticsearch. Anteriormente, os modelos dinâmicos enviados para o servidor do Elasticsearch nos mapeamentos padrão eram codificados, o que impedia os desenvolvedores de indexar no Elasticsearch quaisquer dados adicionais associados a um módulo personalizado.

<!-- ENGCOM-8464 -->

* Os campos de pesquisa (pesquisa de formulário) agora funcionam como esperado quando as Sugestões de Pesquisa estão desativadas.

### Envio

<!-- MC-41464-->

* O aplicativo agora atualiza o preço de envio conforme esperado quando um comprador navega de volta para a página do carrinho após excluir um produto durante o check-out com vários endereços.

<!-- MC-41343-->

* O aplicativo agora exibe o preço de entrega ajustado correto quando alguns itens no carrinho estão qualificados para entrega gratuita. Anteriormente, quando um subconjunto de itens no carrinho era qualificado para frete grátis, o aplicativo não ajustava o preço de envio e exibia o preço total de envio ao comprador.

<!-- MC-41186-->

* Usuários administradores que são restritos a um site específico agora podem criar uma remessa para um pedido colocado no mesmo site. Anteriormente, o aplicativo exibia essa exceção quando um usuário Admin que não possuía permissão para exibição de loja padrão tentava enviar um pedido colocado em uma exibição de loja ao qual o usuário Admin tinha acesso: `Notice: Undefined offset: 1 in /app/code/Magento/Catalog/Model/Product/Attribute/Backend/GroupPrice/AbstractGroupPrice.php on line 293`.

<!-- MC-41069-->

* O aplicativo agora considera os descontos relevantes da regra de preço do carrinho ao determinar se uma ordem atende às condições de frete grátis da DHL.

<!-- MC-40702-->

* Os rótulos de remessa agora usam a moeda de base como esperado, em vez da moeda de pedido para lojas que suportam várias moedas quando um pedido é feito em uma moeda não base. [GitHub-31891](https://github.com/magento/magento2/issues/31891)

<!-- MC-40678-->

* O aplicativo agora exibe o subtotal correto do pedido quando um comprador retorna à página do carrinho durante o check-out após sair da página de vários envios. [GitHub-31889](https://github.com/magento/magento2/issues/31889)

<!-- MC-40541 magento/magento2#31841 -->

* A edição de informações de faturamento durante a criação da ordem de administração não altera mais as informações de envio para clientes com diferentes endereços padrão de envio e faturamento. [GitHub-31786](https://github.com/magento/magento2/issues/31786)

<!-- MC-37385 ENGCOM-8578-->

* O aplicativo não desmarca mais a caixa de seleção **Anexar comentários** caixa de seleção quando um comprador clicar **Obter métodos de envio e taxas** e seleciona um método de envio ao criar um pedido pelo Administrador.

<!-- MC-36425-->

* Os compradores agora podem usar o botão Voltar do navegador para retornar à página Selecionar Método de Entrega ao verificar um pedido com vários endereços. Anteriormente, o aplicativo exibia uma página Selecionar Método de Entrega corrompida. [GitHub-30268](https://github.com/magento/magento2/issues/30268)

<!-- MC-40021 ENGCOM-8983-->

* A quantidade do produto agora permanece inalterada como esperado depois que um comprador altera a quantidade na página de endereço múltiplo de Entrega e clica no botão Voltar do navegador.

<!-- ENGCOM-9096-->

* As taxas de método de envio de taxa fixa não se tornam mais zero quando uma regra de preço do carrinho é aplicada durante o check-out. [GitHub-21832](https://github.com/magento/magento2/issues/21832)

<!-- ENGCOM-8537-->

* O aplicativo não gera mais um erro quando um comerciante tenta enviar um pedido usando a DHL quando a variável **Criar etiqueta de remessa** A caixa de seleção é ativada e o nome do produto contém caracteres unicode. Anteriormente, o aplicativo exibia esse erro ao solicitar a criação do rótulo: `The response is in wrong format`.

<!-- ENGCOM-8952 -->

* Você pode fazer um pedido com sucesso do Administrador em uma implantação de vários sites na qual `United States` está ativado em um site e`Disable all countries` é ativado como o escopo padrão no outro site. Anteriormente, o aplicativo não colocava o pedido e exibia este erro: `Please check the shipping address information. "regionId" is required. Enter and try again`.

### Loja

<!-- MC-40538-->

* O aplicativo não trata mais uma string de `0` como um valor vazio ao exibir uma página inicial da loja. Anteriormente, o aplicativo tratava um valor inteiro no início de um caminho de solicitação como uma ID de loja, que tinha efeitos não intencionais no SEO.

<!-- MC-40313-->

* Plug-ins para `\Magento\Framework\App\ActionInterface` under `lib/internal/Magento/Framework/App/Action/Plugin` foram removidos para manter a diretriz de que os plug-ins devem ser usados para personalizar o comportamento de um módulo de outro módulo. [GitHub-28050](https://github.com/magento/magento2/issues/28050)

<!-- MC-24772-->

* O aplicativo agora exibe esta mensagem quando você tenta selecionar `Website` como padrão quando `Store View` é desativado durante a criação do site: `Please enable your Store View before using this Web Site as Default`. Anteriormente, o site falhava e o aplicativo não exibia um alerta.

### Imposto

<!-- MC-39571-->

* O aplicativo agora considera o imposto oculto durante a validação do valor mínimo do pedido.

<!-- MC-38025 ENGCOM-8612-->

* O aplicativo agora exibe os Impostos fixos do produto (FPT) conforme esperado quando um comprador navega de volta ao carrinho de compras e prossegue para o check-out após adicionar produtos do pacote ao carrinho. [GitHub-30250](https://github.com/magento/magento2/issues/30250)

<!-- MC-37657 magento/magento2#31850-->

* O aplicativo agora preenche o **Número do IVA** campos de entrada para os endereços de faturamento e de entrega da seção Informações de Endereço da nova página Admin com números de IVA salvos quando um administrador cria um pedido para um cliente existente. [GitHub-31846](https://github.com/magento/magento2/issues/31846)

<!-- ENGCOM-8617 magento-engcom/magento2ee#558-->

* O aplicativo agora exibe um **Número do IVA** na página de registro do cliente quando `customer/create_account/vat_frontend_visibility` estiver ativado.

### Teste

<!-- MC-41393-->

* Ambientes de teste foram atualizados para o Redis 6.0.12.

<!-- ENGCOM-8529-->

* Removido `CacheCleaner::cleanAll();` dos testes de integração.

<!-- ENGCOM-8898-->

* Adição de um teste para este cenário: Usuários administradores podem editar uma conta de cliente quando o cliente assinar um informativo em fila.

<!-- ENGCOM-8484-->

* Remoção do `cache:flush` dos testes para melhorar o tempo de execução do `Catalog`, `CatalogUrlRewrite`e `LoginAsCustomer` módulos.

<!-- ENGCOM-8499-->

* Parâmetros redundantes foram removidos e o POST foi alterado para GET, onde necessário, em `\Magento\Logging\Model\ProcessorTest::testLoggingProcessorLogsActionShipping`.

### Tema

<!-- MC-41474-->

* A página de logon do cliente não exibe mais essa mensagem quando a variável **Mova o código JS para a parte inferior da página** definição (**Loja** > **Configurações** > **Avanço** > **Desenvolvedor** > **Configurações do JavaScript**) e os cookies estão ativados: `The store will not work correctly in the case when cookies are disabled`.

<!-- MC-40982-->

* Agora, os links de conta nos cabeçalhos seguem os padrões da WCAG. Anteriormente, os links de conta nos cabeçalhos continham IDs duplicadas, o que causava falhas na validação da WCAG.

<!-- MC-40278-->

* O aplicativo agora prioriza a configuração de loja para uma imagem de logotipo de loja em vez da configuração de layout. Anteriormente, o tamanho das imagens de logotipo era fixo e não variava de acordo com a loja.

<!-- MC-35227-->

* O aplicativo agora exibe elementos de página consistentemente em páginas de loja que usam temas de Magento Open Source padrão. Anteriormente, nem todos os estilos eram aplicados no tema em branco, portanto, nem todos os elementos da página eram exibidos nas páginas que usavam esse tema. (Por exemplo, nenhum ícone de lente de aumento estava presente no campo de pesquisa da página Meus pedidos .)

### Tradução e localidades

<!-- MC-23553-->

* Os colchetes adicionados às strings não são mais removidos quando a tradução em linha é configurada. Anteriormente, o `escapeHtmlAttr` O método converteu os colchetes em códigos de entidade HTML.

<!-- ENGCOM-8694-->

* Frases intraduzíveis no Administrador agora são traduzíveis. (Essa solicitação de pull contribui com os esforços contínuos para tornar todas as strings de administração localizáveis.) [GitHub-11175](https://github.com/magento/magento2/issues/11175)

<!-- ENGCOM-8584-->

* Sequências de texto no modelo usadas para gerenciar métodos de pagamento armazenados (**Minha conta**  >  **Métodos de pagamento armazenados** ) agora são traduzíveis.

<!-- MC-30798 ENGCOM-8717-->

* Os emails de pedido enviados do Administrador agora usam a localidade da loja, não a localidade associada à conta do administrador.

### interface

<!-- MC-41784-->

* O rodapé de Administrador agora exibe a versão correta do produto.

<!-- MC-41067-->

* A paginação de origens agora está presente como esperado durante a criação da entrega do administrador.

<!-- MC-40240-->

* O filtro de grade do produto agora funciona corretamente quando você usa atributos de data personalizados para filtrar produtos e a localidade do usuário Administrador é `en_GB`.

<!-- MC-39279-->

* Os gestos de prender com zoom agora funcionam como esperado na lente de aumento da galeria de imagens da página do produto em dispositivos iOS.

<!-- MC-38787-->

* A paginação dos resultados de pesquisa da grade do produto Administrador agora começa na página um para cada pesquisa conforme esperado.

<!-- MC-38423-->

* Anomalias com a exibição do carrinho de compras quando o zoom foi resolvido. Anteriormente, os elementos de exibição se sobrepunham quando a página era ampliada.

<!-- MC-38226-->

* A página de revisão do pedido exibida durante o check-out com o PayPal Express Checkout agora é carregada com êxito. Anteriormente, o modelo continha o não usado **Atualizar método de delivery** , que só estava parcialmente oculto pelo script durante a renderização da página.

<!-- MC-37941-->

* As estrelas de classificação e o texto de revisão na seção Revisões do cliente da página do produto agora são espaçados corretamente quando nomes de classificação longos estão presentes.

<!-- MC-37688-->

* As opções agora são exibidas conforme esperado na lista suspensa Ações nas páginas Arquivar NFFs, Entregas e Avisos de Crédito.

<!-- MC-23729  magento/magento2#31549-->

* O aplicativo agora exibe um valor de hora correto quando a variável `datetime` componente `timeOnly` está definida como **sim**. [GitHub-23157](https://github.com/magento/magento2/issues/23157)

<!-- ENGCOM-8514 -->

* Agora você pode remover uma atualização de layout após criar um novo widget em Admin **Conteúdo** > **Widgets**.  [GitHub-29936](https://github.com/magento/magento2/issues/29936)

<!-- ENGCOM-8502 MC-35716-->

* O **Remover atualização de layout** O botão agora funciona conforme o esperado em qualquer layout adicionado do Administrador **Conteúdo** > **Widgets**. Anteriormente, esse botão não funcionava em nenhum layout diferente do primeiro selecionado ao adicionar vários layouts. [GitHub-30286](https://github.com/magento/magento2/issues/30286)

<!-- ENGCOM-8524 -->

* O aplicativo agora usa o título da página definido no arquivo de layout como o título da página do navegador para o arquivo de Edição de Conta do Cliente. Anteriormente, o `Magento\Customer\Controller\Account\Edit` a ação de controle forçou o valor do título da página para `Account Information`. [GitHub-30724](https://github.com/magento/magento2/issues/30724)

<!-- ENGCOM-8896 8826-->

* As caixas de seleção que permitem aos comerciantes alternar entre mostrar e ocultar senhas foram adicionadas a estas páginas:
   * Logon do cliente
   * Registro do cliente
   * Edição do cliente (seção Alterar senha)
   * Novo Conjunto de Senha do Cliente [GitHub-31557](https://github.com/magento/magento2/issues/31557)

<!-- ENGCOM-8545 -->

* Remoção de um cabeçalho redundante em células de grade que aparecia quando um administrador adicionava um produto a um conjunto de produtos agrupados após alterar o conjunto de atributos. [GitHub-30911](https://github.com/magento/magento2/issues/30911)

<!-- ENGCOM-8895 -->

* O aplicativo agora exibe um `DateRange` na área Logon do **Cliente**  >  **Logon** página. Anteriormente, o aplicativo exibia uma `Text` filtro. [GitHub-30328](https://github.com/magento/magento2/issues/30328)

<!-- ENGCOM-9009 -->

* O JavaScript foi removido dos arquivos de modelo e movido para arquivos separados para reduzir os problemas de renderização nas páginas de Administração. Anteriormente, as páginas de Administração não eram renderizadas corretamente em implantações em que a minificação do HTML tinha sido ativada. O aplicativo exibiu este erro: `An error has happened during application run. See exception log for details`. [GitHub-32454](https://github.com/magento/magento2/issues/32454)

<!-- ENGCOM-9044 -->

* O `dropdownDialog` agora, o widget carrega apenas o arrastável e redimensionável `jquery-ui` partes necessárias. Anteriormente, carregava grandes quantidades de código desnecessário, o que aumentava o tempo de carga e reduzia o desempenho. [GitHub-32810](https://github.com/magento/magento2/issues/32810)

### Regravações de URL

<!-- MC-41550-->

* As substituições de URL do produto para um site específico em uma implantação de vários sites agora são geradas conforme esperado depois que os produtos são atribuídos a um site por atualização em massa.

<!-- MC-40780 magento/magento2#32598-->

* O aplicativo agora gera corretamente o caminho do URL para categorias secundárias quando a variável **Usar valor padrão** a caixa de seleção da chave do URL está ativada para a categoria principal. Anteriormente, mover uma categoria na hierarquia resultava em um erro `url_path` ao usar chaves de URL diferentes em uma implantação de visualização de várias lojas. [GitHub-16202](https://github.com/magento/magento2/issues/16202)

<!-- MC-40371-->

* O aplicativo agora atualiza o `url_path` da categoria atribuída a todo o escopo de armazenamento quando você move uma categoria na hierarquia de categorias. Anteriormente, mover uma categoria na hierarquia resultava em um erro `url_path`.

<!-- MC-39463-->

* Os redirecionamentos de URL que são criados a partir do Administrador usando um URL personalizado agora funcionam com êxito. Anteriormente, a GraphQL armazenava a resposta em cache de uma GraphQL `urlResolver` e retornou o valor antigo após a atualização de reescrita do URL.

<!-- MC-38931  magento/magento2#31106-->

* As substituições do URL do produto agora são removidas conforme esperado quando um produto é removido de um site. [GitHub-24184](https://github.com/magento/magento2/issues/24184)

<!-- ENGCOM-8719 -->

* Adicionado um `main_table` referência à `store_id` no `addStoreFilter` da `app/code/Magento/UrlRewrite/Model/ResourceModel/UrlRewriteCollection.php` coleção. Anteriormente, os problemas ocorriam sempre que uma `join` é adicionado à coleção em uma tabela que também contém um `store_id` coluna. [GitHub-31853](https://github.com/magento/magento2/issues/31853)

<!-- ENGCOM-8894 -->

* O `PUT /V1/products/:sku` O endpoint REST agora gera reescritas de URL de produto como esperado. Anteriormente, o ponto de extremidade gerava novamente o produto `url_key` , mas não regravações de URL. [GitHub-30316](https://github.com/magento/magento2/issues/30316)

### Usuário

<!-- MC-40777-->

* Agora você pode salvar uma nova função de usuário efetiva (Administrador **Sistema** > **Permissões** > **Funções do usuário**) com o `Catalog` árvore selecionada excluindo `Edit Product Design` ( **Catálogo** > **Inventário** > **Produtos** > **Editar design de produto**). Anteriormente, o aplicativo não salvava as alterações de produto feitas por um usuário nesta função e exibia este erro: `Not allowed to edit the product's design attributes`. [GitHub-31973](https://github.com/magento/magento2/issues/31973)

<!-- MC-38442-->

* O aplicativo agora usa o modelo de email personalizado correto ao gerar email para novos usuários Administradores. Anteriormente, o aplicativo usava o modelo padrão antigo, que omitia o nome e sobrenome do administrador.

<!-- MC-38122-->

* O aplicativo agora usa o modelo de email correto ao enviar emails para novos usuários. Anteriormente, o aplicativo usava o modelo padrão mesmo quando um modelo personalizado era selecionado.

### VersionCMS

<!-- MC-39953-->

* O aplicativo agora aplica o tema correto a uma página CMS depois que você altera o layout. Anteriormente, o aplicativo alterava o tema atribuído para Luma depois que você salvava as alterações de layout, independentemente de qual tema fosse atribuído à página.

### Vídeo

<!-- MC-42059 ENGCOM-9039-->

* Os vídeos agora estão disponíveis na galeria de produtos, conforme esperado, quando o pacote avançado de JavaScript está ativado e usado. [GitHub-32501](https://github.com/magento/magento2/issues/32501)

<!-- ENGCOM-8532-->

* Os vídeos do YouTube para produtos simples que pertencem a um produto configurável agora funcionam como esperado. Anteriormente, as imagens eram solicitadas pela ID em vez da posição. Consequentemente, alguns vídeos foram tratados como imagens. [GitHub-29690](https://github.com/magento/magento2/issues/29690)

### Estrutura da API da Web

<!-- MC-41758-->

* A API de catálogo agora atualiza corretamente os valores de opção personalizados de um produto, adicionando novos valores e removendo valores antigos. Anteriormente, a API não excluía os valores antigos.

<!-- MC-34431-->

* POST `/V1/guest-carts/:cartId/billing-address` agora retorna a ID do endereço como um número inteiro, não uma string.

### Widget

<!-- MC-39128-->

* Um administrador agora pode excluir todas as atualizações de layout de um widget. Anteriormente, quando um widget tinha várias atualizações de layout, um administrador podia excluir somente o primeiro.

<!-- MC-39107-->

* Clicar no **Adicionar ao carrinho** no widget de produto não resulta mais em um recarregamento de página. Anteriormente, ao clicar no botão **Adicionar ao carrinho** em um widget de produto fazia com que uma página atual fosse recarregada antes de o produto ser adicionado ao carrinho.

### Lista de desejos

<!-- MC-40651-->

* O aplicativo não redefine mais as configurações de um produto configurável ao clicar no botão **Editar item** para o produto de uma lista de desejos. [GitHub-32119](https://github.com/magento/magento2/issues/32119)

<!-- MC-40417-->

* O aplicativo agora exibe o preço correto do produto quando você atualiza um produto com uma opção de arquivo personalizável na lista de desejos. Anteriormente, o aplicativo exibia o preço errado do produto e não exibia um link para o arquivo carregado.

<!-- MC-39060-->

* A contagem total de produtos em uma lista de desejos para um cliente com várias listas de desejos agora corresponde ao número de itens na lista de desejos. Anteriormente, os produtos indisponíveis eram incluídos na contagem total de produtos.

<!-- MC-36779 magento/magento2#31110-->

* O aplicativo agora remove um produto de uma lista de desejos depois de adicioná-lo a um pedido. [GitHub-30260](https://github.com/magento/magento2/issues/30260)

<!-- MC-34456 ENGCOM-8816-->

* Os compradores agora podem adicionar produtos relacionados ao carrinho de compras de uma lista de desejos. Anteriormente, o aplicativo adicionava somente o produto configurável, não o produto configurável e seus produtos relacionados quando um comprador clicava no **Selecionar tudo** link da seção Produtos relacionados . [GitHub-32274](https://github.com/magento/magento2/issues/32274)

## Problemas conhecidos

**Problema**: _Erro de JavaScript quando reCAPTCHA está desativado_. Se reCAPTCHA estiver desativado para check-out, o check-out continuará, mas o aplicativo exibe um `Uncaught TypeError` no log do console.  Esse problema será corrigido em uma versão posterior. <!-- MC-42589 42649-->

**Problema**: _Erro da Política de segurança de conteúdo_. A loja exibe o seguinte erro no log do console: `The Content-Security-Policy directive frame-ancestors does not support the source expression unsafe-inline`. O desempenho da vitrine não é afetado. <!-- MC-42613-->

**Problema**: _Anomalias com exibição Crédito PayPal de quantias de cartão-presente_. Quando o Crédito do PayPal é ativado e várias quantias de cartão-presente são configuradas, se um comprador alterar o valor de um cartão-presente, a loja não atualiza o valor dos pagamentos por parcela. Uma correção para esse problema será incluída no Adobe Commerce 2.4.4 e no Magento Open Source 2.4.4.<!-- MC-42499 AC-344-->

**Problema**:  _O **Adicionar à ordem**não funciona para produtos adicionados ao carrinho pelo SKU_.  o aplicativo exibe essa mensagem de erro ao clicar no botão **Adicionar à ordem** depois de adicionar produtos ao pedido por SKU: `An error has happened during application run`. Produtos não são adicionados ao carrinho. **Solução alternativa**: Use o recurso Adicionar produtos . <!-- AC-345-->

## Contribuições comunitárias

Estamos gratos à comunidade Magento Open Source mais ampla e gostaríamos de reconhecer os seus contributos para esta versão.

A equipe de engenharia da Comunidade [Colaboradores de Magento](https://magento.com/magento-contributors) mantém uma lista dos principais indivíduos e parceiros contribuintes por mês, trimestre e ano. Nessa página de Contribuidores, você pode seguir os links para suas PRs mescladas no GitHub.

### Contribuições de parceiros

O quadro a seguir destaca as contribuições dos parceiros. Essa tabela lista o Parceiro que contribuiu com a solicitação de pull, a solicitação de pull externa e o número do problema do GitHub associado a ela (se disponível).

{{$include /help/_includes/release-notes/engcomm-2-4-3-partner.md}}

### Contribuições individuais

A tabela a seguir identifica as contribuições dos membros da comunidade. Essa tabela lista as solicitações de pull externas, o número de problema do GitHub associado a ela (se disponível) e o membro da comunidade que contribuiu com a solicitação de pull.

{{$include /help/_includes/release-notes/engcomm-2-4-3-issues.md}}

### Requisitos do sistema

Nossa pilha de tecnologia é baseada em PHP e MySQL. Para obter mais informações, consulte [Requisitos do sistema](../../../installation/system-requirements.md).

### Instruções de instalação e atualização

Você pode instalar o Magento Open Source 2.4.3 usando [Composer](../../../installation/composer.md).

## Kits de ferramentas de migração

A Ferramenta de migração de dados ajuda a transferir os dados de armazenamento do Magento 1.x existentes para o Magento 2.x. Essa interface de linha de comando inclui funções de verificação, rastreamento de progresso, registro e teste. Para obter instruções de instalação, consulte [Instalar a ferramenta Migração de dados](../../../tools/data-migration-tool/install.md). Considere explorar ou contribuir para a variável [Repositório de migração de dados](https://github.com/magento/data-migration-tool).

O [Kit de ferramentas de migração de código](https://github.com/magento-commerce/code-migration) ajuda a transferir extensões e personalizações de loja do Magento 1.x existentes para o Magento 2.x. A interface da linha de comando inclui scripts para conversão de módulos e layouts do Magento 1.x.
