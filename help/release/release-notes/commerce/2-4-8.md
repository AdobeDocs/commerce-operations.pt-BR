---
title: Notas de versão do Adobe Commerce 2.4.8
description: Saiba mais sobre novos recursos, melhorias, correções de erros e problemas conhecidos na versão 2.4.8 do Adobe Commerce.
exl-id: 54b8cc02-5d38-4acd-97e7-e9205e69a1af
source-git-commit: fc3c07584d82996ff2c79057b1dffb633726f28c
workflow-type: tm+mt
source-wordcount: '3103'
ht-degree: 0%

---


# Notas de versão do Adobe Commerce 2.4.8

{{bics}}

## Destaques

O Adobe Commerce 2.4.8 oferece segurança aprimorada, compatibilidade com o PHP 8.4 e o MariaDB 11.4, amplas melhorias na API do GraphQL para acelerar a migração para uma nova [Adobe Commerce Storefront](https://experienceleague.adobe.com/developer/commerce/storefront/) alimentada pela Edge Delivery, além de mais de 500 correções de qualidade e aprimoramentos para elevar a funcionalidade existente. A atualização para a versão 2.4.8 mantém sua plataforma segura, alinhada com os últimos avanços tecnológicos e com suporte até abril de 2028.

>[!BEGINSHADEBOX]

**Recomendações de adoção**

Ao planejar sua atualização para o Adobe Commerce 2.4.8, considere as prioridades de sua empresa, a versão atual e os planos para adotar o novo [Adobe Commerce as a Cloud Service](https://experienceleague.adobe.com/en/docs/commerce/cloud-service/overview).

* **Se você planeja adotar o Adobe Commerce as a Cloud Service nos próximos 12 a 16 meses**: aplique o patch de segurança mais recente agora e planeje sua atualização como parte de sua mudança para o Cloud Service.

* **Se você não planeja adotar o Adobe Commerce as a Cloud Service nos próximos 12 a 16 meses, OU se planeja adotar o Adobe Commerce Optimizer nesse período**: seu cronograma de atualização depende da sua versão atual.

   * **Versões 2.4.4, 2.4.5 ou 2.4.6**: aplique o patch de segurança mais recente agora e inicie sua atualização para o Adobe Commerce 2.4.8 em breve, pois o suporte para o 2.4.4 termina em abril de 2026, enquanto o suporte para o 2.4.5 e 2.4.6 termina em agosto de 2026.

   * **Versão 2.4.7**: aplique o patch de segurança mais recente agora. Embora incentivemos você a atualizar o mais rápido possível para aproveitar os aprimoramentos mais recentes, você tem flexibilidade para escolher um horário que se alinhe às prioridades de negócios. Sua versão continuará tendo suporte até abril de 2027.

>[!ENDSHADEBOX]

### Segurança

Os seguintes aprimoramentos de segurança nesta versão melhoram a conformidade com as práticas recomendadas de segurança mais recentes:

>[!NOTE]
>
>Para obter as informações mais recentes sobre as correções de erros de segurança, consulte o [Boletim de Segurança do Adobe APSB25-26](https://helpx.adobe.com/security/products/magento/apsb25-26.html).

<table style="table-layout:auto">
    <tbody>
        <tr>
            <td><strong>Configurações</strong></td>
            <td>Esta versão inclui os seguintes aprimoramentos das configurações de segurança:
              <ul>
                <li><strong>Duo Security 2FA</strong>: esta alteração atualiza a implementação de autenticação de dois fatores (2FA) do <a href="https://experienceleague.adobe.com/en/docs/commerce-admin/systems/security/2fa/security-two-factor-authentication-use#duo-security">Duo Security</a> na Adobe Commerce para usar a SDK mais recente (Web SDK v4). Essa atualização permite que os comerciantes façam a transição perfeita para o uso do Duo Universal Prompt. Os comerciantes devem atualizar sua configuração nas configurações de Admin para incluir uma ID do cliente e um segredo.<!-- AC-10982 --></li>
                <li><strong>Chaves de criptografia</strong>: <!-- AC-12679 -->O gerenciamento de chaves de criptografia foi reprojetado para melhorar a usabilidade e eliminar limitações e erros anteriores. Novos comandos CLI agora estão disponíveis para <a href="https://experienceleague.adobe.com/en/docs/commerce-admin/systems/security/encryption-key">alterar</a> chaves e <a href="https://developer.adobe.com/commerce/php/development/security/data-encryption/">criptografar novamente</a> determinadas configurações do sistema, pagamento e dados de campos personalizados. Não há mais suporte para a alteração de chaves na interface do Administrador nesta versão. Você deve usar os comandos da CLI. Consulte o artigo da Base de Dados de Conhecimento <a href="https://experienceleague.adobe.com/en/docs/commerce-knowledge-base/kb/troubleshooting/known-issues-patches-attached/troubleshooting-encryption-key-rotation-cve-2024-34102">Solução de Problemas de Rotação de Chaves de Criptografia: CVE-2024-34102</a> para obter detalhes.</li>
                <li><strong>Configurações de senha única</strong>: esta atualização é necessária para resolver um erro introduzido por uma <a href="https://developer.adobe.com/commerce/php/development/backward-incompatible-changes/#new-system-configuration-validation-for-two-factor-authentication-otp_window-value">alteração incompatível com versões anteriores</a> na versão 2.4.7. A descrição do campo <strong>[!UICONTROL OTP Window]</strong> agora fornece uma explicação precisa da configuração e o valor padrão foi alterado de <code>1</code> para <code>29</code>.<!-- AC-11762 --></li>
              </ul>
            </td>
        <tr>
            <td><strong>Integridade de sub-recursos (SRI)</strong></td>
            <td>O <a href="https://developer.adobe.com/commerce/php/development/security/subresource-integrity/">mecanismo SRI</a> introduzido na versão 2.4.7 foi refatorado para melhorar a confiabilidade e o desempenho. Em vez de armazenar hashes em um cache personalizado que poderia ser limpo durante as operações de liberação de cache, os hashes SRI agora são armazenados diretamente no diretório <code>pub/static</code> e organizados por área (<code>adminhtml</code>, <code>base</code>, <code>frontend</code>). Essa alteração elimina a necessidade de reimplantar conteúdo estático após liberações de cache.</td>
        </tr>
        <tr>
            <td><strong>[!UICONTROL Data Collector]</strong>
            <td>A ferramenta de suporte [!UICONTROL System] &gt; [!UICONTROL Support] &gt; [!UICONTROL Data Collector] foi removida para impedir o acesso não autorizado e aprimorar a segurança da plataforma.</td>
        </tr>
    </tbody>
</table>

### Platform

As seguintes atualizações de plataforma para esta versão garantem que o Adobe Commerce permaneça uma plataforma robusta e confiável, pronta para atender às demandas dos ambientes de comércio modernos:

<table style="table-layout:auto">
    <tbody>
        <tr>
            <td><strong>Cache</strong></td>
            <td>Esta versão inclui suporte para o Valkey 8.x.<!-- AC-12027 --></td>
        </tr>
        <tr>
            <td><strong>Banco de dados</strong></td>
            <td>Em alinhamento com a <a href="/help/release/lifecycle-policy.md">política de ciclo de vida de suporte</a>, o Adobe Commerce agora é compatível com as seguintes versões de suporte de longo prazo (LTS) das seguintes tecnologias de banco de dados:
              <ul>
                <li><strong>MariaDB 11.4 LTS</strong> <em>_(com suporte até 2029)_</em>: a versão anterior (MariaDB 10.6) chegará ao fim da vida útil em 2026, tornando essa atualização essencial para manter a integridade e o desempenho do sistema. O MariaDB 10.6 ainda é compatível, mas a Adobe recomenda atualizar para o MariaDB 11.4 ao atualizar para o Adobe Commerce 2.4.8.</li>
                <li><strong>MySQL 8.4 LTS</strong> <em>_(com suporte até 2032)_</em>: a versão anterior (MySQL 8.0) chegará ao fim da vida útil em 2026, tornando essa atualização essencial para manter a integridade e o desempenho do sistema. O MySQL 8.0 ainda é suportado, mas a Adobe recomenda atualizar para o MySQL 8.4 ao atualizar para o Adobe Commerce 2.4.8</li>
              </ul>
            Esta versão inclui os seguintes aprimoramentos de banco de dados:
              <ul>
                <li><strong>Agrupamento MySQL</strong>: o sistema agora usa o agrupamento <code>utf8mb4</code> para MySQL, garantindo a compatibilidade com MySQL 8 e comprovando o futuro contra a descontinuação de <code>utf8mb3</code>. Anteriormente, o sistema padronizava o uso do agrupamento <code>utf8mb3</code>, que foi descontinuado no MySQL 8.<!-- AC-8828 --></li>
                <li><strong>Restrições de taxa estrangeira do MySQL</strong>: o MySQL 8.4 introduz uma validação de chave estrangeira mais rigorosa por padrão. A configuração <code>restrict_fk_on_non_standard_key</code> agora está ATIVADA por padrão, o que restringe o uso de chaves não exclusivas ou parciais como chaves estrangeiras. Os comerciantes que estiverem atualizando do MySQL 8.0 para o MySQL 8.4 devem definir explicitamente esse parâmetro como OFF ou usar a opção de servidor <code>--skip-restrict-fk-on-non-standard-key</code> para manter a compatibilidade com estruturas de banco de dados existentes. Consulte o <a href="/help/upgrade/prepare/prerequisites.md#mysql"><em>Guia de Atualização</em></a> para obter mais detalhes.<!-- AC-14257 --></li>
              </ul>
            </td>
        </tr>
        <tr>
            <td><strong>Fila de mensagens</strong></td>
            <td>Esta versão adiciona suporte para o RabbitMQ 4.x. Antes de atualizar para o RabbitMQ 4, os clientes locais e da Adobe Commerce Cloud devem <a href="https://www.rabbitmq.com/docs/3.13/migrate-mcq-to-qq">migrar de [!DNL classic mirrored queues] para [!DNL quorum queues]</a>. Essa migração é necessária porque:
              <ul>
                <li>[!DNL Classic mirrored queues] não são compatíveis com o RabbitMQ 4</li>
                <li>[!DNL Quorum queues] manter alta disponibilidade replicando o conteúdo da fila em vários nós</li>
              </ul>
            </td>
        </tr>
        <tr>
            <td><strong>PHP</strong></td>
            <td>Esta versão inclui as seguintes melhorias do PHP:
            <ul>
              <li><strong>PHP 8.4</strong>: esta versão adiciona compatibilidade com o PHP 8.4 para Adobe Commerce, extensões agrupadas e extensões, serviços e ferramentas de propriedade da Adobe. O PHP 8.3 ainda é suportado. O PHP 8.2 ainda é compatível, mas apenas para fins de atualização. A compatibilidade do PHP 8.4 exigia <a href="https://developer.adobe.com/commerce/php/development/backward-incompatible-changes/">mudanças de quebra</a>.<!-- AC-12133,AC-13078,AC-13726,AC-13077 --></li>
              <li><strong>PHP 8.1</strong>: esta versão remove o PHP 8.1 de todas as bibliotecas de projetos Adobe Commerce, dependências, extensões agrupadas e extensões, serviços e ferramentas pertencentes à Adobe.<!-- AC-13038 --></li>
              <li><strong>PHP 8.1</strong>: esta versão remove a compatibilidade com o PHP 8.1 para Adobe Commerce 2.4.8. Você deve atualizar para o PHP 8.3 antes de atualizar para o Adobe Commerce 2.4.8.</li>
              <li><strong>PHP 8.2</strong>: uma das mudanças significativas no PHP 8.2 envolve a descontinuação da passagem de nulo para parâmetros de função interna não-nulos. Esta versão aborda recursos obsoletos do PHP 8.1 nos componentes principais da plataforma e garante a compatibilidade com o PHP 8.2.</li>
              <li><strong>PHPUnit 10</strong>: esta versão aborda vários problemas críticos, aprimora a compatibilidade e garante que a estrutura de teste do Adobe Commerce se alinhe aos mais recentes padrões do setor. A Adobe recomenda que todos os fornecedores e clientes da Commerce Marketplace com personalizações verifiquem se seus testes de unidade e integração são executados no PHPUnit 10 em vez de no 9.</li>
            </ul>
            </td>
        </tr>
        <tr>
            <td><strong>Componentes</strong></td>
            <td>Os seguintes <a href="/help/release/packages/adobe-commerce.md">componentes e dependências</a> de terceiros foram atualizados para as versões estáveis mais recentes para aprimorar a estabilidade e o desempenho da plataforma:
              <ul>
                <li>Composer 2.8.x<!-- AC-12028 --></li>
                <li>glob 11.0.0<!-- AC-13076 --></li>
                <li>grunt-contributb-connect 5.0.0<!-- AC-13076 --></li>
                <li>grunt-eslint 25.0.0<!-- AC-13076 --></li>
                <li>imagemin-svgo 11.0.1<!-- AC-13076 --></li>
                <li>jquery/bootstrap 5.3.3<!-- AC-13076 --></li>
                <li>jquery/jstree 3.3.17<!-- AC-13076 --></li>
                <li>jquery.tabs.js 5.3.2<!-- AC-13076 --></li>
                <li>jquery/validate 1.20.x</li>
                <li>js-cookie/js-cookie 3.0.5<!-- AC-13076 --></li>
                <li>Moment.js 2.30.1</li>
                <li>monolog/monolog 3.x</li>
                <li>monolog/Require.js 2.3.7</li>
                <li>nginx 1.26<!-- AC-12012 --></li>
                <li>phpunit/phpunit 10.x<!-- AC-12970 --></li>
                <li>server-static 1.16.2<!-- AC-13076 --></li>
                <li>TinyMCE 6.8.5<!-- AC-13256 --></li>
                <li>sublinhado 1.13.7<!-- AC-13076 --></li>
                <li>Uppy 4.4.0<!-- AC-13076 --></li>
                <li>Verniz 7.6.x<!-- AC-12029 --></li>
                <li>wikimedia/less.php 5.x</li>
              </ul>
              Os seguintes componentes foram removidos:
                <ul>
                  <li>TinyMCE 5<!-- AC-12944 --></li>
                </ul>
              Todas as dependências do Laminas foram atualizadas para a versão mais recente, exceto as seguintes, que foram substituídas por pacotes alternativos ou funcionalidade nativa do PHP:
                <ul>
                  <li>arquivo laminas/laminas</li>
                  <li>laminas/laminas-mail</li>
                  <li>laminas/laminas-mime</li>
                  <li>laminas/laminas-oauth</li>
                </ul>
            </td>
        </tr>
        <tr>
            <td><strong>Pesquisar</strong></td>
            <td>O Adobe Commerce agora está otimizado para o OpenSearch 2.19 e não é mais compatível com o Elasticsearch. Todos os módulos e classes do Elasticsearch 7 e 8 foram descontinuados na base de código. A Adobe recomenda a transição para o OpenSearch para implantações de infraestrutura local e em nuvem para garantir suporte e compatibilidade contínuos. Consulte <a href="/help/upgrade/prepare/opensearch-migration.md">Migrando para OpenSearch</a>.
              <ul>
                <li>As opções do Elasticsearch 7 e Elasticsearch 8 agora são rotuladas como "(Obsoleto)" na configuração de Administração.</li>
                <li>Quando um usuário seleciona o Elasticsearch como mecanismo de pesquisa na Configuração de administração, o Commerce exibe uma notificação informando: <em>"Essa opção de mecanismo de pesquisa não é mais suportada pelo Adobe. Recomendamos usar o OpenSearch como um mecanismo de pesquisa."</em></li>
              </ul>
            </td>
        </tr>
    </tbody>
</table>

### Desempenho

Esta versão inclui os seguintes aprimoramentos de desempenho:

<table style="table-layout:auto">
    <tbody>
        <tr>
            <td><strong>Indexadores</strong></td>
            <td>O <a href="/help/implementation-playbook/best-practices/maintenance/indexer-configuration.md#set-indexers-to-update-on-schedule">modo indexador</a> padrão para todos os indexadores agora é [!UICONTROL Update by Schedule] ao instalar uma nova versão do Adobe Commerce ou ao atualizar de uma versão anterior. O novo padrão garante que os indexadores estejam na configuração recomendada, melhorando o desempenho do sistema e reduzindo possíveis problemas.</td>
        </tr>
        <tr>
            <td><strong>Preços do produto</strong></td>
            <td><!-- AC-13448 -->O sistema agora permite atualizações em massa de preços de camada mais eficientes sem causar problemas de desempenho ou falta de resposta do site ao usar o ponto de extremidade da API REST <a kref="https://adobe-commerce.redoc.ly/2.4.7-admin/tag/productstier-prices/"><code>/V1/products/tier-prices</code></a>. Anteriormente, atualizar um grande número de preços usando esse endpoint podia resultar em problemas de desempenho e incapacidade de resposta do site.</td>
        </tr>
    </tbody>
</table>

### Qualidade

Esta versão inclui os seguintes aprimoramentos de qualidade:

<table style="table-layout:auto">
    <tbody>
        <tr>
           <td><strong>Inventário</strong></td>
           <td>O sistema agora opera sem a dependência anteriormente oculta do Catálogo introduzida pelo InventoryIndexer, garantindo que a criação do produto, a troca do modo de exibição, a alteração do status do estoque e outras funcionalidades relacionadas funcionem conforme esperado. Anteriormente, essa dependência oculta causava inconsistências à medida que entidades diferentes eram sincronizadas e o indexador usava entidades diferentes.</td>
        </tr>
        <tr>
            <td><strong>Pedidos</strong></td>
            <td>Para minimizar a confusão, o rótulo do botão [!UICONTROL Submit Comment] foi alterado para [!UICONTROL Update] na página <a href="https://experienceleague.adobe.com/en/docs/commerce-admin/stores-sales/order-management/orders/order-processing#notes-for-this-order">detalhes do pedido</a>.</td>
        </tr>
    </tbody>
</table>

### GraphQL

Esta versão inclui os seguintes aprimoramentos do GraphQL:

<table style="table-layout:auto">
    <tbody>
        <td><strong>Carrinho e check-out</strong></td>
        <td>
            <ul>
                <li><!--LYNX-387-->Adicionados os seguintes novos campos ao tipo <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-CartItemPrices"><code>CartItemPrices</code></a> para suportar cálculos precisos de desconto e exibição de preços:
                <ul>
                  <li><code>original_item_price</code></li>
                  <li><code>original_row_total</code></li>
                  <li><code>row_total_including_catalog_discounts_only</code></li>
                </ul>
              </li>
              <li><!--LYNX-781-->Atualização do processo de finalização para que o GraphQL exiba apenas o método de pagamento "Gratuito" quando o total do pedido for zero. Esse aprimoramento reduz a confusão do comprador e garante uma experiência de compra mais estável.</li>
              <li><!--LYNX-753-->Adicionado suporte para recuperação de definições de configuração de termos e condições por meio da consulta do GraphQL <code>StoreConfig</code>. Novas configurações disponíveis: [!UICONTROL Stores] &gt; [!UICONTROL Settings] &gt; [!UICONTROL Configuration] &gt; [!UICONTROL Checkout] &gt; [!UICONTROL Checkout Options] &gt; [!UICONTROL Enable Terms and Conditions]. Essas configurações permitem que os aplicativos de front-end habilitem e configurem dinamicamente os termos e condições pela visualização de loja na página de check-out.</li>
              <li><!--LYNX-542-->Atualização da mutação <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#mutation-updateCartItems"><code>updateCartItems</code></a> para retornar respostas bem-sucedidas com detalhes de erro em vez de exceções. Mapeamento de erros aprimorado para melhorar a clareza das notificações do usuário.</li>
              <li><!--LYNX-541-->Adição de um novo tipo <code>InsufficientStockError</code> para lidar com casos em que os níveis de estoque são insuficientes. Ajustado o esquema para oferecer suporte a novos tipos de erro, aprimorando os recursos do relatório de erros.</li>
              <li><!--LYNX-547-->Mensagens refinadas para notificações de quantidade insuficiente e indisponível.</li>
              <li><!--LYNX-451-->Adição do campo <code>grand_total_excluding_tax</code> ao tipo <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-CartPrices"><code>CartPrices</code></a>, fornecendo preços claros e inclusivos em impostos.</li>
              <li><!--LYNX-377-->Adicionado o(a) <code>not_available_message</code> ao(a) <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-CartItemInterface"><code>CartItemInterface</code></a>.</li>
            </ul>
        </td>
       </tr>
        <tr>
           <td><strong>Clientes e grupos de clientes</strong></td>
           <td>Esta versão inclui os seguintes aprimoramentos de gerenciamento de clientes:
             <ul>
               <li><!--LYNX-391-->Tratamento de erros refinado na mutação <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#mutation-generateCustomerToken"><code>generateCustomerToken</code></a> para fornecer mensagens específicas para emails não confirmados. Oferece melhor orientação do usuário e resolução de erros.</li>
               <li><!--LYNX-390-->Adicionada uma nova mutação <code>resendConfirmationEmail</code> para reenviar confirmações por email.</li>
               <li><!--LYNX-566-->Adição do campo <code>customer.addressesV2</code> na consulta <a href="https://developer.adobe.com/commerce/webapi/graphql/schema/customer/queries/customer/"><code>customer</code></a>, adicionando paginação para endereços de clientes.</li>
             </ul>
           </td>
        </tr>
        <tr>
           <td><strong>Pedidos</strong></td>
           <td>Esta versão inclui os seguintes aprimoramentos no gerenciamento de pedidos de usuários:
             <ul>
              <li><!--LYNX-476-->Mensagens de erro aprimoradas para incluir valores de estoque disponíveis. Fornece aos usuários informações mais claras sobre os níveis de estoque durante atualizações de pedidos.</li>
              <li><!--LYNX-470-->Adição de um novo campo <code>date_of_first_order</code> ao tipo <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-CustomerOrders"><code>CustomerOrders</code></a>.</li>
              <li><!--LYNX-468-->Estendeu o tipo <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-OrderAddress"><code>OrderAddress</code></a> para incluir atributos personalizados, melhorando a visibilidade dos detalhes da ordem. Suporta a exibição de informações adicionais nas páginas de confirmação do pedido.</li>
              <li><!--LYNX-450-->Adição do campo <code>is_virtual</code> ao tipo <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-CustomerOrder"><code>CustomerOrder</code></a>, com suporte para identificação de produto virtual. Melhora o processamento de pedidos, distinguindo produtos virtuais e físicos.</li>
              <li><!--LYNX-449-->Adição de um tipo de <code>OrderItemPrices</code> semelhante a <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-CartItemPrices"><code>CartItemPrices</code></a> to <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-OrderItemInterface"><code>OrderItemInterface</code></a> com vários campos novos para preço.</li>
              <li><!--LYNX-448-->Aprimoramento da funcionalidade da API para mesclar pedidos de convidados com contas de clientes com base na correspondência de email. Simplifica o gerenciamento de pedidos para clientes recorrentes.</li>
              <li><!-- LYNX-523: -->Estendeu o tipo <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-CustomerOrder"><code>CustomerOrder</code></a> para incluir um campo <code>available_actions</code> para um melhor gerenciamento de pedidos. O campo "available_actions" mapeia para uma enumeração que lista as possíveis ações que podem ser executadas na ordem.</li>
              <li><!-- LYNX-524 -->Adição do campo <code>customer_info</code> ao tipo <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-CustomerOrder"><code>CustomerOrder</code></a>. Este campo requer o tipo <code>OrderCustomerInfo</code>, que contém detalhes sobre o nome do cliente.</li>
              <li><!--LYNX-519-->Adicionados códigos de erro detalhados ao tipo <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-CancelOrderOutput"><code>CancelOrderOutput</code></a>. Tratamento de erros e feedback do usuário aprimorados para os processos de cancelamento de pedido.</li>
              <li><!--LYNX-505-->Adição de uma nova mutação <code>confirmCancelOrder</code> para facilitar o cancelamento de pedidos para compradores convidados.</li>
              <li><!--LYNX-644-->O resolvedor <code>OrderStatusChangeDate</code> foi atualizado para retornar a data de alteração do status do pedido no formato padrão sem reformatação adicional, garantindo a consistência entre as respostas.</li>
              <li><!--LYNX-642-->O campo <code>order.availableActions</code> foi atualizado para garantir que a ação <code>REORDER</code> não seja retornada se um comerciante <a href="https://experienceleague.adobe.com/en/docs/commerce-admin/stores-sales/shopper-tools/reorders-allow#configure-to-allow-customer-reorders">desabilitar</a> a funcionalidade de reordenação no Administrador.</li>
              <li><!--LYNX-598-->Atualização das consultas <a href="https://developer.adobe.com/commerce/webapi/graphql/schema/orders/queries/guest-order/"><code>guestOrder</code></a> e <a href="https://developer.adobe.com/commerce/webapi/graphql/schema/orders/queries/guest-order-by-token/"><code>guestOrderByToken</code></a> para usar <code>lastname</code> em vez de <code>postcode</code> porque alguns países consideram o código postal opcional. Como resultado, alguns usuários convidados enfrentaram problemas ao buscar tokens durante o posicionamento do pedido ou recuperar pedidos feitos usando um token.</li>
              <li><!--LYNX-568-->Atualização da mutação <a href="https://developer.adobe.com/commerce/webapi/graphql/schema/orders/mutations/cancel-order/"><code>cancelOrder</code></a> para que seja acessível somente a clientes registrados. Adicionada uma nova mutação <code>requestGuestOrderCancel</code>, que requer um token de pedido (semelhante à entrada <code>guestOrderByToken</code>).</li>
              <li><!--LYNX-551-->Adição de um campo <code>order_status_change_date</code> para acompanhar a data das alterações de status do pedido.</li>
              <li><!--LYNX-524-->Adicionado <code>OrderCustomerInfo</code> ao tipo <code>CustomerOrder</code>.</li>
              <li><!--LYNX-523-->Adição do campo <code>CustomerOrder.available_actions</code> para exibir as ações disponíveis para um pedido.</li>
              <li><!--LYNX-519-->Códigos de erro mapeados com mensagens de erro correspondentes para cancelamento de pedido.</li>
              <li><!--LYNX-470-->Adicionado um filtro de histórico de pedidos com base no campo <code>created_at</code> e exposto <code>date_of_first_order</code> com o tipo <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-CustomerOrders"><code>CustomerOrders</code></a>.</li>
              <li><!--LYNX-450-->Adição do campo <code>is_virtual</code> ao tipo <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-CustomerOrder"><code>CustomerOrder</code></a>, semelhante ao tipo <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-Cart"><code>Cart</code></a>. Isso permite que o cliente oculte condicionalmente as informações de envio para pedidos que contenham apenas produtos virtuais.</li>
              <li><!--LYNX-449-->Atualização das respostas de consulta <a href="https://developer.adobe.com/commerce/webapi/graphql/schema/orders/queries/guest-order/"><code>guestOrder</code></a> e <a href="https://developer.adobe.com/commerce/webapi/graphql/schema/orders/queries/guest-order-by-token/"><code>guestOrderByToken</code></a> para incluir campos relacionados ao resumo do carrinho ausentes para confirmação de pedido. Adicionados os campos de tipo <code>OrderItemPrices</code> e <code>original_price</code> e <code>original_price_including_tax</code> aos tipos <code>OrderItemPrices</code> e <code>CartItemPrices</code>. O campo de preços agora inclui informações detalhadas sobre preços, permitindo que a página de confirmação do pedido exiba um resumo mais completo do carrinho, incluindo quantidade total, detalhes do item e preços pré-desconto.</li>
              <li><!--LYNX-448-->Atualização da API para oferecer suporte à mesclagem de pedidos de convidados com contas de clientes quando os endereços de email corresponderem. Os pedidos feitos pelos convidados agora são associados automaticamente à conta do cliente correspondente no registro ou se uma conta existente com o mesmo email for encontrada.</li>
              <li><!--LYNX-701-->Atualização do tipo <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-CustomerOrder"><code>CustomerOrder</code></a> para incluir crédito de loja e pontos de premiação aplicados aos totais do pedido. Agora, a carga do pedido retorna o rótulo e o valor dos pontos de crédito e de recompensa da loja, garantindo detalhes completos do resumo do custo.</li>
            </ul>
           </td>
        </tr>
        <tr>
        <td><strong>Produtos e catálogo</strong></td>
        <td>
            <ul>
              <li><!--LYNX-540-->Adicionado um campo <code>quantity</code> em <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-ProductInterface"><code>ProductInterface</code></a> para fornecer detalhes sobre o nível de estoque. Ele exibe o estoque disponível ou nulo com base nas configurações de Administração.</li>
              <li><!--LYNX-460-->Exibição de preços corrigidos para pacotes de produtos, garantindo informações precisas sobre preço e moeda.</li>
              <li><!--LYNX-401-->Adicionados os campos <code>grouped_product_image</code> e <code>configurable_product_image</code> ao tipo <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-StoreConfig"><code>StoreConfig</code></a>.</li>
            </ul>
        </td>
    </tr>
    <tr>
        <td><strong>Opções de presentes e cartões-presente</strong></td>
        <td>
            <ul>
              <li><!--LYNX-713-->Atualização dos tipos <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-GiftOptionsPrices"><code>GiftOptionsPrices</code></a> e <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-OrderTotal"><code>OrderTotal</code></a> para incluir campos <code>price_excluding_tax</code> e <code>price_including_tax</code> para invólucro de presente (por item e pedido) e cartões impressos. Esse aprimoramento garante uma exibição de imposto precisa com base nas definições de configuração da loja para consultas de carrinho e pedido.</li>
              <li><!--LYNX-695-->Atualização da consulta <a href="https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/store-config/"><code>storeConfig</code></a> para incluir <code>printed_card_priceV2</code> para retornar um objeto de preço em vez de uma cadeia de caracteres.</li>
              <li><!--LYNX-694-->Adicionados os campos <code>gift_wrapping_available</code> e <code>gift_wrapping_price</code> à consulta <a href="https://developer.adobe.com/commerce/webapi/graphql/schema/products/queries/products/"><code>products</code></a>. O campo <code>gift_wrapping_price</code> agora é retornado como um objeto de preço.</li>
              <li><!--LYNX-693-->Adicionados os campos <code>gift_message</code> e <code>gift_wrapping</code> ao tipo <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-GiftCardItem"><code>GiftCardCartItem</code></a>; lógica atualizada para descartar invólucro de presente para produtos virtuais.</li>
              <li><!--LYNX-692-->Atualização da consulta <a href="https://developer.adobe.com/commerce/webapi/graphql/schema/customer/queries/orders/"><code>customerOrders</code></a> para processar corretamente o campo <code>gift_message</code>.</li>
              <li><!--LYNX-691-->A consulta <a href="https://developer.adobe.com/commerce/webapi/graphql/schema/customer/queries/orders/"><code>customerOrders</code></a> foi atualizada para incluir o campo <code>applied_gift_cards</code>, permitindo a recuperação de dados de cartão-presente aplicados semelhantes a <code>applied_coupons</code>.</li>
            </ul>
        </td>
    </tr>
    <tr>
        <td><strong>Devoluções</strong></td>
        <td>
            <ul>
                <li><!--LYNX-632-->Atualização da mutação <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#mutation-requestReturn"><code>requestReturn</code></a> para entrada de itens de RMA para resolver inconsistências entre a consulta e a mutação relacionadas ao atributo de retorno.</li>
                <li><!--LYNX-515-->Atualização da mutação <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#mutation-requestReturn"><code>requestReturn</code></a> para dar suporte a devoluções de pedidos de convidados.</li>
            </ul>
        </td>
    </tr>
    <tr>
        <td><strong>Impostos e preços</strong></td>
        <td>
            <ul>
                <li><!--LYNX-633-->Atualização do tipo <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-StoreConfig"><code>StoreConfig</code></a> com campos para corresponder às configurações de exibição de imposto na configuração de Administrador.</li>
                <li><!--LYNX-697-->Adicionados os campos <code>subtotal_excl_tax</code> e <code>subtotal_incl_tax</code> ao tipo <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-OrderTotal"><code>OrderTotal</code></a>. Marcou o campo <code>subtotal</code> como obsoleto.</li>
            </ul>
        </td>
    </tr>
    <tr>
        <td><strong>Envio e faturamento</strong></td>
        <td>
            <ul>
                <li><!--LYNX-618-->Adição de um identificador para o catálogo de endereços no endereço do carrinho de remessa ou de cobrança no tipo <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-CartAddressInterface"><code>CartAddressInterface</code></a>.</li>
                <li><!--LYNX-617-->O campo <code>same_as_billing</code> foi adicionado ao tipo <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-ShippingCartAddress"><code>ShippingCartAddress</code></a>, que indica se os endereços de remessa e cobrança são os mesmos.</li>
                <li><!--LYNX-458-->As consultas <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#query-guestOrder"><code>guestOrder</code></a> e <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#query-guestOrderByToken"><code>guestOrderByToken</code></a> foram atualizadas para incluir atributos de endereço personalizados, garantindo informações completas de endereço para novas contas.</li>
            </ul>
        </td>
    </tr>
    <tr>
        <td><strong>Segurança</strong></td>
        <td>
            <ul>
                <li><!--LYNX-522-->Adição de um campo <code>theme</code> à consulta <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#query-recaptchaV3Config"><code>recaptchaV3Config</code></a>. Esse campo permite especificar o nome do tema a ser usado para renderizar o reCaptcha, garantindo informações precisas de preço e moeda.</li>
                <li><!--LYNX-319-->Segurança aprimorada ao garantir que as solicitações com tokens de cliente expirados retornem uma resposta do <code>401 Unauthorized</code>.</li>
            </ul>
        </td>
    </tr>
    </tbody>
</table>

### Braintree

Esta versão inclui os seguintes aprimoramentos de extensão agrupada do Braintree:

<table style="table-layout:auto">
    <tbody>
        <tr>
            <td><strong>Melhorias gerais</strong></td>
            <td>Esta versão inclui os seguintes aprimoramentos gerais na extensão do Braintree:
            <ul>
              <li><!-- BUNDLE-3373 -->Para oferecer uma verdadeira experiência de pagamento expresso, a extensão do Braintree agora inclui os métodos de envio no modal do PayPal, permitindo que o cliente faça check-out com menos cliques. As opções de envio são listadas e calculadas com base no endereço de envio salvo na conta do PayPal do cliente. Anteriormente, os clientes chegavam em uma página de revisão e escolhiam um método de envio para concluir o pagamento. A página de revisão agora é opcional, permitindo que os comerciantes ativem/desativem essa jornada de usuário. Os botões PayPal Express podem ser encontrados no PDP, minicarrinho, carrinho e parte superior do checkout.</li>
              <li><!-- BUNDLE-3407 -->Agora há uma nova versão do Braintree SDK. A versão do SDK do PHP é 6.21.0. A versão do JavaScript SDK é a 3.112.0. A versão mais recente tem algumas alterações necessárias para compatibilidade futura com novos recursos e funcionalidades.</li>
              <li><!-- BUNDLE-3406 -->Otimização geral do código na extensão do Braintree.</li>
              <li><!-- BUNDLE-3405 -->Para determinar a página em que um cliente inicia a experiência de check-out do PayPal (PDP, carrinho ou check-out), a extensão do Braintree agora transmite um atributo <code>data-page-type</code> para o JavaScript SDK. Esse atributo é usado para renderizar o botão na página.</li>
              <li><!-- BUNDLE-3404 -->Seguindo as novas diretrizes da marca PayPal, a extensão Braintree agora posiciona as mensagens do PayLater no PDP, no minicarrinho e no carrinho. As mensagens agora estão mais próximas/ao lado do preço/totais. A extensão agora também exibe as mensagens do PayLater como parte do botão de finalização, em vez de separadamente.</li>
              <li><!-- BUNDLE-3403 -->Para aprimorar a experiência de pagamento expresso, a extensão Braintree integra métodos de envio diretamente no modal Google Pay, permitindo que os clientes concluam o finalização com menos cliques. As opções de envio são exibidas e calculadas automaticamente com base no endereço salvo na conta de pagamento Google do cliente. Anteriormente, os clientes eram redirecionados para uma página de revisão para selecionar um método de envio antes de concluir o pagamento. Agora, a página de revisão é opcional, proporcionando ao comerciante flexibilidade para ativar/desativar essa etapa no processo de finalização. Os botões Google Pay Express estão localizados no minicarrinho, carrinho e parte superior do checkout.</li>
              <li><!-- BUNDLE-3402 -->Atualização da marca de pagamento atual do Apple para a versão mais recente.</li>
              <li><!-- BUNDLE-3401 -->Atualização da marca de pagamento atual do Google para a versão mais recente.</li>
              <li><!-- BUNDLE-3400 -->Os métodos de pagamento Sofort e Giropay foram removidos, pois não são mais compatíveis.</li>
            </ul>
            </td>
        </tr>
        <tr>
            <td><strong>Rastreamento de pacotes</strong></td>
            <td><!-- BUNDLE-3420 -->Quando um pedido do PayPal é enviado, a extensão do Braintree agora envia a transportadora e o número de rastreamento para as contas do PayPal do comerciante e do cliente. Fornecer informações de rastreamento e detalhes no nível do item melhora muito a experiência do cliente, reduzindo os custos operacionais para os comerciantes. Os clientes podem fazer logon facilmente em sua conta do PayPal, visualizar o pedido e acessar o link de rastreamento. Os comerciantes se beneficiam da resolução automática de disputas de "Item não recebido" do PayPal, acesso mais rápido a fundos em retenções de pagamentos e disputas, atualizações de rastreamento ao vivo, disputas no nível do item (em vez de disputas para todo o pedido) e perfis aprimorados de risco do comerciante.</td>
        </tr>
        <tr>
            <td><strong>Itens de linha</strong></td>
            <td>Esta versão inclui as seguintes melhorias nos itens de linha:
            <ul>
              <li><strong>Aplicar pagamento</strong><!-- BUNDLE-3409 -->: quando os clientes fazem check-out usando o Apple Pay Express, a extensão do Braintree agora mostra os itens de linha do carrinho no modal do Apple Pay. Ao clicar na dica de ferramenta (?) ao lado do preço, os clientes podem visualizar itens individuais do carrinho, descontos, envio e detalhes de impostos, removendo a necessidade de sair do modal para confirmar seus itens.</li>
              <li><strong>Pagamento do Google</strong><!-- BUNDLE-3408 -->: quando os clientes fazem check-out usando o Google Pay Express, a extensão do Braintree agora exibe os itens de linha do carrinho diretamente no modal do Pagamento do Google. Ao clicar na dica de ferramenta (?) ao lado do preço, o cliente pode visualizar itens individuais do carrinho, descontos, envio e detalhes de impostos, eliminando a necessidade de sair do modal para verificar seus itens.</li>
            </ul>
            </td>
        </tr>
    </tbody>
</table>

<!-- Fixed issues -->

{{$include /help/_includes/templated/release/fixed-issues/v2.4.8/commerce.md}}
