---
title: Notas de versão do Adobe Commerce 2.4.3
description: Saiba mais sobre novos recursos, melhorias, correções de erros e problemas conhecidos na versão 2.4.3 do Adobe Commerce.
exl-id: 34b1248f-a44e-489b-94ae-945d31abecea
source-git-commit: 55e0e688999c47f72593df46648609d9f9f98398
workflow-type: tm+mt
source-wordcount: '15950'
ht-degree: 0%

---

# Notas de versão do Adobe Commerce 2.4.3

O Adobe Commerce 2.4.3 apresenta aprimoramentos no desempenho e na segurança, além de melhorias significativas na plataforma. Os aprimoramentos de segurança incluem a expansão da cobertura do reCAPTCHA e a inclusão da limitação de taxa integrada. As dependências do Core Composer e de bibliotecas de terceiros foram atualizadas para as versões mais recentes compatíveis com o PHP 8.x.

Esta versão inclui mais de 370 novas correções para o código principal e 33 aprimoramentos de segurança. Todos os problemas conhecidos identificados nas notas de versão do Adobe Commerce 2.4.2 foram corrigidos nesta versão.

{{bics}}

Consulte [Notas de versão do Adobe Commerce 2.4.2-p2](../security/2-4-2-p2.md) para obter informações sobre o Adobe Commerce 2.4.2-p2.

## Outras informações sobre a versão

Embora o código para esses recursos esteja incluído nas versões trimestrais , vários desses projetos (por exemplo, B2B, Page Builder e Progressive Web Application (PWA) Studio) também são lançados independentemente. As correções de erros para esses projetos estão documentadas nas informações de versão separadas e específicas do projeto, disponíveis na documentação de cada projeto.

## Aplique MC-43048_set_rate_limits_2.4.3.patch para resolver o problema de limitação da taxa de API

Essa correção fornece uma solução para o problema em que as APIs da Web não podem processar solicitações que contenham mais de 20 itens em uma matriz. Esse problema afeta as implantações que executam o Magento Open Source 2.4.3, Adobe Commerce 2.4.3 ou 2.3.7-p1. A limitação de taxa integrada foi adicionada a essas versões para evitar ataques de DoS (negação de serviço) e o máximo padrão foi definido como 20. Este patch reverte o limite padrão para um valor maior. Se você suspeitar que seu armazenamento está enfrentando um ataque de DoS, a Adobe recomenda reduzir os limites de entrada padrão para um valor menor para restringir o número de recursos que podem ser solicitados. Consulte a [A API da Web não pode processar solicitações com mais de 20 itens na matriz](https://support.magento.com/hc/en-us/articles/4406893342093) Artigo da knowledge base.

## Aplique AC-384_Fix_Incompatible_PHP_Method__2.4.3_ce.patch para resolver o erro fatal do PHP na atualização

O seguinte erro fatal pode ocorrer durante a atualização para o Adobe Commerce 2.4.3:

```terminal
PHP Fatal error: Uncaught Error: Call to undefined function Magento\Framework\Filesystem\Directory\str_contains() in [...]/magento/vendor/magento/framework/Filesystem/Directory/DenyListPathValidator.php:74
```

Esse erro resulta do uso da variável `str_contains` que é uma função do PHP 8.x. O Adobe Commerce 2.4.3 não suporta o PHP 8.x. Esta correção substitui esta função por uma função suportada no PHP 7.x. Consulte a [Hotfix de erro fatal do PHP 2.4.3, 2.3.7-p1 para Adobe Commerce](https://support.magento.com/hc/en-us/articles/4408021533069-Adobe-Commerce-upgrade-2-4-3-2-3-7-p1-PHP-Fatal-error-Hotfix) Artigo da knowledge base.

## Aplicar `AC-3022.patch` continuar a oferecer a DHL como transportadora

A DHL apresentou o schema versão 6.2 e descontinuará o schema versão 6.0 em breve. Adobe Commerce 2.4.4 e versões anteriores que suportam a integração DHL suportam apenas a versão 6.0. Os comerciantes que implantarem essas versões devem aplicar `AC-3022.patch` continuar a oferecer a DHL como transportadora. Consulte a [Aplique um patch para continuar oferecendo a DHL como transportadora](https://support.magento.com/hc/en-us/articles/7707818131597-Apply-a-patch-to-continue-offering-DHL-as-shipping-carrier) Artigo da Base de conhecimento para obter informações sobre como baixar e instalar o patch.

## Destaques

Procure os seguintes destaques nesta versão.

### Aprimoramentos substanciais de segurança

Esta versão inclui 33 correções de segurança e melhorias de segurança na plataforma. Muitas dessas correções de segurança tiveram suporte para 2.4.2-p2 e 2.3.7-p1.

#### 33 aprimoramentos de segurança que ajudam a fechar as vulnerabilidades de RCE (Remote Code Execution, execução remota de código) e XSS (Cross-Site Scripting, script entre sites)

Nenhum ataque confirmado relacionado a esses problemas ocorreu até o momento. No entanto, certas vulnerabilidades podem ser potencialmente exploradas para acessar informações do cliente ou assumir o controle de sessões de administrador. A maioria desses problemas exige que um invasor obtenha acesso ao Administrador primeiro. Como resultado, lembramos você de tomar todas as medidas necessárias para proteger seu administrador, incluindo, mas não limitado a, esses esforços: incluir na lista de permissões de IP, [autenticação de dois fatores](https://devdocs.magento.com/guides/v2.4/security/two-factor-authentication.html), o uso de uma VPN, o uso de um local único em vez de `/admin`e boa higiene de senhas. Consulte [Boletim de segurança do Adobe](https://helpx.adobe.com/security/products/magento/apsb21-64.html) para obter uma discussão sobre esses problemas corrigidos.

#### Aprimoramentos adicionais de segurança

Os aprimoramentos de segurança desta versão melhoram a conformidade com as práticas recomendadas de segurança mais recentes, incluindo:

* A **novo plug-in do Composer** ajuda a evitar confusão de dependência e identifica pacotes mal-intencionados com os mesmos nomes que os pacotes internos no repositório de pacotes públicos. Consulte a [O Adobe lança o novo plug-in do compositor com a versão 2.4.3](https://magento.com/blog/best-practices/adobe-releases-new-composer-plugin-magento-243-release) publicação do blog.

* **A limitação de taxa agora está incorporada às APIs** para evitar ataques de DoS (negação de serviço). Agora, as APIs da Web impõem restrições sobre o tamanho ou o número de recursos (o máximo padrão é definido como 20 e pode ser configurado para um valor diferente com base na necessidade comercial) que podem ser solicitados por um cliente. Consulte [Limitação de taxa](https://developer.adobe.com/commerce/webapi/get-started/api-security/) para obter informações sobre como configurar essas restrições. <!-- MC-35358-->

* **A cobertura do ReCAPTCHA foi estendida** para incluir:

   * As APIs da Web que têm páginas HTML correspondentes são cobertas pelo ReCAPTCHA. (Isso exclui APIs da Web que são acessadas por integrações.) A cobertura do ReCAPTCHA protege os endpoints contra ataques de spam. Quando as APIs da Web são acessadas por um serviço de integração de terceiros que usa OAuth, o ReCAPTCHA é desativado.<!-- MC-34472-->

   * A página da loja Fazer pedido e as APIs da Web relacionadas a pagamento. A proteção do ReCAPTCHA para essas páginas está desativada por padrão e pode ser ativada no Admin. Essa cobertura adiciona um mecanismo de força anti-brutalidade para proteger as lojas contra ataques de cartões.

{{cve-notice}}

### Melhorias na infraestrutura

Esta versão inclui aprimoramentos que melhoram a qualidade da estrutura e as seguintes áreas funcionais:

* Conta do cliente

* Catálogo

* CMS

* OMS

* Importar/Exportar

* Promoções e direcionamento

* Carrinho e check-out

* B2B

* Preparo e Pré-visualização

**PayPal Pay Later agora é compatível** em implantações que incluem PayPal. Esse recurso permite que os compradores paguem um pedido em prestações quinzenais em vez de pagar o valor total no momento da compra. <!-- MC-40556-->

**Novo `use_application_lock` modo de indexação**. A variável `use_application_lock` permite habilitar a reindexação usando variáveis de ambiente ou configurando o `app/etc/env.php` arquivo. Não é mais necessário redefinir manualmente o indexador após uma falha com esse modo ativado. Consulte [Usando o modo de bloqueio do aplicativo para processos de reindexação](https://developer.adobe.com/commerce/php/development/components/indexing/#using-application-lock-mode-for-reindex-processes).

### Aprimoramentos na plataforma

A versão 2.4.3 ainda não é compatível com o PHP 8.x, mas as atualizações de plataforma a seguir nos trazem uma compatibilidade futura com o PHP 8.x.

* As dependências do Core Composer e bibliotecas de terceiros foram atualizadas para as versões mais recentes compatíveis com o PHP 8.x. <!-- MC-39514-->

* A biblioteca KnockoutJS foi atualizada para v3.5.1 (a versão mais recente). <!-- MC-40694-->

* A biblioteca TinyMCE v3 obsoleta foi removida. A variável `Magento_Tinymce3Banner` Os testes de módulo e MFTF relacionados ao TinyMCE v3.x foram removidos do Adobe Commerce. <!-- MC-42199 42170 -->

* A versão 2.4.3 foi testada e confirmada como compatível com o Redis 6.0.12. (a versão 2.4.x permanece compatível com o Redis 5.x.)

* As dependências da biblioteca Laminas foram atualizadas para versões compatíveis com o PHP 8.x. Algumas dependências redundantes foram removidas do `composer.json` arquivo. **O Adobe Commerce 2.4.3 usa o Laminas 3.4.0**. <!-- MC-39513-->

### Aprimoramentos de desempenho

Esta versão inclui aprimoramentos que diminuem o tempo de indexação dos indexadores de Preço do produto e Regra de catálogo. Os comerciantes agora podem excluir um site de um grupo de clientes ou catálogo compartilhado, o que reduz o número de registros para indexação e melhora os tempos de indexação.

### Live Search

[Live Search](https://docs.magento.com/user-guide/live-search/overview.html) powered by [Adobe Sensei](https://www.adobe.com/sensei.html) O oferece uma experiência de pesquisa intuitiva usando inteligência artificial e algoritmos de aprendizado de máquina do para executar uma análise profunda dos dados agregados do visitante. Consulte [Notas de versão do Live Search](https://experienceleague.adobe.com/docs/commerce-merchant-services/live-search/release-notes.html).

### GraphQL

Esta versão inclui o suporte à GraphQL para os seguintes recursos:

* **Catálogos compartilhados**<!-- PWA-1294-->

* **Listas de desejos**. A variável [Mutação de addWishlistItemsToCart](https://devdocs.magento.com/guides/v2.4/graphql/mutations/add-wishlist-items-to-cart.html) move itens da lista de desejos especificada para o carrinho do cliente. <!-- magento/partners-magento2ee#449-->

* **Registros de presentes**. As tarefas abrangidas incluem: <!-- PWA-1290-->

   * Use o [consulta do presentRegistry](https://devdocs.magento.com/guides/v2.4/graphql/queries/gift-registry.html) para devolver o conteúdo dos registros de presentes do cliente.

   * Pesquisar registros de presentes por [type](https://devdocs.magento.com/guides/v2.4/graphql/queries/gift-registry-type-search.html), [email](https://devdocs.magento.com/guides/v2.4/graphql/queries/gift-registry-email-search.html)ou [ID](https://devdocs.magento.com/guides/v2.4/graphql/queries/gift-registry-id-search.html).

   * [Criar](https://devdocs.magento.com/guides/v2.4/graphql/mutations/create-gift-registry.html), [atualizar](https://devdocs.magento.com/guides/v2.4/graphql/mutations/update-gift-registry.html)ou [excluir](https://devdocs.magento.com/guides/v2.4/graphql/mutations/remove-gift-registry.html) registros de presentes.

   * [Atualizar](https://devdocs.magento.com/guides/v2.4/graphql/mutations/update-gift-registry-items.html) ou [remover](https://devdocs.magento.com/guides/v2.4/graphql/mutations/remove-gift-registry-items.html) itens de um registro de presente.

   * [Mover todos os itens](https://devdocs.magento.com/guides/v2.4/graphql/mutations/move-cart-items-to-gift-registry.html) do carrinho para o registro de presentes. <!-- ENGCOM-9082 9087-->

   * [Adicionar](https://devdocs.magento.com/guides/v2.4/graphql/mutations/add-gift-registry-registrants.html), [atualizar](https://devdocs.magento.com/guides/v2.4/graphql/mutations/update-gift-registry-registrants.html)ou [remover](https://devdocs.magento.com/guides/v2.4/graphql/mutations/remove-gift-registry-registrants.html) inscritos de um registro de presentes.

   * [Compartilhar](https://devdocs.magento.com/guides/v2.4/graphql/mutations/share-gift-registry.html) um registro de presentes com convidados.

* **Cotações negociáveis**. Consulte a [`negotiableQuote`](https://devdocs.magento.com/guides/v2.4/graphql/queries/negotiable-quote.html) e [`negotiableQuotes`](https://devdocs.magento.com/guides/v2.4/graphql/queries/negotiable-quotes.html) consultas. <!-- PWA-1292-->

   As novas mutações incluem:

   * [`requestNegotiableQuote`](https://devdocs.magento.com/guides/v2.4/graphql/mutations/request-negotiable-quote.html)

   * [`setNegotiableQuoteShippingAddresses`](https://devdocs.magento.com/guides/v2.4/graphql/mutations/set-negotiable-quote-shipping-address.html)

   * [`updateNegotiableQuoteQuantities`](https://devdocs.magento.com/guides/v2.4/graphql/mutations/update-negotiable-quote-quantities.html)

   * [`removeNegotiableQuoteItems`](https://devdocs.magento.com/guides/v2.4/graphql/mutations/remove-negotiable-quote-items.html)

   * [`closeNegotiableQuotes`](https://devdocs.magento.com/guides/v2.4/graphql/mutations/close-negotiable-quotes.html)

   * [`deleteNegotiableQuotes`](https://devdocs.magento.com/guides/v2.4/graphql/mutations/delete-negotiable-quotes.html).

* **Rotas compartilhadas**. A variável [consulta de roteiro](https://devdocs.magento.com/guides/v2.4/graphql/queries/route.html) e [InterfaceRoteável](https://devdocs.magento.com/guides/v2.4/graphql/interfaces/routable-interface.html) suporte a solicitações de roteamento em páginas de produto, categoria e CMS. A variável `urlResolver` consulta foi descontinuada e sua funcionalidade foi substituída pela `route` consulta.

Consulte a [Guia do desenvolvedor do GraphQL](https://devdocs.magento.com/guides/v2.4/graphql/) para obter detalhes sobre esses aprimoramentos.

### B2B

A versão 2.4.3 apresenta o B2B v1.3.2. Esta versão inclui várias correções de erros. Consulte [Notas de versão B2B](https://experienceleague.adobe.com/docs/commerce-admin/b2b/release-notes.html).

### Page Builder

O Page Builder agora está disponível como uma extensão agrupada no Magento Open Source. Agora, ela é a ferramenta de edição de conteúdo padrão para o Adobe Commerce 2.4.3 e Magento Open Source 2.4.3. Ele pode substituir o editor WYSIWG por qualquer módulo de terceiros.

O Page Builder substitui o editor TinyMCE nas seguintes áreas de administração:

* Página CMS
* Bloco CMS
* Descrição da categoria
* Descrição do produto

Todo o conteúdo criado no TinyMCE foi migrado para o Page Builder como HTML.

### PWA Studio

Para obter informações sobre aprimoramentos e correções de erros, consulte [Versões do PWA Studio](https://github.com/magento/pwa-studio/releases). Consulte [compatibilidade](https://developer.adobe.com/commerce/pwa-studio/integrations/adobe-commerce/version-compatibility/) para obter uma lista de versões do PWA Studio e suas versões compatíveis.

### Ferramenta de compatibilidade de atualização

O âmbito de aplicação do [Ferramenta de compatibilidade de atualização](https://experienceleague.adobe.com/docs/commerce-operations/upgrade-guide/upgrade-compatibility-tool/overview.html) O foi expandido com base no feedback da comunidade. Associe-se ao nosso [#upgrade-compatibility-tool](https://magentocommeng.slack.com/archives/C019Y143U9F) canal Slack para obter suporte da equipe de produtos Adobe e da comunidade, bem como para ajudar a orientar a direção futura da ferramenta.

### Atualizações de serviços gerenciados na nuvem

Esta versão inclui aprimoramentos em nosso suporte para o Amazon Simple Storage Service (AWS S3) e serviços gerenciados em nuvem Amazon Aurora. Ele fornece suporte certificado para AWS ElastiCache, AWS Elasticsearch e AWS Managed Queues (Rabbit MQ). (Testamos a funcionalidade, o desempenho e a integração desses serviços com o Adobe Commerce.)

### Integração do Adobe Stock

Esta versão inclui a Integração do Adobe Stock v2.1.1.

### Extensões desenvolvidas pelo fornecedor

Consulte os seguintes tópicos para obter atualizações sobre recursos e alterações desta versão:

* [Amazon Pay](https://marketplace.magento.com/amzn-amazon-pay-magento-2-module.html). O Amazon Pay foi descontinuado e será removido em uma versão 2.4.x posterior. A versão 2.4.3 e superior conterá apenas atualizações para compatibilidade e correções para bugs principais.

* [Braintree](https://docs.magento.com/user-guide/payment/braintree.html)

* [Dotdigital Engagement Cloud](../../../upgrade/modules/upgrade.md)

* [Klarna](https://marketplace.magento.com/klarna-m2-klarna.html)

* [Vertex Cloud](https://marketplace.magento.com/vertexinc-vertex-tax-module.html)

* [Análises de produto do Yotpo](../../../upgrade/modules/upgrade.md)

## Problemas corrigidos

Corrigimos centenas de problemas no código principal 2.4.3.

### Instalação, atualização, implantação

<!-- MC-41154-->

* A variável `bin/magento setup:db:status` O comando agora retorna uma mensagem indicando que tudo está atualizado após um upgrade bem-sucedido. Anteriormente, o aplicativo exibia este erro: `Declarative Schema is not up to date`.

<!-- MC-40031 -->

* Os valores de configuração agora são preservados no recarregamento de formulário quando a criação de um novo produto configurável falha. Anteriormente, os valores eram perdidos durante o recarregamento do formulário e o aplicativo exibia este erro: `The value specified in the URL Key field would generate a URL that already exists`. [GitHub-32102](https://github.com/magento/magento2/issues/32102)

<!-- MC-37596-->

* O aplicativo não lança mais uma exceção quando você executa `bin/magento setup:upgrade` para atualizar de uma implantação de Magento Open Source com Redis para Adobe Commerce.

<!-- MC-34453-->

* As regras de preço do carrinho criadas anteriormente agora são exibidas na página do painel Preparo de conteúdo depois que uma implantação é atualizada do Magento Open Source para o Adobe Commerce.

<!-- ENGCOM-8508 -->

* As implantações executadas no Cluster Galera agora oferecem suporte a mais clientes. [GitHub-31038](https://github.com/magento/magento2/issues/31038)

<!-- ENGCOM-9036 MC-41938 -->

* Os administradores agora podem fazer logon com êxito em uma implantação quando o aplicativo tiver sido instalado com o `—use-rewrites=0` ou com `web/seo/use_rewrites` definir como 0 in `core_config_data_table`. [GitHub-32100](https://github.com/magento/magento2/issues/32100)

<!-- ENGCOM-8451 -->

* Atualizado `sortOrder` carga para `AsyncCssPlugin`. O aplicativo agora é carregado `AsyncCssPlugin` antes `JsFooterPlugin`. [GitHub-30882](https://github.com/magento/magento2/issues/30882)

<!-- ENGCOM-8701 -->

* `Magento\Config\Model\Config\PathValidator` agora verifica o caminho de exibição para determinar se um elemento existe e, se ele tiver um caminho de configuração, usa o `config.xml` caminho para validação. [GitHub-27678](https://github.com/magento/magento2/issues/27678)

<!-- ENGCOM-8684 -->

* A compilação de menos arquivos com o Grunt ou por compilação do lado do servidor agora produz os mesmos resultados. Anteriormente. `.abs- styles`, que estende outros `.abs- styles` in `_extends.less`, não foram enviados corretamente quando compilados com Grunt. Isso resultou em diferenças entre implantações de produção e desenvolvimento. [GitHub-7231](https://github.com/magento/magento2/issues/7231)

### AdminGWS

<!-- MC-40703-->

* O Admin GWS agora usa `int` valores para o `website_id` Condição SQL em coleções de administradores para administradores com permissões personalizadas.

### Integração do Adobe Stock

<!-- MC-39754-->

* O aplicativo agora exibe uma mensagem informativa e um link para o Administrador **Lojas** > **Configuração** > **Avançado** > **Sistema** na página Pesquisar por Adobe Stock quando **Chave da API (ID do cliente)** e **Segredo do cliente** não estão definidas. Anteriormente, o aplicativo exibia este erro: `We couldn't find any records` e sem link.

### Infraestrutura

<!-- MC-40389-->

* Os administradores com acesso restrito (por exemplo, aos quais é atribuído acesso somente a um site) não podem mais editar categorias definidas para o escopo Global.

<!-- MC-39037-->

* O relatório de Sistema gerado (**Sistema** > **Suporte** > **Relatório do sistema**) agora é renderizado corretamente. Anteriormente, o conteúdo do relatório estava desalinhado.

<!-- MC-30152 ENGCOM-8625-->

* O aplicativo agora desativa a validação no **Preço** conforme esperado quando a variável **Preço dinâmico** a configuração está ativada durante a criação do produto do pacote. Anteriormente, o aplicativo exibia um erro de validação quando você removia um valor do **Preço** quando a variável **Preço dinâmico** foi ativada. [GitHub-26214](https://github.com/magento/magento2/issues/26214)

<!-- MC-24840-->

* Redirecionamentos infinitos não ocorrem mais quando o URL do administrador difere do URL do site padrão em implantações em que o aplicativo é configurado para ser acessível a partir de dois URLs.

### Produtos do pacote

<!-- MC-41810-->

* Agora você pode usar o `addProductsToCart` mutação para adicionar um pacote de produto com mais de uma opção de caixa de seleção a um carrinho.

<!-- MC-41614-->

* A indexação de preços de produtos de pacote agora é executada usando tabelas temporárias, o que evita o bloqueio de tabelas de banco de dados. Anteriormente, o aplicativo usava tabelas físicas, o que resultava em tabelas bloqueadas.

<!-- MC-41177 magento/magento2#32594-->

* O preço de um item de pacote agora pode ser definido como 0,00. Anteriormente, ao retornar à página de edição após definir o preço como 0,00, o preço retornava ao valor padrão. [GitHub-32383](https://github.com/magento/magento2/issues/32383)

<!-- MC-40603-->

* Os detalhes do pedido para pedidos que contêm produtos de pacote agora mostram o preço correto para os produtos de pacote se o preço foi alterado antes do pedido ser feito.

<!-- MC-40035-->

* O status do estoque de produtos do pacote agora é atualizado com base no status do estoque de seus produtos secundários. Anteriormente, os produtos de pacote eram mostrados como indisponíveis quando uma opção era removida do produto, e o produto de pacote tinha duas opções com o mesmo SKU.

<!-- MC-39276-->

* Um administrador agora pode alterar o valor de um pacote do `Shipment Type` atributo depois de ter sido movido para um grupo de atributos diferente. Anteriormente, esse atributo sempre era salvo com um `Together` valor se ele foi movido para um grupo de atributos diferente do grupo padrão no conjunto de atributos.

<!-- MC-38900-->

* O GRAPHQL `setGuestEmailOnCart` A mutação agora atualiza corretamente o email do convidado. Anteriormente, as tabelas de cotações e endereços de cotações não eram atualizadas.

<!-- MC-37719-->

* Adicionar, remover ou atualizar um produto filho em um produto combinado por meio de chamadas de API REST agora aciona a reindexação, conforme esperado. Anteriormente, essas ações não acionavam a reindexação e, como resultado, o produto do pacote não alterava seu status de estoque até que a reindexação manual fosse executada.

<!-- MC-35725 ENGCOM-8568-->

* O aplicativo agora exibe a faixa de preços correta para produtos de pacote com preços de nível. [GitHub-30284](https://github.com/magento/magento2/issues/30284)

<!-- MC-35638-->

* O aplicativo agora exibe o mesmo preço total que o esperado na página do carrinho de compras e na etapa de envio do fluxo de trabalho de check-out após a alteração do preço de uma opção de pacote.

<!-- MC-32617-->

* Agora é possível configurar um produto agrupado com êxito acessando-o de um carrinho de compras do cliente. Anteriormente, a página Configurar produto nunca era completamente carregada e você não podia salvar suas configurações.

<!-- MC-30317 ENGCOM-7141-->

* Os comerciantes agora podem atribuir um preço exclusivo para um produto combinado em cada exibição de loja de uma implantação de várias lojas. Os preços específicos do site são salvos na variável `catalog_product_bundle_selection_price` tabela. Anteriormente, o aplicativo não baseava o preço de um pacote no escopo do site mesmo quando  **Lojas** > **Configuração** > **Catálogo** > **Catálogo** > **Preço** > **Escopo do Preço de Catálogo** foi definido como `Website`. Nenhum preço específico do site foi salvo em `catalog_product_bundle_selection_price`. [GitHub-12584](https://github.com/magento/magento2/issues/12584)

<!-- ENGCOM-8705 MC-38953-->

* As faturas de produtos agrupados agora exibem a quantidade correta dos produtos simples associados quando **Preços dinâmicos** está desativado. Anteriormente, os produtos simples associados ao produto do pacote tinham a quantidade do produto principal, não o produto do pacote). [GitHub-30802](https://github.com/magento/magento2/issues/30802)

<!-- magento/magento2#30374 MC-36930-->

* A variável `updateProductsInWishlist` a mutação agora atualiza com êxito os itens que pertencem a um produto de pacote em uma lista de desejos. Anteriormente, em vez de atualizar o item da lista de desejos, essa mutação excluiu o item e criou um novo, que alterou a ID do item.

<!-- MC-38575-->

* Agora você pode definir a variável `required_options` e `has_options` atributos de pacote conforme esperado ao criar ou atualizar um produto de pacote usando o `POST /V1/product/:sku` terminal. Anteriormente, esses atributos personalizados eram definidos como 0 (zero), apesar dos esforços para defini-los como 1 (um).

<!-- MC-38483-->

* Os dados de produto do pacote que estavam ausentes anteriormente agora são incluídos no processo de preparo. Isso soluciona inconsistências no comportamento do produto quando os compradores compram um produto empacotado da página de listagem de produtos em vez de adicioná-lo diretamente de uma página de produto.

### Cache

<!-- ENGCOM-8554-->

* A variável `varnish6.vcl` O arquivo foi atualizado para ignorar o armazenamento em cache da página do cliente.

### CAPTCHA

<!-- MC-41572-->

* Agora, o CAPTCHA valida corretamente os dados fornecidos por um comprador, e os campos CAPTCHA agora são exibidos como esperado após as várias tentativas malsucedidas de um comprador para fazer check-out com o PayPal Payflow Pro.

<!-- MC-41281-->

* A validação do CAPTCHA não falha mais aleatoriamente na página de pagamento do fluxo de trabalho de finalização.

<!-- MC-41001-->

* O aplicativo agora exibe campos CAPTCHA conforme esperado depois que você excede o número de tentativas com falha de conclusão. Anteriormente, embora o aplicativo tenha solicitado que você tentasse o desafio CAPTCHA novamente, ele não exibia os campos CAPTCHA.

<!-- MC-40359-->

* O CAPTCHA agora funciona conforme esperado na página de finalização. Anteriormente, depois que um comprador respondia corretamente a um desafio de CAPTCHA, o carregador na página de check-out nunca era concluído e o aplicativo exibia este erro: `captchaData[formId] is undefined`. (Esse erro ocorria somente quando o comprador usava o mesmo navegador do qual acessava anteriormente uma implantação que executava o 2.3.5-p1.)

<!-- ENGCOM-8630-->

* `_.isEmpty()` verificações no `defaultCaptcha.js` O arquivo agora foi concluído com sucesso. Anteriormente, essas verificações não eram concluídas e, como resultado, a página de check-out não era carregada após a atualização. [GitHub-31641](https://github.com/magento/magento2/issues/31641)

### Carrinho e check-out

<!-- MC-41911-->

* O aplicativo agora leva em conta os localizadores decimais específicos da localidade ao converter e atualizar a quantidade do produto no carrinho.

<!-- MC-41574-->

* Os pedidos não omitem mais um nome de cliente fornecido com um endereço de entrega. Anteriormente, os nomes eram omitidos porque `same_as_billing` O sinalizador não foi salvo no banco de dados.

<!-- MC-40946-->

* Os links para registros de presentes agora persistem conforme esperado ao editar um produto no carrinho de compras. Anteriormente, esses links desapareciam ao clicar no **Atualizar carrinho** botão.

<!-- MC-40696-->

* Todas as mensagens da fila para o consumidor `quoteItemCleaner` agora, altere o status para `complete` conforme esperado após a exclusão de vários produtos. Anteriormente, apenas uma mensagem para esse consumidor alterava seu status para `complete`, e o restante mudou de status para `in progress`.

<!-- MC-40657-->

* O aplicativo agora exibe a mensagem de validação dos Termos e condições no bloco relevante somente quando um comprador clica em **Fazer pedido** botão. Anteriormente, o aplicativo exibia essa mensagem no bloco Aplicar código de desconto sempre que um comprador alterava o método de pagamento no workflow de finalização da compra: `The order wasn't placed. First, agree to the terms and conditions, then try placing your order again`.

<!-- MC-40271 magento/partners-magento2ee#476-->

* Agora você é redirecionado para a página de check-out conforme esperado depois de adicionar um produto incluído ao carrinho por meio de uma visualização de Atualização da programação e clicar no carrinho. [GitHub-447](https://github.com/magento/partners-magento2ee/issues/447)

<!-- MC-39581-->

* O aplicativo agora descarta as alterações no formulário de endereço de faturamento na etapa de pagamento do checkout se o comprador não clicar no **Atualizar** e retornado à etapa de envio.

<!-- MC-39517  magento/partners-magento2ee#460-->

* O aplicativo agora exibe uma mensagem de erro informativa e não atualiza a quantidade do produto quando um comprador adiciona uma quantidade de produto inválida e clica no **Atualizar itens e Quantidades** na página Gerenciar carrinho de compras. Anteriormente, o aplicativo atualizava a quantidade do produto e não exibia uma mensagem de erro. [GitHub-459](https://github.com/magento/partners-magento2ee/issues/459)

<!-- MC-37807 ENGCOM-8530-->

* Produtos com uma opção personalizada `(File)` agora inclua links ativos conforme esperado durante todo o processo de finalização de remessa múltipla. Anteriormente, esse link estava ausente. [GitHub-31095](https://github.com/magento/magento2/issues/31095)

<!-- MC-37689-->

* O carrinho de compras de Administrador agora exibe os preços do produto nas moedas corretas das lojas que oferecem suporte a várias moedas. Anteriormente, os preços eram convertidos para a moeda especificada mais de uma vez — primeiro, quando os produtos eram adicionados ao carrinho pela loja e depois novamente quando o pedido era renderizado posteriormente no Administrador.

<!-- MC-36703  magento/partners-magento2ee#439-->

* O aplicativo agora esvazia o carrinho de compras conforme esperado depois que um administrador conclui um pedido do administrador que foi criado por um comprador na loja. Anteriormente, quando o cliente fazia logon novamente depois que o administrador concluísse o pedido, o carrinho da loja ainda continha o conteúdo do pedido. [GitHub-30262](https://github.com/magento/magento2/issues/30262)

<!-- MC-35640-->

* Os compradores agora podem adicionar um produto ao carrinho cujo preço mínimo anunciado (MAP) excede o preço normal do produto.

<!-- MC-35289-->

* Os compradores agora podem alterar com êxito seu endereço de cobrança do fluxo de trabalho de check-out ao fazer check-out com vários endereços.

<!-- MC-29335-->

* Todas as transações de pagamento pagas criadas por convidados agora são salvas no banco de dados e ficam visíveis no Administrador conforme esperado. Anteriormente, apenas um pequeno subconjunto de pedidos simultâneos era salvo no banco de dados e a maioria dos pedidos era perdida devido a tempos limite resultantes de bloqueios do banco de dados. [GitHub-25862](https://github.com/magento/magento2/issues/25862)

<!-- MC-23989 magento/magento2#32251 -->

* O aplicativo agora exibe corretamente mensagens de boas-vindas em linha que contêm caracteres especiais quando um convidado coloca um produto no minicarrinho. Anteriormente, o aplicativo não adicionava o produto ao minicarrinho nem exibia a mensagem de boas-vindas. [GitHub-32250](https://github.com/magento/magento2/issues/32250)

<!-- MC-41165-->

* A página de remessa do fluxo de trabalho de check-out agora é carregada com êxito quando o delivery na loja está ativado. Anteriormente, o aplicativo exibia um erro de JavaScript e a página de check-out de envio não era renderizada completamente.

<!-- ENGCOM-9006-->

* Adição de `itemResolvers` argumento para o catálogo `di.xml` arquivo. Como resultado, o check-out não será mais interrompido se os módulos de produto configuráveis e agrupados estiverem desativados. [GitHub-30860](https://github.com/magento/magento2/issues/30860)

<!-- ENGCOM-8944-->

* O aplicativo agora exibe os botões de opção no **Informações de pagamento e envio** conforme esperado durante o fluxo de trabalho Reordenação de administrador. [GitHub-30257](https://github.com/magento/magento2/issues/30257)

<!-- MC-39158 ENGCOM-8493-->

* O aplicativo agora aplica corretamente as regras de preço do carrinho com um desconto fixo no nível do carrinho quando o carrinho contém um produto incluído com várias opções. Anteriormente, a regra de preço do carrinho não era completamente aplicada ao pedido. [GitHub-30952](https://github.com/magento/magento2/issues/30952)

<!-- MC-40983 ENGCOM-8828-->

* A variável **Adicionar ao carrinho** na exibição de lista de categorias agora funciona conforme esperado. [GitHub-32232](https://github.com/magento/magento2/issues/32232)

<!-- ENGCOM-8490-->

* Agora você pode usar o POST `/V1/carts/mine/items` para adicionar uma quantidade personalizada de produtos agrupados a um carrinho. [GitHub-26909](https://github.com/magento/magento2/issues/26909)

<!-- ENGCOM-8886-->

* O aplicativo não preenche mais a área do endereço de cobrança do fluxo de trabalho de finalização com o endereço de entrega. Anteriormente, quando a variável **Estado/Província** o campo do endereço de cobrança estava vazio e os endereços de remessa e cobrança eram diferentes, o aplicativo preenchia o endereço de cobrança **Estado/Província** com informações do endereço de entrega. [GitHub-31608](https://github.com/magento/magento2/issues/31608)

### Catálogo

<!-- MC-36787-->

* Atualização em massa de **Ativar incrementos de quantidade** e **Incrementos de Qtd.** Os atributos do agora funcionam conforme esperado. [GitHub-29544](https://github.com/magento/magento2/issues/29544)

<!-- MC-41801-->

* Agora você pode duplicar com êxito um catálogo compartilhado que contém SKUs somente numéricas. Anteriormente, o aplicativo exibia um erro ao tentar duplicar um catálogo compartilhado porque `\Magento\Catalog\Model\ProductIdLocator` A classe não funcionava corretamente com SKUs somente numéricas.

<!-- MC-41575-->

* O aplicativo não lança mais um erro de JavaScript depois de habilitar a sincronização de produtos recentes com o administrador. Anteriormente, o aplicativo exibia este erro de JavaScript: `Cannot read property 'status' of undefined`.

<!-- MC-41534-->

* As atualizações do layout de tema personalizado agora são aplicadas conforme esperado. Anteriormente, as atualizações do layout de tema personalizado eram ignoradas.

<!-- MC-41499-->

* O cache de categorias do produto agora é limpo conforme esperado por `cron` durante `indexer_update_all_views` execução. Anteriormente, as contagens de produtos na página Categoria após a reindexação estavam incorretas.

<!-- MC-41422-->

* Os valores de atributo agora permanecem inalterados quando um atributo não é especificado em uma solicitação da API REST de atualização de produto para uma exibição de loja. Anteriormente, se um atributo não fosse especificado, o aplicativo redefinia o valor do atributo para seu valor de escopo padrão.

<!-- MC-41284-->

* A grade de produtos do Administrador (Administrador **Catálogo** > **Produtos**) agora exibe a contagem de produtos correta quando os produtos são filtrados pelo SKU.

<!-- MC-40873-->

* O aplicativo agora exibe o status preciso do estoque quando um produto é adicionado a uma página do CMS quando as Permissões de categoria são ativadas e impede a exibição do preço para o grupo do cliente especificado. Anteriormente, todos os produtos eram mostrados como indisponíveis, independentemente do status real do estoque.

<!-- MC-40859-->

* O campo de entrada de preço de bloco de preço do Grupo de Clientes do Advanced Pricing agora tem uma largura mínima de cinco dígitos. Anteriormente, apenas dois símbolos estavam visíveis nesse campo em exibições de baixa resolução.

<!-- MC-40825-->

* O aplicativo agora exclui com êxito uma imagem de mídia do produto após excluir um produto. Anteriormente, a imagem de mídia do produto permanecia na pasta após a exclusão bem-sucedida do produto.

<!-- MC-40811 magento/magento2#32042-->

* O layout da página agora é atualizado conforme esperado quando você cria ou edita um produto no Administrador e, em seguida, cria uma Atualização de design de cronograma. [GitHub-32007](https://github.com/magento/magento2/issues/32007)

<!-- MC-40773-->

* Um atributo de produto personalizado com valor zero agora pode ser salvo com êxito como em branco. Anteriormente, o aplicativo não atualizava esse valor para em branco.

<!-- MC-40736 ENGCOM-8789-->

* Os arquivos de atualização de layout de categoria personalizada agora se aplicam aos produtos conforme esperado. Anteriormente, o identificador do arquivo de atualização (`catalog_category_view_*`) não corresponde ao identificador de produto. [GitHub-27285](https://github.com/magento/magento2/issues/27285)

<!-- MC-40679-->

* A classificação foi desabilitada para a coluna Imposto Fixo do Produto (FPT) da lista de produtos do Administrador. Anteriormente, a página Produtos não podia ser recarregada após a coluna FPT ter sido classificada.

<!-- MC-40443-->

* A visualização do widget Produtos do Page Builder agora funciona conforme esperado em uma implantação de vários sites quando os produtos correspondentes têm um preço diferente em cada site.

<!-- MC-40344 ENGCOM-8629-->

* Classificar por posição na pesquisa de produtos usando o GET `/rest/V1/products/?searchCriteria[filterGroups]` O agora funciona conforme esperado. Anteriormente, a coleção de produtos não tinha um campo `position` valor para classificação. [GitHub-31591](https://github.com/magento/magento2/issues/31591)

<!-- MC-40122-->

* Os usuários administradores agora podem ver espaços duplos no **Nome** e **SKU** campos na grade de produtos. Anteriormente, o aplicativo recolhia vários espaços em um único espaço.

<!-- MC-39869-->

* Agora os produtos são exibidos como indisponíveis na loja quando a quantidade comercializável no Administrador é 0. Anteriormente, esses produtos eram listados como em estoque na loja e o aplicativo exibia uma tag **Adicionar ao carrinho** botão. [GitHub-31117](https://github.com/magento/magento2/issues/31117)

<!-- MC-39809-->

* Agora, os administradores podem adicionar produtos com opções personalizáveis `(File)` para a grade Itens ordenados na seção Carrinho de compras (coluna Atividades do cliente) da página Admin Cliente. Anteriormente, o aplicativo não adicionava o item à lista porque o valor não estava formatado corretamente antes de ser inserido em `\Magento\Catalog\Model\Product\Type\AbstractType::_prepareOptions`.

<!-- MC-39619-->

* O aplicativo não solicita mais que os compradores selecionem uma opção de produto para um produto empacotado que tenha apenas uma opção.

<!-- MC-39617-->

* O aplicativo agora exibe todas as subcategorias em atualizações de layout (categorias âncora e não âncora) durante a criação de um novo widget.

<!-- MC-39481-->

* A variável `product` a consulta não substitui mais os valores padrão de todas as exibições de loja em uma implantação de várias lojas quando um nome de produto é atualizado apenas para uma exibição de loja. [GitHub-31083](https://github.com/magento/magento2/issues/31083)

<!-- MC-39470 magento/magento2#31492-->

* O Adobe Commerce atualiza a contagem total de páginas conforme esperado ao alterar o valor por página da lista Produtos relacionados ao administrador, Vendas adicionais e Vendas cruzadas. [GitHub-31059](https://github.com/magento/magento2/issues/31059)

<!-- MC-39444-->

* Agora, os administradores podem adicionar produtos com duas ou mais opções personalizáveis `(File)` para um pedido por SKU.

<!-- MC-39140-->

* O aplicativo não lança mais um erro quando um administrador com permissões restritas adiciona um widget de Produto a uma página do CMS no Administrador. Anteriormente, o aplicativo exibia esse erro quando o administrador clicava no **Salvar** botão:  `We are sorry, an error has occurred while generating the content`.

<!-- MC-39134-->

* As páginas de detalhes do produto agora abrem com a opção personalizável de data preenchida com a data do pedido anterior quando **Usar calendário JavaScript** está ativado. O resolvedor de valor de opção de data personalizada agora retorna a um formato alternativo se o valor não for formatado com base na configuração atual. Anteriormente, o valor da opção de data personalizada estava vazio.

<!-- MC-39104-->

* O aplicativo agora exibe apenas um erro no carrinho quando o produto está indisponível. Anteriormente, o aplicativo exibia mensagens redundantes. [GitHub-27469](https://github.com/magento/magento2/issues/27469)

<!-- MC-35717  magento/partners-magento2ee#427-->

* Agora, os administradores podem adicionar um produto com uma opção personalizável `(File)` para um pedido por SKU. [GitHub-30285](https://github.com/magento/magento2/issues/30285)

<!-- MC-30625-->

* Agora é possível salvar um produto e um preço sem especificar `type_id`. [GitHub-13639](https://github.com/magento/magento2/issues/13639)

<!-- MC-39024-->

* Os produtos do grupo agora estão disponíveis na loja, conforme esperado, quando um REST `PUT /V1/products/:sku/links` A solicitação é usada para associar um novo produto filho a um novo produto de grupo. Anteriormente, os produtos não eram indexados corretamente após a execução `bin/magento cron:run`.

<!-- ENGCOM-9010 8947-->

* Não é mais possível criar um produto com uma `NULL` Valor da SKU. Anteriormente, era possível criar um produto sem um valor de SKU por meio de um importador personalizado ou diretamente no banco de dados, mas quando você tentava editá-lo no Admin, o aplicativo exibia um erro. [GitHub-27411](https://github.com/magento/magento2/issues/27411), [GitHub-32525](https://github.com/magento/magento2/issues/32525)

<!-- ENGCOM-8902-->

* Adicionar as opções personalizadas necessárias a um produto simples não o remove dos produtos compostos principais sem aviso prévio. O aplicativo agora exibe um aviso informativo e não salva o produto.  Anteriormente, o aplicativo salvava as alterações no produto e não exibia nenhum aviso. [GitHub-30492](https://github.com/magento/magento2/issues/30492)

### Regra de catálogo

<!-- MC-39896-->

* A variável `products` a consulta agora retorna os valores atuais quando uma regra de preço de catálogo se aplica a um item. [GitHub-26738](https://github.com/magento/magento2/issues/26738)

<!-- ENGCOM-8367-->

* Tabelas temporárias que começam com `catalogrule_product__temp` agora são excluídos conforme esperado quando a reindexação falha após uma regra de carrinho ou catálogo expirar, estar desativada ou se tornar inativa. [GitHub-22273](https://github.com/magento/magento2/issues/22273)

<!-- ENGCOM-8949-->

* Os fusos horários agora são aplicados da mesma forma no `\Magento\CatalogRule\Model\Indexer\IndexBuilder::reindexById` e `\Magento\CatalogRule\Model\Indexer\IndexBuilder::reindexByIds`. [GitHub-29549](https://github.com/magento/magento2/issues/29549)

### Conteúdo do CMS

<!-- MC-41471-->

* Imagens grandes agora são redimensionadas conforme esperado durante o upload quando o **Habilitar redimensionamento de front-end** definição de configuração está habilitada.

<!-- MC-40663 ENGCOM-8883-->

* Correção do tratamento de erros para o controlador de salvamento de página CMS. Anteriormente, quando um `Error` objeto foi lançado no `cms_page_prepare_save` evento, o aplicativo transmitiu esse objeto para o `addExceptionMessage` função, quebrando seu contrato porque essa função espera uma `Exception`. Isso foi resolvido adicionando uma mensagem de erro usando o `addErrorMessage` função. [GitHub-30149](https://github.com/magento/magento2/issues/30149)

<!-- MC-33490 magento/partners-magento2ee#435 -->

* Agora é possível atribuir uma nova página a vários nós a partir da guia CMS Edit page Hierarchy. Anteriormente, uma violação de restrição exclusiva ocorria ao tentar atribuir a página a um nó. [GitHub-363](https://github.com/magento/partners-magento2ee/issues/363)

### Produtos configuráveis

<!-- MC-40719-->

* O aplicativo não duplica mais as miniaturas de produtos na galeria de imagens de um produto ao clicar nas opções configuráveis de um produto.

<!-- MC-37418-->

* O pop-up de configuração que o aplicativo exibe ao editar um produto configurável de uma lista de desejos agora é fechado conforme esperado ao clicar no **OK** botão.

<!-- MC-39878  magento/magento2#31472-->

* O aplicativo agora gera faturas corretamente para pedidos que contêm apenas um produto configurável. [GitHub-31143](https://github.com/magento/magento2/issues/31143)

<!-- ENGCOM-8673-->

* Os compradores agora podem adicionar produtos configuráveis ao carrinho a partir de uma visualização de loja não padrão. Anteriormente, quando o comprador em uma visualização de loja fora do padrão tentava adicionar um produto configurável, o aplicativo exibia este erro: `Could not add item to cart. Please check required options and try again`. [GitHub-31660](https://github.com/magento/magento2/issues/31660)

### Política de segurança de conteúdo (CSP)

<!-- ENGCOM-8577-->

* A Política de segurança de conteúdo agora aceita o carregamento de imagens e fontes codificadas na base64 por meio do `data: scheme`.

### cron

<!-- MC-30804-->

* As consultas de limpeza do Cron foram refatoradas para reduzir ou eliminar os seguintes problemas de desempenho: `cron` Os trabalhos permanecem travados em um estado pendente, as consultas do MySQL estão cada vez mais lentas e o uso da CPU está aumentando. [GitHub-26507](https://github.com/magento/magento2/issues/26507)

<!-- ENGCOM-8571-->

* `cronjobs` que estiveram em status `running` por mais de 24 horas agora são automaticamente alteradas para status `error`.  Como resultado, uma nova instância desse trabalho pode ser executada novamente e você não precisa alterar manualmente o status do trabalho quando um trabalho permanecer incorretamente definido como status `running`. Anteriormente, se um `cronjob` ficaram presos no status `running`, o aplicativo impedia que novas instâncias do mesmo trabalho fossem iniciadas e você tinha que alterar manualmente o status do trabalho. [GitHub-8933](https://github.com/magento/magento2/issues/8933)

<!-- ENGCOM-8571-->

* `cron` as tarefas agora são concluídas conforme esperado e não geram mais esse erro de serialização:  `[Magento\Framework\DB\Adapter\DeadlockException]SQLSTATE[40001]: Serialization failure: 1213 Deadlock found when trying to get lock; try restarting transaction, query was: DELETE FROM cron_schedule WHERE (status = 'missed') AND (job_code in ('indexer_reindex_all_invalid', 'indexer_update_all_views', 'indexer_clean_all_changelogs')) AND (created_at < '2018-09-28 18:32:28')`. [GitHub-18409](https://github.com/magento/magento2/issues/18409)

<!-- ENGCOM-8571-->

* `indexer_update_all_views`  os trabalhos cron agora são executados conforme esperado após uma falha anterior. A execução com falha é marcada como uma falha na variável `cron_schedule schedule`e a execução subsequente não falhará automaticamente. Anteriormente, a variável `cron_schedule` tabela preenchida com trabalhos pendentes e `indexer_update_all_views` a tarefa cron não foi executada. [GitHub-23054](https://github.com/magento/magento2/issues/23054)

<!-- ENGCOM-8571-->

* `cron` os bloqueios não ocorrem mais como resultado de `cron` tentando definir um bloqueio em implantações grandes em que os grupos se sobrepuseram. [GitHub-8933](https://github.com/magento/magento2/issues/8933)

<!-- ENGCOM-8571-->

* `cron` os bloqueios não ocorrem mais no `cron_schedule` tabela após apenas alguns `cron` os trabalhos foram executados. [GitHub-22438](https://github.com/magento/magento2/issues/22438)

### Atributos personalizados do cliente

<!-- MC-41611-->

* A variável **Estado** O campo no catálogo de endereços da Conta do cliente da loja agora é carregado como e permanece um elemento de página suspenso. A variável **Enviar** O botão agora estará desativado até que todos os elementos da página tenham sido completamente carregados. Anteriormente, o aplicativo carregava esse campo como uma caixa de texto antes de renderizá-lo como um elemento suspenso, e os compradores podiam inserir e salvar valores no campo de texto, o que causou um erro posteriormente durante o check-out.

<!-- MC-40906 magento/partners-magento2ee#509-->

* O aplicativo agora exibe corretamente os atributos personalizados do endereço do cliente nas páginas de pedido da loja e do administrador. Anteriormente, a opção selecionada do atributo suspenso estava ausente na seção Informações de endereço, e o valor do atributo de entrada continha o código do atributo. [GitHub-508](https://github.com/magento/partners-magento2ee/issues/508)

<!-- MC-40329-->

* O aplicativo não emite mais um erro quando você salva um atributo de endereço do cliente com um anexo de arquivo no campo Endereço do cliente do administrador ao fazer upload de arquivos. Isso ocorreu devido a uma instrução de retorno ausente na ação do controlador. Anteriormente, o aplicativo exibia este erro: `Something went wrong while saving the file`.

<!-- MC-39354-->

* GET As chamadas de API do carrinho de REST agora retornam valores de atributo personalizados corretos para endereços de faturamento e envio. Anteriormente, os atributos de endereço personalizados eram exibidos incorretamente na página de detalhes do pedido na página inicial da loja Minha conta e no Administrador.

<!-- MC-24495-->

* O aplicativo agora lida com êxito com arquivos que contêm atributos de endereço do cliente com tipo de entrada `file (attachment)`. Anteriormente, o aplicativo exibia esse erro durante o upload do arquivo anexado: `Something went wrong while saving the file`.

### Cliente

<!-- MC-41216-->

* O email de crédito da loja agora leva em conta o escopo selecionado e é enviado do endereço de email correto.

<!-- MC-40579-->

* A filtragem por data de criação da conta agora produz resultados que estão em conformidade com as configurações de fuso horário definidas e que capturam todas as contas criadas relevantes.

<!-- MC-40502-->

* O filtro de grade do cliente agora usa uma opção de site correta para um usuário restrito se os dados tiverem sido armazenados em cache anteriormente. Anteriormente, o filtro de grade do cliente recuperava os parâmetros do site do cache e incluía dados incorretos para usuários restritos.

<!-- MC-39189-->

* O aplicativo não lança mais uma exceção na página Clientes administradores quando um site é excluído em uma implantação de vários sites. Anteriormente, quando um administrador tentava acessar a lista abrangente de clientes, o aplicativo não exibia todos os clientes e exibia este erro: `The website with id 2 that was requested wasn't found. Verify the website and try again`.

<!-- MC-38913-->

* Os administradores com permissão agora podem reatribuir clientes a sites diferentes a partir da guia Informações da conta do cliente.

<!-- MC-39852-->

* Agora é possível fazer upload de um arquivo com êxito ao criar um atributo de endereço do cliente com um tipo de entrada de `(File)`. Anteriormente, ao tentar carregar e salvar um arquivo, o aplicativo exibia o seguinte erro: `Something went wrong while saving the file`.

### Segmento do cliente

<!-- MC-40999-->

* O aplicativo agora exibe produtos relacionados com base em segmentos de clientes na loja, conforme esperado. Anteriormente, o aplicativo não exibia essa seção quando uma regra de produtos relacionados era criada para segmentos de clientes específicos.

<!-- MC-40503-->

* Os blocos dinâmicos agora são exibidos para clientes registrados em seus carrinhos de compras quando o segmento de cliente correspondente é aplicado tanto para convidados quanto para clientes registrados. Anteriormente, o aplicativo exibia o bloco somente para convidados.

<!-- MC-40385-->

* Os segmentos de clientes agora são atualizados automaticamente depois que um pedido é feito pelo administrador. Anteriormente, após criar um pedido de Administrador, o usuário Administrador tinha que atualizar manualmente os dados de segmento relacionados navegando até os segmentos de clientes relacionados e clicando no **Atualizar dados do segmento** botão.

<!-- MC-39490-->

* O aplicativo agora exibe blocos dinâmicos no carrinho de compras para todos os clientes nos segmentos de clientes relevantes. Anteriormente, os convidados não viam um bloqueio mesmo quando o segmento do cliente incluía convidados e clientes registrados.

<!-- MC-39464-->

* Problemas de desempenho do banco de dados que resultam de regras de segmentação do cliente usando o `Product was Ordered` condição foram resolvidas.

<!-- MC-38895-->

* Um observador de eventos de segmento do cliente para a API REST/SOAP foi adicionado. Como resultado, os segmentos de clientes agora são atualizados automaticamente, conforme esperado, se os critérios definidos nos segmentos forem correspondidos quando os pedidos forem feitos por meio da API REST/SOAP.

<!-- MC-38346-->

* Um processador de eventos de segmento do cliente foi adicionado para solicitações do GraphQL. Anteriormente, os descontos da regra de preço do carrinho não eram aplicados ao carrinho de compras quando um segmento de cliente era usado em uma condição de regra de preço do carrinho. [GitHub-371](https://github.com/magento/partners-magento2ee/issues/371)

### Diretório

<!-- MC-39520-->

* O aplicativo não lança mais uma exceção quando um comprador insere um CEP inválido durante a seção de envio do fluxo de trabalho de finalização. [GitHub-23371](https://github.com/magento/magento2/issues/23371)

### Baixável

<!-- MC-35779-->

* O aplicativo agora exibe links para produtos baixáveis no email Novo pedido quando o pedido contém um produto baixável e um produto configurável com uma opção baixável. Anteriormente, o aplicativo exibia o link para o produto baixável independente, mas não o link para o produto configurável com uma opção baixável.

### Bloco dinâmico (antigo banner)

<!-- MC-40327-->

* Os blocos dinâmicos agora são exibidos somente na página especificada. Anteriormente, o aplicativo exibia todos os banners atribuídos ao widget em todas as páginas se nenhum bloco dinâmico fosse especificado.

<!-- MC-39839-->

* Agora é possível salvar blocos dinâmicos com conteúdo vazio.

### EAV

<!-- MC-41756-->

* Os valores de data do atributo de endereço do cliente agora são salvos no formato de quatro dígitos, em vez do formato de dois dígitos.

### E-mail

<!-- MC-39757-->

* O link de redefinição de senha na página Redefinição de senha do administrador agora funciona conforme esperado. Anteriormente, quando um modelo personalizado era usado para a página redefinir senha do administrador, o aplicativo exibia esta mensagem quando um administrador clicava no link dentro do email: `Your password reset link has expired`. Isso ocorria porque o modelo de email personalizado continha a variável incorreta para a ID do usuário.

<!-- MC-41588-->

* Agora o envio de emails do cliente pelo Administrador funciona corretamente quando ativado no nível da visualização da loja. Anteriormente, o aplicativo não enviava emails de clientes quando as configurações de notificação por email eram ativadas no nível da visualização da loja, mas não no nível global.

<!-- MC-40950-->

* O aplicativo agora envia email conforme esperado em implantações de vários sites, em que nem todos os sites permitiram o envio assíncrono de email. Anteriormente, se pelo menos um site tivesse essa configuração desativada, o email não era enviado de nenhum site, mesmo quando ativado. Emails de NFF, Entrega e Aviso de Crédito tinham problemas semelhantes. No entanto, os e-mails Comentários da Ordem, Comentários da NFF, Comentários da Entrega e Comentários do Aviso de Crédito foram enviados com êxito. [GitHub-31950](https://github.com/magento/magento2/issues/31950)

<!-- MC-34323 magento/partners-magento2ee#505-->

* A mensagem de email que o aplicativo envia quando você compartilha um registro de presente do Administrador agora contém um link válido para o local do registro. Anteriormente, esse link resultava em um erro 404. [GitHub-504](https://github.com/magento/partners-magento2ee/issues/504)

<!-- MC-30127 magento/magento2#31455-->

* As faturas e os PDF de faturas agora incluem os mesmos preços de pacotes de produtos que o esperado. Anteriormente, os PDF de fatura incluíam o preço incorreto para produtos de pacote. [GitHub-12856](https://github.com/magento/magento2/issues/12856)

<!-- ENGCOM-9021-->

* A conversão de sequência de caracteres foi adicionada ao método de filtro de modelo de email para garantir que o valor de retorno seja um `string`. Anteriormente, quando uma exceção era capturada enquanto não estava no modo de desenvolvedor, o aplicativo retornava um `phrase` objeto. Isto, por sua vez, desencadeou um `Uncaught TypeError`. [GitHub-32671](https://github.com/magento/magento2/issues/32671)

<!-- ENGCOM-8807-->

* Os emails de confirmação de pedido agora são enviados conforme esperado quando o envio assíncrono está ativado (**Lojas**  >  **Configuração**  >  **Vendas**  > **Emails de vendas**  >  **Configurações gerais**  >  **Envio assíncrono**) em um site em uma implantação de vários sites. [GitHub-31950](https://github.com/magento/magento2/issues/31950)

<!-- MC-18023 ENGCOM-9000-->

* O aplicativo agora registra um erro como esperado quando ocorre uma exceção quando um cliente tenta enviar um email do formulário Fale conosco. [GitHub-23645](https://github.com/magento/magento2/issues/23645)

### Estruturas

<!-- MC-41712-->

* Agora, as classes pai no Administrador são verificadas em busca de anotação de docblock, juntamente com a classe original e interfaces herdadas. Anteriormente, como as classes principais não eram verificadas, executar ações relacionadas ao cliente no Administrador que acionava um evento resultava em um erro. O aplicativo registrou este erro no log de exceções: `report.CRITICAL: Method's return type must be specified using @return annotation.`.

<!-- MC-41192-->

* O aplicativo não lança mais um erro fatal quando o servidor Redis é interrompido em uma implantação na qual o cache de página Redis está habilitado.

<!-- MC-40739-->

* O aplicativo agora respeita o **Excluir pasta de mídia do backup** definindo quando o backup é ativado com `bin/magento config:set system/backup/functionality_enabled 1`. Anteriormente, o backup da Pasta de mídia era feito apesar dessa configuração, pois o caminho para `/magento` foi formado incorretamente com uma // dupla.

<!-- MC-40654 ENGCOM-8881-->

* O aplicativo agora traduz todas as cadeias de caracteres traduzíveis conforme esperado para a página Carrinho de administração. Anteriormente, a carga de tradução ocorria muito tarde e ignorava todos os observadores que estavam inscritos no pré-despacho da ação do controlador. [GitHub-31849](https://github.com/magento/magento2/issues/31849)

<!-- MC-39776-->

* A validação de formulários na página Criar nova conta do cliente agora funciona com êxito quando o **Fazer logon como cliente** a configuração ativar extensão está desativada. Anteriormente, o aplicativo exibia um erro de JavaScript.

<!-- MC-39537-->

* Usar `bin/magento setup:db-schema:split-sales` mover tabelas de banco de dados agora funciona conforme esperado. Agora as tabelas são criadas e preenchidas corretamente com dados. Anteriormente, como a verificação da existência da tabela estava incorreta, o aplicativo emitiu `SQLSTATE` erros ao executar `bin/magento setup:db-schema:split-sales`.

<!-- MC-39193-->

* Tratamento de exceções para processos filhos bifurcados por `ProcessManager` foi melhorada. Quando uma exceção ocorre agora, o processo principal é encerrado e uma mensagem de erro é exibida apenas uma vez. Anteriormente, várias falhas de indexador eram registradas e várias mensagens eram exibidas. [GitHub-30622](https://github.com/magento/magento2/issues/30622)

<!-- MC-39132-->

* Plug-ins globais do Adobe Commerce (por exemplo, `webapi_rest` e `graphql` ) não são mais acionados para um novo tipo de área personalizada quando a variável `di.xml` deste arquivo de área não contém plug-ins registrados.

<!-- MC-38770-->

* As exceções que ocorrem durante a inicialização não são mais armazenadas em cache e agora acionam um código de resposta 500.

<!-- MC-33179  magento/partners-magento2ee#431-->

* Os comerciantes agora podem atribuir ou excluir uma imagem de e para um evento de catálogo por exibição de loja. Anteriormente, ao alterar a visualização de loja ao editar um evento de catálogo, a variável **Excluir imagem** A caixa de seleção não estava ativa e o aplicativo exibiu este erro: `Uncaught ReferenceError: toggleValueElements is not defined at HTMLInputElement.onclick`. [GitHub-364](https://github.com/magento/partners-magento2ee/issues/364)

<!-- ENGCOM-8232-->

* O último manipulador mesclado em um `communication.xml` O arquivo não substitui mais todos os manipuladores criados anteriormente. [GitHub-29528](https://github.com/magento/magento2/issues/29528)

### Correções gerais

<!-- MC-41194-->

* O aplicativo agora exibe o número correto de estrelas na página Minhas análises do produto e nas revisões recentes na página Minha conta. Anteriormente, o aplicativo aplicava estrelas de revisão apenas à primeira revisão e deixava as outras revisões na página sem estrelas.

<!-- MC-40653-->

* Os links de conta nos cabeçalhos agora seguem os padrões da WCAG. Anteriormente, os links de conta nos cabeçalhos continham IDs duplicadas, o que causava a falha da validação da WCAG.

<!-- MC-40528-->

* O aplicativo agora salva as datas de evento de catálogo nos fusos horários UTC. Anteriormente, o aplicativo salvava datas de evento de catálogo no fuso horário do usuário.

<!-- MC-39765-->

* O aplicativo não lança mais erros gerados pelo log do sistema quando um comprador convidado usa um endereço inválido. Anteriormente, o aplicativo exibia intermitentemente esse erro em vez de renderizar a página: `No such entity with addressId`. [GitHub-15115](https://github.com/magento/magento2/issues/15115)

<!-- MC-39747-->

* O processo de redimensionamento de imagem não é mais interrompido para imagens em formato não compatível. Anteriormente, quando `catalog:images:resize` O encontrou um formato de imagem não suportado, o processo foi interrompido e o aplicativo exibiu este erro: `bin/magento catalog:images:resize Unsupported image format`.

<!-- ENGCOM-8925-->

* O suporte WEBP e AVIF para imagens de logotipo foi adicionado ao administrador. [GitHub-32495](https://github.com/magento/magento2/issues/32495)

<!-- MC-38156-->

* Não é mais possível alterar o escopo da `media_gallery` atributo. Anteriormente, quando você alterava o escopo do `media_gallery` atributo de volta para `global`, o aplicativo emitiu um erro.

<!-- MC-36818  magento/partners-magento2ee#470-->

* Os produtos relacionados que foram adicionados como uma atualização agendada não são mais exibidos em uma página de produto da loja após a data de término da atualização. [GitHub-469](https://github.com/magento/partners-magento2ee/issues/469)

<!-- MC-34489 magento/partners-magento2ee#491-->

* O aplicativo agora exibe uma mensagem precisa e informativa ao clicar em **Gerenciar itens** na página Registro de presentes da Minha conta e os produtos de registro estão esgotados. Anteriormente, o aplicativo exibia este erro: `Error: Call to a member function getId() …`. [GitHub-490](https://github.com/magento/partners-magento2ee/issues/490)

<!-- MC-33667-->

* Agora é possível adicionar uma página CMS da página Adicionar nova página à hierarquia raiz do site, conforme esperado.

<!-- MC-33499 magento/partners-magento2ee#446-->

* A filtragem agora funciona conforme esperado na lista de exportações agendadas quando o tipo de entidade é selecionado. Anteriormente, o filtro não funcionava e o aplicativo exibia um erro de JavaScript. [GitHub-361](https://github.com/magento/partners-magento2ee/issues/361)

<!-- MC-30084 ENGCOM-8674-->

* Imagens de categoria agora são copiadas conforme esperado do `catalog/tmp/category` diretório para o `catalog/category` diretório quando as categorias são salvas usando o método de armazenamento do banco de dados. A linha de imagem no `media_storage_file_storage` A tabela agora também tem a `directory_id`. [GitHub-11995](https://github.com/magento/magento2/issues/11995)

<!-- MC-24768-->

* Os comerciantes agora são notificados sobre caches invalidados, conforme esperado após enviar alterações à hierarquia do CMS. Anteriormente, o aplicativo não invalidava caches ao salvar a hierarquia do CMS.

<!-- MC-24725-->

* As solicitações redundantes de AJAX para a seção do carrinho do carrinho de compras foram reduzidas. Anteriormente, o aplicativo não carregava corretamente o subtotal do carrinho, o que acionava o recarregamento do carrinho novamente.

<!-- MC-23740-->

* Validação adicionada para URLs para impedir que palavras reservadas sejam incluídas em chaves de URL. Consulte [Definição de URIs (Uniform Resource Identifiers)](https://tools.ietf.org/html/rfc5785)

<!-- ENGCOM-9037-->

* Em deployment executando o PHP 7.4, o aplicativo agora retorna um erro 404 quando o **Gerar regravações de URL de &quot;categoria/produto&quot;** está definida como **Não**, e um comprador tenta acessar um caminho de categoria inexistente. Anteriormente, o aplicativo retornava um erro 500 informando: `Trying to access array offset on value of type bool`. [GitHub-31984](https://github.com/magento/magento2/issues/31984)

<!-- MC-32257 magento/partners-magento2ee#507-->

* Agora é possível editar com êxito um produto criado usando um conjunto de atributos a partir do qual **Atualização De Design De Grupo E Cronograma De Design** grupos foram removidos.  Anteriormente, ao tentar editar um produto criado a partir desse conjunto de atributos, o aplicativo exibia um erro fatal. [GitHub-44](https://github.com/magento/partners-magento2ee/issues/44)

<!-- ENGCOM-8901-->

* `nowdoc` substituiu `heredoc` no `Magento_Backend` alternador de armazenamento. [GitHub-32262](https://github.com/magento/magento2/issues/32262)

<!-- ENGCOM-8539-->

* Os administradores agora são redirecionados diretamente para a página de Admin solicitada após o logon.  Anteriormente, quando um administrador fazia logon, ele era redirecionado para o painel de Administração (ou qualquer página que estivesse configurada como a página de inicialização) e tinha que navegar manualmente para o destino. [GitHub-31042](https://github.com/magento/magento2/issues/31042)

<!-- ENGCOM-8685-->

* Adicionadas as regiões da Argentina, Bolívia, Chile, Equador, Guiana, Paraguai, Peru, Suriname e Venezuela à `directory_country_region` tabela. [GitHub-31169](https://github.com/magento/magento2/issues/31169)

<!-- ENGCOM-8505-->

* Adicionou as regiões da Albânia, Dinamarca, Grécia, Islândia, Portugal e Suécia à `directory_country_region` tabela. [GitHub-31040](https://github.com/magento/magento2/issues/31040)

<!-- MC-30104 magento/magento2#31480 -->

* Agora as mensagens são sinalizadas como erros na fila de mensagens do MysqlMQ quando ocorrem exceções. [GitHub-18140](https://github.com/magento/magento2/issues/18140)

<!-- ENGCOM-8579-->

* O aplicativo agora faz referência ao objeto de classe correto ao carregar informações de imposto para as páginas Aviso de crédito de administrador e Fatura. [GitHub-31197](https://github.com/magento/magento2/issues/31197)

<!-- MC-40346-->

* A integração do Royal Mail Click &amp; Drop agora funciona conforme esperado. Anteriormente, o aplicativo exibia esse erro ao tentar ativar essa integração: `Sorry! Something went wrong. Please try again later`. [GitHub-28996](https://github.com/magento/magento2/issues/28996)

<!-- ENGCOM-8498-->

* O aplicativo agora exibe uma mensagem de erro informativa quando uma entrega, aviso de crédito ou ID de NFF incorreta é passada em um URL. Anteriormente, o aplicativo exibia um erro fatal. [GitHub-30424](https://github.com/magento/magento2/issues/30424)

<!-- ENGCOM-8632-->

* A recursão no local dos arquivos estáticos foi removida.  O aplicativo agora exibe uma página 404 em vez de um erro 500. Anteriormente, um bug na configuração padrão do NGINX levava a recursão infinita. [GitHub-31530](https://github.com/magento/magento2/issues/31530)

<!-- ENGCOM-8550-->

* O nome do `cms_index_noroute.xml` o arquivo foi corrigido para `cms_noroute_index.xml`. [GitHub-31300](https://github.com/magento/magento2/issues/31300)

<!-- ENGCOM-8516-->

* A variável `.editorconfig` arquivo foi refatorado para corrigir a formatação automática de `db_schema_whitelist.json` arquivos. [GitHub-31171](https://github.com/magento/magento2/issues/31171)

<!-- ENGCOM-9018-->

* O redimensionamento de uma janela do navegador não aciona mais eventos de lupa de vínculo duplicado. [GitHub-30788](https://github.com/magento/magento2/issues/30788)

<!-- ENGCOM-8722-->

* O aplicativo não lança mais uma exceção SQL ao filtrar `Magento\Users\Model\ResourceModel\Users\Collection` por `user_id`. [GitHub-31216](https://github.com/magento/magento2/issues/31216)

### Cartões-presente

<!-- MC-40412-->

* Os encargos de pagamento pendente agora são removidos de um vale-presente, conforme esperado, quando um vale-presente é cancelado. Anteriormente, o aplicativo exibia um erro ao `cron` executado depois que o cartão-presente foi excluído.

<!-- MC-37658-->

* Os compradores agora podem remover cartões-presente de um pedido na página Revisar pedido ao fazer check-out com vários endereços. Anteriormente, o aplicativo não removia o cartão-presente do pedido quando o comprador selecionou o cartão e depois clicou **Remover**.

<!-- MC-34407-->

* O aplicativo agora exibe o novo preço de um vale-presente no carrinho de compras quando você altera o valor do vale-presente depois de adicioná-lo ao carrinho.

<!-- MC-32651-->

* A lógica de validação do intervalo de preços foi adicionada à página de criação do cartão-presente. Anteriormente, um administrador podia criar um cartão com um valor mínimo que excedia o valor máximo. [GitHub-493](https://github.com/magento/partners-magento2ee/issues/493)

<!-- MC-32638979 magento/partners-magento2ee#40851-->

* A variável `addRequisitionListItemsToCart` O query agora retorna a quantidade de um vale-presente personalizado conforme esperado quando a solicitação não contém um valor para `allow_open_amount`.

<!-- MC-32373-->

### Mensagem de presente

<!-- MC-38655-->

* A variável `setGiftOptionsOnCart` agora, a mutação cria corretamente mensagens de presente. [GitHub-388](https://github.com/magento/partners-magento2ee/issues/388)

### Registro de presentes

<!-- MC-33057 magento/partners-magento2ee#467-->

* **Data do evento** Agora os valores são os mesmos na loja e no Administrador durante a criação ou edição do registro de presentes. Anteriormente, cada vez que você editava e salvava o registro do presente, o aplicativo ajustava o **Data do evento** um dia atrás na loja e no Administrador. [GitHub-466](https://github.com/magento/partners-magento2ee/issues/466)

<!-- MC-32587  magento/partners-magento2ee#511-->

* O aplicativo não exibe mais produtos desabilitados em registros de presentes. Anteriormente, se um produto era desativado depois de ser adicionado a um registro de presente, o aplicativo exibia esta mensagem quando um comprador acessava o registro: `Error: Call to a member function getId() …`. [GitHub-510](https://github.com/magento/partners-magento2ee/issues/510)

### Invólucro do presente

<!-- MC-38260-->

* A tradução de rótulos de invólucro de presente para exibições de loja agora funciona conforme esperado.

<!-- MC-36749-->

* O invólucro do presente agora é aplicado conforme esperado aos pedidos enviados para vários endereços.

<!-- MC-34820-->

* O aplicativo agora remove os encargos de invólucro do presente do carrinho de compras quando todos os produtos foram removidos.

<!-- MC-32259 magento/partners-magento2ee#500-->

* Os totais do Aviso de Crédito agora estão corretos quando o aviso de crédito contém contorno de presente e encargos configuráveis do produto. Anteriormente, o valor do imposto de quebra de presente nem sempre era incluído no total do aviso de crédito. [GitHub-34](https://github.com/magento/partners-magento2ee/issues/34)

### Google Analytics

<!-- ENGCOM-8450-->

* O aplicativo não gera mais um erro quando um administrador tenta carregar uma página na loja quando o Google Analytics está habilitado. Uma entrada da CSP para `connect-src` foi adicionado para permitir solicitações de AJAX to www.google-analytics.com. [GitHub-30880](https://github.com/magento/magento2/issues/30880)

### Gerenciador de tags da Google

<!-- MC-39072-->

* O componente de interface do usuário para o endereço de faturamento na página de pagamento do fluxo de trabalho de finalização agora usa o endereço de cotação corretamente quando o Google Tag Manager está ativado. Anteriormente, ocorria um erro de JavaScript na página de pagamento.

### GraphQL

<!-- MC-41885-->

* O GRAPHQL `products` a consulta agora retorna as opções de atributo classificadas na mesma ordem de classificação usada na página de edição do atributo.

<!-- MC-41473-->

* A resposta à pergunta `{ category(id: 2){ children { name children { name } } } }` A solicitação do GraphQL agora inclui uma árvore de categorias classificada corretamente.

<!-- MC-41030-->

* A variável `CartItemPrices` agora o objeto contém o novo campo GraphQL `fixed_product_taxes`, que retorna uma matriz dos impostos fixos do produto aplicados a um item do carrinho. Anteriormente, os impostos fixos do produto aplicados a um item do carrinho não eram incluídos na consulta do carrinho.

<!-- MC-40920-->

* Solicitações vazias para o GraphQL agora lançam o código de resposta 200 em vez de 500. Anteriormente, o analisador do GraphQL lançava uma exceção antes de o resultado da consulta ser gerado.

<!-- MC-40867 magento/partners-magento2ee#532 -->

* A variável `applyRewardPointsToCart` mutation agora atualiza o total geral de um carrinho para refletir com precisão o valor dos pontos de recompensa deduzidos. [GitHub-486](https://github.com/magento/partners-magento2ee/issues/486)

<!-- MC-40379-->

* Os produtos com deficiência não são mais incluídos na resposta do GraphQL quando o GraphQL é usado para vincular produtos de venda adicional.

<!-- MC-40262-->

* Os comerciantes agora podem usar o GraphQL `setShippingAddressesOnCart` método para definir endereços de faturamento e envio para o carrinho do comprador quando o check-out do convidado está desativado.

<!-- MC-39508-->

* A variável `categoryList` a consulta não lança mais uma exceção quando contém vários fragmentos na `CategoryTree` objeto. [GitHub-31086](https://github.com/magento/magento2/issues/31086)

<!-- MC-38995-->

* O GRAPHQL `product` o query agora retorna os preços corretos do grupo de clientes.

<!-- MC-38822-->

* O GRAPHQL `products` a resposta da consulta agora classifica as agregações de acordo com a posição do atributo do produto.

<!-- ENGCOM-8462-->

* O aplicativo não lança mais erros de tipo durante consultas do GraphQL quando os sufixos de URL do produto e da categoria contêm valores nulos. [GitHub-30909](https://github.com/magento/magento2/issues/30909)

<!-- magento/magento2#31164-->

* A variável `CustomizableDateValue` o objeto agora contém a variável `type` atributo. Seu valor é uma enumeração que pode ser definida como DATE, DATE_TIME ou TIME.

<!--  magento/partners-magento2ee#421-->

* A variável [`dynamicBlocks` query](https://devdocs.magento.com/guides/v2.4/graphql/queries/dynamic-blocks.html) retorna o conteúdo dos blocos dinâmicos que correspondem aos filtros especificados.

<!-- ENGCOM-8603-->

* O POST `V1/products/special-price-delete` agora, a solicitação exclui somente o preço com um valor `store_id` conforme esperado. Anteriormente, a chamada removia de todas as lojas todos os preços especiais para o SKU especificado. [GitHub-25907](https://github.com/magento/magento2/issues/25907)

<!--  magento/partners-magento2ee#280 -->

* Correção de um erro com o `country_code` atributo no `createGiftRegistry` mutação.

<!-- magento/partners-magento2ee#280 -->

* Correção de problemas com o `giftRegistryUid` atributo de `updateGiftRegistryItems` mutação.

<!-- magento/partners-magento2ee#280 -->

* Adição de uma verificação adicional para evitar que a `updateGiftRegistryRegistrants` mutação de ser usada para adicionar pessoas aleatórias como registrantes a um registro de presente.

<!-- magento/magento2#31380 -->

* A variável `addConfigurableProductsToCart` agora, a mutação retorna a miniatura correta do produto especificado. Anteriormente, retornava a miniatura do produto principal.

<!-- ENGCOM-8477-->

* A variável `products` a consulta não expõe mais o preço especial de um produto quando o período de preço especial é definido para uma data futura. [GitHub-30210](https://github.com/magento/magento2/issues/30210), [GitHub-29631](https://github.com/magento/magento2/issues/29631)

<!-- magento-engcom/magento2ee#576-->

* A variável `customer` a resposta da consulta agora inclui a `total_giftcard` atributo como parte da variável `OrderTotal` objeto.

<!-- MC-41084 ENGCOM-9042 -->

* Correção de um problema que causava a `products` consulta para retornar informações incorretas sobre camadas de preço em itens que não têm definição de preço de camada definida. [GitHub-32279](https://github.com/magento/magento2/issues/32279)

### Imagem

<!-- MC-38951-->

* Agora é possível definir os atributos do pacote required_options e has_options conforme esperado ao criar ou atualizar um produto de pacote usando o POST `/V1/product/:sku` terminal. Anteriormente, esses atributos personalizados eram definidos como 0 (zero), apesar dos esforços para defini-los como 1 (um).

### Importar/exportar

<!-- MC-41576-->

* O filtro IDs de categoria para entidades de produto na grade Atributos de entidade da página Exportar agora funciona conforme esperado.

<!-- MC-41439 ENGCOM-9005-->

* O status do estoque de produtos agrupados agora é atualizado conforme esperado para indisponível quando todos os produtos secundários estiverem indisponíveis. [GitHub-32647](https://github.com/magento/magento2/issues/32647)

<!-- MC-41184-->

* O status do estoque de produtos configuráveis agora é atualizado automaticamente conforme esperado quando o status do estoque de produtos secundários é atualizado pela importação. Anteriormente, o status do estoque do produto não era atualizado automaticamente quando o status do estoque de produtos secundários era atualizado pela importação.

<!-- MC-41151-->

* Agora é possível salvar valores vazios em uma exportação agendada. Anteriormente, o aplicativo atualizava valores de filtro vazios após a criação ou o salvamento da exportação. Ambos `no` e `not specified` foram representados por zero no banco de dados, e um valor de `not selected` foi substituído por `no`.

<!-- MC-41092-->

* O processo de exportação agora leva em conta o escopo da função do usuário ao exportar produtos, fontes de estoque e entidades do cliente. Anteriormente, o processo de exportação ignorava o escopo da função do usuário, o que permitia a exportação de entidades de exportação de função de usuário privada.

<!-- MC-40943-->

* O aplicativo agora define a classe de imposto do produto como `None` se um produto for importado com `tax_class_name` valores `None` ou `0`. Anteriormente, se `product tax_class_name` foi `None` no arquivo CSV, o aplicativo criou uma nova classe de imposto `None`, que duplicava a classe de imposto existente. Se `product tax_class_name` foram `0` no arquivo CSV, o aplicativo ignorou esse valor e a classe de imposto do produto não foi alterada após a importação.

<!-- MC-40898-->

* Agora, os administradores podem alterar o `name` de um pacote de produtos `bundle_values` do Administrador. Anteriormente, o aplicativo exibia o produto como indisponível na loja depois que você alterava o nome de Administrador. Os produtos também foram mesclados com o mesmo SKU em uma única seção de opção de pacote.

<!-- MC-40333-->

* O aplicativo agora considera o escopo do usuário ao exportar dados do cliente. Anteriormente, ao tentar exportar clientes, o aplicativo exportava dados do cliente de todos os sites.

<!-- MC-40305-->

* O aplicativo agora remove os relacionamentos do produto entre venda adicional, venda cruzada e produtos relacionados durante a importação do arquivo CSV, como esperado quando `__EMPTY__VALUE__` está especificado no arquivo CSV.

<!-- MC-40012-->

* Exportação de dados de endereço personalizado para muitos clientes (Administrador **Sistema** > **Exportar**) não resulta mais em erro de memória de rotina. Anteriormente, ao exportar dados de endereço personalizados, o aplicativo tentava carregar todos os dados do cliente, o que resultava na redução da memória, e o aplicativo exibia um erro de falha na alocação de memória.

<!-- MC-39977-->

* Os preços de camada duplicados não são mais importados durante o processo de importação de CSV padrão. Anteriormente, a validação estava ausente para impedir a importação de preços de níveis duplicados e, quando esses preços ocorreram, os comerciantes não podiam salvar os produtos. Os comerciantes também viram esse erro ao tentar agendar uma alteração de produto: `SQLSTATE[23000]: Integrity constraint violation: 1062 Duplicate entry…`.

<!-- MC-39609  magento/magento2#31397-->

* Todas as imagens do produto agora são validadas durante a importação. Anteriormente, o aplicativo validava somente a primeira imagem quando um produto tinha várias imagens. [GitHub-28236](https://github.com/magento/magento2/issues/28236)

<!-- MC-39483-->

* Agora é possível excluir uma região de um endereço de cliente, conforme esperado durante a importação. Anteriormente, a região atribuída não era alterada quando um endereço de cliente era importado com uma região vazia.

<!-- MC-38810-->

* Os produtos com conteúdo JSON ou HTML como atributos de produto adicionais agora são exportados corretamente para um arquivo CSV. Anteriormente, o arquivo CSV continha strings de dados sobrepostas em campos incorretos.

### Índice

<!-- MC-39718 ENGCOM-8567-->

* O Process Manager agora existe com um erro quando um processo secundário falha. Anteriormente, o Process Manager sempre saía com êxito se o número de funções passadas para ele (por exemplo, dimensões do indexador) fosse menor que o valor do `MAGE_INDEXER_THREADS_COUNT` variável de ambiente. [GitHub-30964](https://github.com/magento/magento2/issues/30964)

<!-- MC-39272-->

* Os produtos agora estão disponíveis conforme esperado nos resultados de pesquisa da loja ao vincular produtos usando um PUT REST `/V1/products/:sku/links` quando o modo do indexador estiver configurado para **Atualizar ao salvar**.

<!-- MC-38310 magento/magento2#32693-->

* O indexador da regra de preço de catálogo agora funciona como esperado quando o modo do indexador está definido como **Atualizar ao salvar**. [GitHub-370](https://github.com/magento/partners-magento2ee/issues/370)

<!-- ENGCOM-8890-->

* A exclusão de uma categoria desabilitada que não inclui um produto agora não afeta a pesquisa de catálogo e as tabelas de índice simples de categoria. Anteriormente, a exclusão de uma categoria inativa acionava uma reindexação completa. [GitHub-23297](https://github.com/magento/magento2/issues/23297)

<!-- ENGCOM-8599 8474-->

* Os indexadores personalizados agora podem usar diferentes nomes de colunas de entidade para assinaturas. Anteriormente, o acionador do banco de dados usava o nome da coluna do último indexador definido como **Atualização por Agendamento** em vez do indexador designado. [GitHub-21853](https://github.com/magento/magento2/issues/21853)

<!-- ENGCOM-8887-->

* O aplicativo não envia mais solicitações AJAX para recarregar as seções de dados do cliente (`Magento_Customer/js/section-config`) que não são afetados pela solicitação. [GitHub-31948](https://github.com/magento/magento2/issues/31948)

<!-- MC-39569-->

* Os indexadores a seguir não são mais invalidados depois que você adicionar, remover ou reordenar produtos em uma categoria: `catalog_category_product` e `catalogsearch_fulltext` (e seus dependentes). Anteriormente, essas remoções involuntárias acionavam a reindexação completa dos sites. Uma reindexação completa agora é impedida sob essas condições quando o catálogo simples não está ativado.

### Infraestrutura

<!-- MC-41445-->

* A dependência `pelago/emogrifier` O foi atualizado da versão 3.1.0 para 5.0.0. Esta atualização resultou na introdução de alterações incompatíveis `Magento\Email\Model\Template\Filter` classe. O código alterado é executado durante a renderização dos templates de email. Consulte [Referência de BIC](https://developer.adobe.com/commerce/php/development/backward-incompatible-changes/reference/).

<!-- MC-42212-->

* Correção de um problema com `\Magento\CatalogInventory\Model\Indexer\Stock\CacheCleaner::getCategoryIdsByProductIds` que impedia o salvamento de um novo produto.

<!-- MC-42199-->

* A biblioteca TinyMCE v3 obsoleta foi removida. A variável `Magento_Tinymce3Banner` Os testes de módulo e MFTF relacionados ao TinyMCE v3.x foram removidos do Adobe Commerce.

<!-- MC-41497-->

* O aplicativo não lança mais um `Invalid header value detected` erro no formulário Fale conosco quando um comprador inserir um endereço de email que contenha sinais diacríticos franceses (como &quot;é&quot;, &quot;è&quot;). O aplicativo agora converte letras UTF-8 no nome do usuário para codificação ASCII. Anteriormente, as letras UTF-8 não eram convertidas para a codificação ASCII na seção exclusiva do endereço de email.

<!-- MC-39947-->

* O aplicativo não lança mais um erro fatal do PHP quando um plug-in é adicionado a uma classe pai. [GitHub-31291](https://github.com/magento/magento2/issues/31291)

<!-- ENGCOM-9012-->

* Os arquivos README.md para estes módulos foram atualizados: `Magento_Msrp`, `Magento_MsrpConfigurableProduct`, `Magento_MsrpGroupedProduct`, `Magento_Multishipping`, `Magento_MysqlMq`. [GitHub-32577](https://github.com/magento/magento2/issues/32577)

<!-- magento/partners-magento2ee#501-->

* `phpcpd` foi atualizado para v6.0.3 para compatibilidade com o PHP 8.

<!-- ENGCOM-9073-->

* `ramsey/uuid` foi atualizado para compatibilidade com o PHP 8.0. [GitHub-31777](https://github.com/magento/magento2/issues/31777), [GitHub-826](https://github.com/magento/magento2-functional-testing-framework/issues/826)

<!-- ENGCOM-8997-->

* `colinmollenhour/php-redis-session-abstract` foi atualizado para v1.4.4 para compatibilidade com o PHP 8. [GitHub-32709](https://github.com/magento/magento2/issues/32709)

<!-- ENGCOM-8527-->

* Correção de uma combinação inválida de guias e espaços no `phpstan.neon` arquivo. [GitHub-31239](https://github.com/magento/magento2/issues/31239)

<!-- ENGCOM-8668-->

* Remoção do uso de propriedade obsoleta `$_isScopePrivate` em toda a base de código. [GitHub-30506](https://github.com/magento/magento2/issues/30506)

<!-- ENGCOM-8551-->

* Os layouts de página não são mais codificados permanentemente no  `Magento\Widget\Block\Adminhtml\Widget\Instance\Edit\Chooser\Container`.  Como resultado, a `getPageLayouts()` A função agora retorna a lista real de layouts de página declarados pelos diferentes módulos, conforme esperado. Anteriormente, retornava apenas layouts codificados. [GitHub-31168](https://github.com/magento/magento2/issues/31168)

<!-- ENGCOM-8509-->

* A variável `composer.lock` O arquivo foi atualizado para a versão mais recente do Padrão de codificação. [GitHub-31152](https://github.com/magento/magento2/issues/31152)

<!-- ENGCOM-9015 -->

* Adição de uma dependência ausente no `web-token/jwt-framework` pacote para o `magento/module-jwt-framework-adapter`. [GitHub-32578](https://github.com/magento/magento2/issues/32578)

<!-- ENGCOM-9019 -->

* Os ouvintes passivos foram adicionados ao `fotorama.js` para melhorar a pontuação das métricas do lighthouse. [GitHub-31140](https://github.com/magento/magento2/issues/31140)

<!-- ENGCOM-9014 -->

* O arquivo README.md para o módulo Google Analytics foi atualizado. [GitHub-32616](https://github.com/magento/magento2/issues/32616)

<!-- ENGCOM-8375 -->

* O Process Manager agora lida com exceções adequadamente em processos bifurcados. O processo principal agora existe, e o aplicativo agora exibe uma mensagem de erro apenas uma vez. Além disso, as exceções dos processos bifurcados agora são tratadas quando são lançadas no processo principal. Anteriormente, o aplicativo registrava várias falhas de indexador e exibia várias mensagens de erro.  [GitHub-30622](https://github.com/magento/magento2/issues/30622)

<!-- ENGCOM-8544 -->

* O aplicativo não lança mais um erro quando um plug-in é adicionado a uma classe principal. (O `optionsProvider` agora o parâmetro é declarado depois de `getContentIdentities` in `Assest.php`.) Anteriormente, o aplicativo exibia este erro:  `Error: Cannot instantiate interface Magento\Framework\Data\OptionSourceInterface`. [GitHub-31291](https://github.com/magento/magento2/issues/31291)

<!-- ENGCOM-8549 -->

* Execução `Magento\Framework\Filesystem\Io\Ftp::ls()` em uma pasta vazia, agora retorna uma matriz vazia, conforme esperado. Anteriormente, o aplicativo lançava esta exceção: `Invalid argument supplied for foreach() in vendor/magento/framework/Filesystem/Io/Ftp.php…`. [GitHub-31288](https://github.com/magento/magento2/issues/31288)

<!-- ENGCOM-8791 -->

* A variável `update` O método para Função e Regras foi marcado como obsoleto em `app/code/Magento/Authorization/Model/Role.php`. [GitHub-30756](https://github.com/magento/magento2/issues/30756)

<!-- ENGCOM-8946 -->

* A concatenação dos parâmetros de cookie SameSite foi corrigida. Anteriormente, a concatenação incorreta anexava a variável `lex` sufixo para `value`, `domain`, e outros parâmetros. [GitHub-26377](https://github.com/magento/magento2/issues/26377), [GitHub-32440](https://github.com/magento/magento2/issues/32440)

<!-- ENGCOM-8698 ENGCOM-9034 -->

* `allure-framework/allure-phpunit` O foi atualizado para a v1.3.1 em toda a base de código. Anteriormente, o aplicativo exibia este erro:  `Warning: Use of undefined constant GLOB_BRACE - assumed 'GLOB_BRACE' (this will throw an Error in a future version of PHP) in /var/www/html/src/vendor/allure-framework/allure-phpunit/src/Yandex/Allure/Adapter/AllureAdapter.php:74.` [GitHub-24635](https://github.com/magento/magento2/issues/24635)

<!-- ENGCOM-8783 -->

* O aplicativo agora exibe mais erros informativos quando ocorrem erros em execução `bin/magento` comandos no modo de produção. Anteriormente, o aplicativo não exibia mensagens de erro ou exibia mensagens sem informações. [GitHub-32786](https://github.com/magento/magento2/issues/32786)

<!-- ENGCOM-8953 -->

* A variável `ArrayIterator` O objeto PHP foi atualizado para funcionar como esperado com o PHP 7.4. [GitHub-32088](https://github.com/magento/magento2/issues/32088)

<!-- ENGCOM-8469 -->

* O aplicativo não emite mais um erro quando um cliente tenta concluir um pedido sem transportadoras disponíveis. Em vez disso, ele exibe a página de check-out e esta mensagem: `Sorry, no quotes are available for this order at this time`. Anteriormente, o aplicativo exibia uma página de check-out em branco e registrava essa mensagem no log de exceções: `array_keys() expects parameter 1 to be array, null given`. [GitHub-30830](https://github.com/magento/magento2/issues/30830)

<!-- ENGCOM-8557 -->

* O aplicativo não registra mais cada cookie como um contexto separado. A variável `$_COOKIE` A matriz também foi convertida em uma cadeia de caracteres. Anteriormente, como cada cookie era registrado como um contexto separado, quando o número de cookies excedia 50, o aplicativo registrava esta mensagem: `Unable to send the cookie. Maximum number of cookies would be exceeded`. [GitHub-31334](https://github.com/magento/magento2/issues/31334)

### Fatura

<!-- ENGCOM-8472 -->

* Ao criar novas faturas no Administrador, a variável **Cópia de email de** A caixa de seleção agora funciona conforme esperado. Anteriormente, a caixa de seleção era ignorada se a configuração global para enviar emails de fatura estivesse ativada no **Emails de vendas**. Agora ele é consistente e opera da mesma forma que as páginas de criação de memorando de crédito e remessa. [GitHub-28511](https://github.com/magento/magento2/issues/28511)

### Galeria de mídia

<!-- MC-41728-->

* `bin/magento media-gallery:sync` O agora falha conforme esperado ao processar imagens PNG que não têm informações do XMP.

<!-- ENGCOM-8814-->

* Entradas no `catalog_product_entity_media_gallery` as tabelas são removidas conforme esperado quando os produtos relacionados são excluídos. [GitHub-17727](https://github.com/magento/magento2/issues/17727)

<!-- ENGCOM-8945-->

* Os detalhes da imagem agora podem ser atualizados na Galeria de mídia quando a minificação do JavaScript está habilitada. Anteriormente, os detalhes da imagem não eram salvos e o aplicativo exibia este erro: `TypeError: Cannot read property 'call' of undefined in jquery.validate`. [GitHub-31633](https://github.com/magento/magento2/issues/31633)

### MFTF

Os novos recursos e correções de bugs principais MFTF estão descritos no [Log de alterações da estrutura de teste funcional](https://github.com/magento/magento2-functional-testing-framework/blob/develop/CHANGELOG.md).

<!-- ENGCOM-8496-->

* A variável `magento indexer:reindex` e `cache:flush` comandos e a variável `AdminReindexAndFlushCache` os grupos de ação foram removidos dos testes para melhorar a execução dos seguintes módulos: `Bundle`, `Catalog`, `CatalogRule`, `CatalogRuleConfigurable`, `CatalogUrlRewrite`, `Downloadable`, `Indexer`, `Paypal`, e `Sales`. [GitHub-31031](https://github.com/magento/magento2/issues/31031)

<!-- ENGCOM-8562-->

* `AdminSubmitCategoriesPopupActionGroup` foi adicionado aos testes para evitar falha. [GitHub-31251](https://github.com/magento/magento2/issues/31251)

<!-- ENGCOM-8562-->

* Os testes foram refatorados com `StorefrontCheckQuickSearchStringActionGroup` e `StorefrontAssertProductNameOnProductMainPageActionGroup` (grupos de ação existentes). [GitHub-31251](https://github.com/magento/magento2/issues/31251)

#### Testes refatorados

Os testes a seguir foram refatorados para melhorar o tempo de execução:

`AddOutOfStockProductToCompareListTest`  <!-- ENGCOM-8547-->

`AdminApplyTierPriceToProductWithPercentageDiscountTest` <!-- ENGCOM-8522-->

`AdminCheckingCreditMemoTotalsTest` <!-- ENGCOM-8606-->

`AdminCheckDashboardWithChartsTest` <!-- ENGCOM-8897-->

`AdminConfigDefaultProductLayoutFromConfigurationSettingTest`  <!-- ENGCOM-8891-->

`AdminCreateInvoiceTest` <!-- ENGCOM-8581-->

`AdminCreateOrderAddProductCheckboxTest` <!-- ENGCOM-8492-->

`AdminMassOrdersCancelCompleteAndClosedTest` <!-- ENGCOM-8538-->

`AdminMassOrdersCancelProcessingAndClosedTest`  <!-- ENGCOM-8670-->

`AdminMassOrdersHoldOnCompleteTest`  <!-- ENGCOM-8897-->

`AdminMassOrdersHoldOnPendingAndProcessingTest`  (substituição de obsoleto `AdminMassOrdersHoldOnPendingAndProcessingTest`) <!-- ENGCOM-8669-->

`AdminMassOrdersUpdateCancelPendingOrderTest` <!-- ENGCOM-8602-->

`AdminMassProductPriceUpdateTest` <!-- ENGCOM-8587-->

`AdminMassUpdateProductAttributesMissingRequiredFieldTest` <!-- ENGCOM-8511-->

`AdminOrdersReleaseInUnholdStatusTest`  <!-- ENGCOM-8592—-->

`AdminPanelIsFrozenIfStorefrontIsOpenedViaCustomerViewTest`  <!-- ENGCOM-8601-->

`AdminSortingByWebsitesTest`  <!-- ENGCOM-8583-->

`AdminUpdateSimpleProduct` <!-- ENGCOM-8536-->

`AdminUpdateSimpleProductWithRegularPriceInStockEnabledFlatTest`  <!-- ENGCOM-8533-->

`AdminValidateShippingTrackingNumberTest`  <!-- ENGCOM-8593-->

`CancelOrdersInOrderSalesReportTest`  <!-- ENGCOM-8591-->

`ProductsQtyReturnAfterOrderCancelTest` <!-- ENGCOM-8506-->

`StorefrontConfigurableProductBasicInfoTest`  <!-- ENGCOM-8711-->

#### Grupos de ação

As ações repetitivas foram substituídas por grupos de ação nestes testes:

`AdminCheckConfigurableProductPriceWithDisabledChildProductTest`  <!-- ENGCOM-8574-->

`AdminConfigurableProductCreateTest` <!-- ENGCOM-9013-->

`AdminConfigurableProductRemoveAnOptionTest` <!-- ENGCOM-9038-->

`AdminCreateProductDuplicateUrlkeyTest` <!-- ENGCOM-9007-->

`AdminCreateSimpleProductNegativePriceTest` <!-- ENGCOM-900-->

`AdminCreateSimpleProductZeroPriceTest`  <!-- ENGCOM-9040-->

`AdminCreateVirtualProductFillingRequiredFieldsOnlyTest` <!-- ENGCOM-9003-->

`AdminUpdateSimpleProductWithRegularPriceInStockDisabledProductTest` <!-- ENGCOM-9002-->

`AdminUpdateSimpleProductWithRegularPriceInStockNotVisibleIndividuallyTest`  <!-- ENGCOM-9011-->

`AdminUpdateSimpleProductWithRegularPriceInStockVisibleInCatalogOnlyTest`  <!-- ENGCOM-9041-->

#### Novos grupos de ação

`AdminClearFiltersOnGridActionGroup` <!-- ENGCOM-8604-->

`AdminClickAddNewPageOnPagesGridActionGroup`  <!-- ENGCOM-8613-->

`AdminClickInsertWidgetActionGroup` <!-- ENGCOM-8614-->

`AdminClickRefundOfflineOnNewMemoPageActionGroup` <!-- ENGCOM-8580-->

`AdminFillAccountInformationOnCreateOrderPageActionGroup` <!-- ENGCOM-8495-->

`AdminGoToOrderStatusPageActionGroup`  <!-- ENGCOM-8615-->

`AdminOpenCMSPagesGridActionGroup`<!-- ENGCOM-8682-->

`AdminSelectAttributeSetOnEditProductPageActionGroup` <!-- ENGCOM-8566-->

`AssertAdminProductIsAssignedToCategoryActionGroup`  (substitui a filtragem da Grade de produtos por SKU e clicando na primeira linha (para diminuir o tempo de execução de teste) <!-- ENGCOM-8535 8534-->

`AssertLinkActionGroup` <!-- ENGCOM-8457-->

`AssertStorefrontCartDiscountActionGroup` <!-- ENGCOM-8431-->

`ClickPlaceOrderActionGroup` <!-- ENGCOM-8671-->

`SaveCmsPageActionGroup` <!-- ENGCOM-8683-->

`StorefrontAssertProductNameIsNotOnProductMainPageActionGroup` <!-- ENGCOM-8562-->

`StorefrontGuestCheckoutProceedToPaymentStepActionGroup` <!-- ENGCOM-8582-->

`StorefrontHoverProductOnCategoryPageActionGroup` <!-- ENGCOM-8575-->

`StorefrontSelectCustomizeAndAddToTheCartButtonActionGroup` <!-- ENGCOM-8573-->

#### Grupos de ação excluídos

<!-- ENGCOM-8525 8558 8608 8546 8695 8889 8681 8627 8714-->

* Removido  `CliIndexerReindexActionGroup` (ou valor alterado) dos testes para melhorar o tempo de execução da `Backend`, `Bundle`, `BundleImportExport`, `Catalog`, `CatalogRule`, `CatalogSearch`, `Checkout`, `Downloadable`,  `Elasticsearch`,  `Elasticsearch6`,  `Indexer`, `LayeredNavigation`,  `LoginAsCustomer`,  `Newsletter`, `Sales`, `SalesRule`, `Search`, `Store`,  `Swatches`, `UrlRewrite`, `Weee`, e `Wishlist`módulos.

<!-- ENGCOM-8893 8951 8893 9001 8715 8724 8721 8843-->

* Removido `CliCacheFlushActionGroup` de `Catalog`, `CatalogUrlRewrite`, `Checkout`, `Config`, `ConfigurableProduct`,`Contact`, `Cookie`, `CurrencySymbol`, `Customer`, `Downloadable`, `Elasticsearch`, `Elasticsearch6`, `Fedex`, `Indexer`, `LayeredNavigation`,`LoginAsCustomer`, `Msrp`, `Multishipping`, `Sales`, `Swatches`, `Translation`, `UrlRewrite`, `Vault`, `Weee`, e `Wishlist` módulos.

### Informativo

<!-- ENGCOM-8948 MC-40885-->

* O aplicativo não envia mais o email do informativo a um cliente que cancelou a assinatura do informativo no período entre a criação da fila de informativos e o envio do informativo. [GitHub-32116](https://github.com/magento/magento2/issues/32116)

<!-- ENGCOM-8675-->

* O aplicativo agora atende às configurações de ativação de informativos (**Lojas**  >  **Configurações**  >  **Configuração**  >  **Clientes**  >  **Informativo**  >  **Opções gerais**). Anteriormente, essas configurações eram sempre recuperadas do escopo padrão em implantações de várias lojas. [GitHub-31188](https://github.com/magento/magento2/issues/31188)

<!-- ENGCOM-8551-->

* A GET de chamada REST `/V1/customers/search` agora retorna as informações corretas para clientes que assinaram vários boletins informativos. [GitHub-31168](https://github.com/magento/magento2/issues/31168)

<!-- ENGCOM-8817-->

* O status da assinatura em cache foi removido do plug-in de boletim informativo. [GitHub-19345](https://github.com/magento/magento2/issues/19345)

### Pedido

<!-- MC-40963-->

* O aplicativo agora calcula corretamente um saldo de cliente faturado ao retornar o crédito da loja para uma conta de cliente para uma ordem parcialmente faturada.

<!-- ENGCOM-8710-->

* O aplicativo agora salva uma ordem modificada conforme esperado quando salva um saldo de cliente reembolsado. [GitHub-393](https://github.com/magento/partners-magento2ee/issues/393)

### Métodos de pagamento

<!-- MC-41525-->

* O aplicativo agora renderiza blocos de pagamento em `frontend` independentemente da área da qual o email foi enviado. (A área atual agora é emulada como `frontend` antes que o bloco de pagamento seja renderizado.) Anteriormente, os blocos de pagamento eram renderizados na área da qual o email era enviado. Como resultado, independentemente de o email de vendas ter sido acionado pelo Administrador ou pela API REST, os URLs de ativos tentaram carregá-los da área errada (`webapi_rest` ou `adminhtml`).

<!-- MC-40810-->

* O aplicativo agora envia o link de um produto baixável para o endereço de email especificado durante o check-out. Anteriormente, quando um comprador convidado usava o Check-out do PayPal Express e inseria diferentes endereços de email para enviar o pedido e fazer o check-out, o aplicativo enviava o link do produto disponível para download para o primeiro endereço.

<!-- MC-38051-->

* O aplicativo agora exibe um valor preciso para o crédito de loja disponível na página Método de pagamento em implantações que oferecem suporte a várias moedas.

<!-- MC-37820-->

* A lista de métodos de pagamento agora é atualizada conforme esperado quando um comprador convidado altera o endereço de entrega de um pedido para um país diferente durante o checkout. Anteriormente, a alteração do endereço de faturamento não acionava uma atualização dos métodos de pagamento possíveis.

#### PayPal

<!-- MC-39895-->

* Os compradores agora podem fazer check-out com sucesso de um pedido PayPal Payflow Pro com um endereço de envio que contém caracteres especiais. Anteriormente, o aplicativo recusava o pagamento desses pedidos.

<!-- MC-39861-->

* Os compradores agora são redirecionados de volta para a página de sucesso do pedido após um pagamento bem-sucedido usando o PayPal. Anteriormente, os compradores eram redirecionados para uma página em branco porque os dados da sessão eram perdidos.

### Desempenho

<!-- MC-41647-->

* O desempenho da pesquisa do SKU do administrador em catálogos grandes melhorou. As dicas do otimizador de consultas agora forçam o uso do índice durante a execução da consulta.

<!-- MC-41440-->

* O desempenho do `catalog_product_alert` `cron` processo ao ser executado em tabelas grandes (vários milhões de linhas) foi aprimorado. Anteriormente, `catalog_product_alert` carregou todos os alertas de produto, o que causou uma exceção de falta de memória.

<!-- ENGCOM-8752-->

* O aplicativo não carrega mais todas as páginas CMS quando precisa de apenas uma página de edição para renderizar um formulário de Administrador.  Essas páginas agora carregam mais rápido. [GitHub-30936](https://github.com/magento/magento2/issues/30936)

<!-- ENGCOM-8510-->

* Valores numéricos em `WHERE IN` agora, as expressões são convertidas como número, não como sequência, o que melhora o desempenho da consulta em algumas versões do MariaDB. [GitHub-31135](https://github.com/magento/magento2/issues/31135)

* A variável `use_application_lock` permite habilitar a reindexação usando variáveis de ambiente ou configurando o `app/etc/env.php` arquivo. Não é mais necessário redefinir manualmente o indexador após uma falha com esse modo ativado. Quando esse modo não estiver habilitado, você deverá redefinir manualmente o indexador após uma falha. Consulte [Usando o modo de bloqueio do aplicativo para processos de reindexação](https://developer.adobe.com/commerce/php/development/components/indexing/#using-application-lock-mode-for-reindex-processes).

### Preços

<!-- MC-41767-->

* O aplicativo agora atualiza corretamente o preço de um produto com preços agrupados quando um comprador atualiza a quantidade do produto na loja. [GitHub-32669](https://github.com/magento/magento2/issues/32669)

<!-- MC-39282-->

* Os produtos do pacote agora podem ser salvos quando os produtos tiverem recebido um preço de nível e `Magento\Framework\Api\ExtensibleDataObjectConverter` é usado para converter dados do produto. Anteriormente, quando `Magento\Framework\Api\ExtensibleDataObjectConverter` foi usado para converter os dados do produto em um array quando um produto era salvo, o aplicativo não salvava o produto e exibia este erro: `Notice: Undefined index: price in app/code/Magento/Catalog/Model/Product/Type/Price.php on line 382.`

<!-- MC-36811-->

* As atualizações de preço programadas agora são aplicadas aos produtos que já estão no carrinho do comprador. [GitHub-356](https://github.com/magento/partners-magento2ee/issues/356)

<!-- MC-24693-->

* O nível de preço agora é aplicado a um produto conforme esperado quando os incrementos de quantidade são ativados e o estoque decimal é menor que 1. Anteriormente, a quantidade mínima de preço de nível era definida como 1.

### Vídeo do produto

<!-- MC-39755-->

* Agora você pode usar o **Adicionar vídeo** botão (Administrador **Catálogo** > **Produtos**) para adicionar vários vídeos consecutivamente. Anteriormente, os campos de vídeo mantinham os detalhes do vídeo anterior.

<!-- MC-40817-->

* Entrar no modo de tela cheia de um vídeo de produto em uma página de produto agora funciona conforme esperado em dispositivos móveis. Anteriormente, entrar no modo de tela cheia fazia com que o vídeo pausasse antes de sair do modo de tela cheia.

<!-- MC-39759-->

* Os botões de seta de navegação (**Próxima** e **Anterior**) agora estão visíveis, conforme esperado, nos vídeos de produtos da loja.

<!-- MC-40463-->

* Os comerciantes agora podem adicionar vídeos do Vimeo usando o **Inserir vídeo** na página do produto, conforme esperado. Anteriormente, o aplicativo exibia um erro 404. [GitHub-31753](https://github.com/magento/magento2/issues/31753)

### Aspas

<!-- MC-39531-->

* A variável `/V1/guest-carts/examplecartid/items` a chamada agora retorna a exibição de loja solicitada. Anteriormente, retornava a primeira visualização de loja na loja, não a solicitada.

<!-- MC-33893 ENGCOM-8992-->

* O envio de fatura agora é configurável. Anteriormente, o envio de faturas não era configurável, e o aplicativo sempre enviava uma fatura após sua criação. Emails de fatura e pedido foram enviados no escopo de um observador. Observadores separados agora controlam o envio de email de pedido e email de fatura. [GitHub-27656](https://github.com/magento/magento2/issues/27656)

### Relatórios

<!-- MC-40998-->

* Todos os relatórios do sistema agora podem ser visualizados e baixados no projeto Adobe Commerce na infraestrutura em nuvem. Anteriormente, não era possível baixar relatórios do sistema para Logs, Data, Design ou Lojas.

<!-- MC-39737-->

* A data da Última revisão no Administrador **Relatórios** > **Resenhas** > **Por produtos** O agora exibe a data de revisão correta. Anteriormente, o aplicativo exibia a data de criação do produto em vez da data de revisão.

### Autorizações de devolução de produto (RMA)

<!-- MC-41866-->

* O RMA `resolution` o atributo não é mais exibido como obrigatório quando o valor do campo de atributo `required` está definida como **não**.

<!-- MC-41808-->

* Agora você pode selecionar vários pedidos para devolução do Administrador. Anteriormente, o aplicativo exibia um erro ao clicar em **Enviar** depois de selecionar várias devoluções e selecionar Fechamento no menu suspenso Ações.

<!-- MC-41759-->

* O aplicativo agora envia uma notificação por email aos clientes, conforme esperado, depois que você altera o status de um retorno usando a API REST.

<!-- MC-39981  magento/partners-magento2ee#442 -->

* O aplicativo agora filtra os registros de acordo com os valores de filtro na grade de retornos do cliente administrador. Anteriormente, o aplicativo direcionava você à página Administrador de todos os clientes e clicando no link **Redefinir filtro** também redirecionado para esta página. [GitHub-436](https://github.com/magento/partners-magento2ee/issues/436)

### Resenhas

<!-- MC-40116-->

* As estrelas da classificação de análise do produto agora são calculadas corretamente na seção Revisar detalhes da página Minha conta.

<!-- MC-39763-->

* As seções Classificação média do produto e Classificações do produto da página Detalhes da revisão do produto agora são renderizadas corretamente. Anteriormente, a ID de revisão não era definida quando o aplicativo calculava a classificação da loja e o modelo de revisão do produto não era renderizado corretamente.

<!-- MC-36149-->

* A variável **Seja o primeiro em analisar este produto** agora o link muda conforme esperado para uma contagem de revisão depois que um administrador aprova uma revisão.

<!-- ENGCOM-8501 MC-30270-->

* Agora, os administradores podem classificar as análises dos produtos na seção Análises do produto da página de edição do produto, conforme esperado. [GitHub-30270](https://github.com/magento/magento2/issues/30270)

<!-- MC-41003  magento/magento2#32259-->

* As análises agora são salvas com a ID de loja correta depois que um administrador aprova e salva a análise de um domínio diferente da loja. [GitHub-17510](https://github.com/magento/magento2/issues/17510)

### Recompensas

<!-- MC-41159-->

* Os comerciantes agora podem cancelar um pedido feito total ou parcialmente, usando pontos de premiação, depois que o cliente que fez o pedido for removido do sistema.

<!-- MC-40037-->

* Os comerciantes agora podem remover pontos de premiação das regras de preço do carrinho. Anteriormente, quando um comerciante tentava definir **Pontos de recompensa** para 0 ao criar uma regra de preço do carrinho, o valor anterior de quantidade de pontos de premiação persistia.

<!-- MC-39890-->

* Os pontos de premiação para análises de produtos agora estão associados ao site relevante quando várias análises são aprovadas pelo administrador **Marketing** > **Revisões pendentes** grade. Anteriormente, os pontos de premiação não eram exibidos na loja e não estavam vinculados ao site relevante no Administrador.

<!-- MC-39820-->

* O aplicativo agora atualiza a lista de métodos de pagamento quando um comprador que está fazendo check-out com vários endereços marca ou desmarca o **Crédito da Loja (Pontos de Recompensa)** opção.

### Vendas

<!-- MC-39796-->

* Os usuários administradores agora podem fazer pedidos de itens indisponíveis quando o **Ordens pendentes são permitidas** configuração está ativada (**Lojas** > **Configuração** > **Catálogo** > **Inventário** > **Opções de estoque do produto**). Anteriormente, o aplicativo exibia um erro.

<!-- MC-42280-->

* Os compradores agora podem encontrar um pedido na página Pedidos e devoluções quando o sobrenome termina com um espaço em branco.

<!-- MC-41438-->

* Agora as faturas são criadas com o total geral correto quando uma regra de preço do carrinho que atribui um desconto de 100% é aplicada a um pedido que também está sujeito a impostos de produto de catálogo e de desconto e que se qualifica para remessa gratuita. Anteriormente, o pedido tinha o preço correto, mas a fatura não tinha. [GitHub-30853](https://github.com/magento/magento2/issues/30853)

<!-- MC-40384-->

* Filtrar pedidos por data agora retorna resultados precisos. Anteriormente, o aplicativo não retornava um pedido que era feito depois das 00:00 UTC, quando você filtrava pedidos por data do pedido.

<!-- MC-40030-->

* A grade do aviso de crédito agora exibe o símbolo de moeda correto quando **Site** o escopo é usado para um **Preço** em uma implantação de várias lojas.

<!-- MC-40013 ENGCOM-8781-->

* Os botões de opção Métodos de pagamento não desaparecem mais na seção Informações de pagamento e envio do fluxo de trabalho de finalização depois que a página Criar novo pedido pelo administrador é recarregada. [GitHub-32106](https://github.com/magento/magento2/issues/32106)

<!-- MC-39891-->

* O texto árabe agora é exibido corretamente nas faturas.

<!-- MC-39864-->

* O aplicativo agora calcula corretamente os totais de impostos parciais do aviso de crédito para avisos de crédito baseados em um pedido ou em uma fatura em lojas que implantam o PayPal Payment Pro como um gateway de pagamento. Anteriormente, para ordens com várias NFFs, a aplicação aplicava todo o imposto dessa ordem para o cancelamento parcial da NFF no aviso de crédito.

<!-- MC-39521 ENGCOM-8528-->

* O aplicativo não cria mais deadlocks aleatórios do banco de dados ao enviar novos emails de pedido aos clientes. Anteriormente, ocorriam bloqueios porque o aplicativo salvava o objeto inteiro e seus objetos relacionados, em vez de atualizar colunas SQL. O aplicativo exibiu este tipo de erro: `SQLSTATE[40001]: Serialization failure: 1213 Deadlock found when trying to get lock; try restarting transaction`. [GitHub-31090](https://github.com/magento/magento2/issues/31090)

<!-- MC-39353-->

* A página de detalhes do pedido da vitrine agora exibe a quantidade correta do produto entregue. Anteriormente, as quantidades do produto estavam incorretas porque o modelo da página Remessa do pedido era renderizado **Qtd. Entregue** como um `int`. Isso foi alterado para `float`.

<!-- MC-39026-->

* O aplicativo não envia mais cópias por email de uma fatura de pedido quando o **Enviar cópia da fatura por email** O botão está desmarcado. Anteriormente, o aplicativo enviava um email para **Cliente** e **Enviar cópia de email de fatura para**. [GitHub-28511](https://github.com/magento/magento2/issues/28511)

<!-- MC-38973-->

* O aplicativo não cria mais entradas de endereço duplicadas para uma conta de cliente ao criar um novo pedido do Administrador para um cliente existente. A variável **Salvar no livro de endereços** A caixa de seleção foi renomeada para **Adicionar ao catálogo de endereços** e agora está desmarcada por padrão no Admin.

<!-- MC-38834-->

* O aplicativo agora usa o logotipo que foi carregado na variável **Logotipo para exibição de impressão do HTML** configurações quando os compradores imprimem um pedido da conta. Anteriormente, o aplicativo exibia o logotipo LUMA em vez do logotipo carregado.

<!-- MC-38625-->

* O pager de itens de pedido na loja agora funciona como esperado quando a contagem de itens excede 20. Anteriormente, o pager levava em conta os produtos secundários e a contagem total estava incorreta.

<!-- MC-23915 ENGCOM-8713-->

* O aplicativo agora exibe os símbolos de moeda corretos para o subtotal e os valores de remessa e manuseio nas grades da página Ordem e da página Aviso de Crédito. [GitHub-22662](https://github.com/magento/magento2/issues/22662)

<!-- ENGCOM-8486-->

* Os administradores que usam o Safari agora podem adicionar um produto a um pedido do administrador com êxito. Anteriormente, quando o administrador clicava no botão **Adicionar produtos selecionados ao pedido** , o aplicativo exibiu o ícone de carga giratória e a página travou. [GitHub-30265](https://github.com/magento/magento2/issues/30265)

### Regra de Vendas

<!-- MC-40671-->

* O aplicativo agora aplica as regras de preço do carrinho com **Desconto de Qtde Máxima Aplicado a** ou **Etapa de Qtde. de Desconto (Compra X)** condições corretamente quando várias regras de preço do carrinho são aplicadas ao carrinho de compras. Anteriormente, se uma regra de preço do carrinho com **Desconto de Qtde Máxima Aplicado a** ou **Etapa de Qtde. de Desconto (Compra X)** foi aplicado depois de outra regra de preço do carrinho, o desconto total foi reduzido ao valor configurado para **Desconto de Qtde Máxima Aplicado a** ou **Etapa de Qtde. de Desconto (Compra X)** vezes o preço do produto.

<!-- MC-39827-->

* O relatório de Cupom agora reflete com precisão a atividade de cupom em implantações em que um banco de dados dividido é implementado.

<!-- MC-39477-->

* Regras de preço do carrinho que contêm a condição Categoria **NÃO É** agora são aplicadas conforme esperado aos produtos filho/simples configuráveis que não estão atribuídos a uma categoria, mas cujos produtos pai estão atribuídos.

<!-- MC-39034-->

* O GRAPHQL `cart` o query agora retorna o total geral correto para a etapa de faturamento de um carrinho quando um cupom é aplicado ao pedido.

### Pesquisar {#search-heading}

<!-- MC-41138-->

* A página de categoria não contém mais estas IDs de elemento de HTML duplicadas: `modes-label`, `mode-list`, `toolbar-amount`, `sorter`, `limiter`.

<!-- MC-40981-->

* Os resultados parciais da pesquisa de palavras não incluem mais correspondências inesperadas ou irrelevantes, e as pesquisas produzem resultados consistentes na loja e no administrador. O aplicativo agora usa um analisador diferente sem um lematizador para pesquisas parciais de palavras. Anteriormente, os resultados da pesquisa exibiam produtos que não incluíam palavras-chave de pesquisa. (O analisador padrão anteriormente incluía um lematizador e, como o mesmo analisador foi usado no tempo de pesquisa para pesquisa de palavra parcial, o resultado da pesquisa poderia produzir correspondências inesperadas ou irrelevantes.)

<!-- MC-40715-->

* A pesquisa rápida agora retorna resultados se a consulta de pesquisa tiver várias palavras e o nome do produto estiver configurado como não pesquisável. Anteriormente, se o nome do produto era configurado como não pesquisável, o aplicativo exibia uma exceção de consulta em consultas de pesquisa com várias palavras.

<!-- MC-40672-->

* Os resultados da pesquisa agora incluem o `weight` atributo conforme esperado quando configurado como pesquisável.

<!-- MC-40409-->

* O aplicativo não emite mais um erro quando você visualiza uma página de categoria vazia com o Elasticsearch ativado. Em vez disso, ele renderiza a página conforme esperado e exibe uma mensagem informativa. Anteriormente, um índice de texto completo vazio acionava uma exceção em uma página de categoria.

<!-- MC-40376-->

* O recurso de preenchimento automático do campo de pesquisa agora funciona conforme esperado se um comprador clicar fora do campo de pesquisa depois de iniciar a pesquisa. As sugestões de preenchimento automático agora reaparecem quando o comprador retoma a digitação. Anteriormente, o aplicativo não exibia sugestões de preenchimento automático e clicar na caixa de pesquisa não tornava as sugestões de pesquisa visíveis novamente (embora digitar letras adicionais o fizesse).

<!-- MC-34217-->

* Pesquisar um produto com base em seu SKU total ou parcial na Pesquisa avançada agora retorna o produto esperado.

<!-- MC-31395-->

* Agora, os filtros de navegação em camadas exibem contagens precisas do produto. Anteriormente, os valores de contagem de produtos do Elasticsearch não eram filtrados por permissões de catálogo.

<!-- MC-23881 ENGCOM-8618-->

* O Elasticsearch não lança mais um erro quando o parâmetro de página do URL da categoria excede a paginação. [GitHub-23843](https://github.com/magento/magento2/issues/23843)

<!-- MC-24033  magento/magento2#3274-->

* Agora é possível adicionar um mapeador de campo Elasticsearch personalizado a `Magento\Elasticsearch\Model\Adapter\FieldMapper\Product\FieldProvider\FieldName\Resolver\CompositeResolver`. [GitHub-24350](https://github.com/magento/magento2/issues/24350)

<!-- ENGCOM-9029 MC-24026-->

* Os desenvolvedores agora podem alterar os mapeamentos de Elasticsearch. Anteriormente, os modelos dinâmicos enviados para o servidor Elasticsearch nos mapeamentos padrão eram codificados, o que impedia os desenvolvedores de indexar no Elasticsearch quaisquer dados extras associados a um módulo personalizado. [GitHub-24363](https://github.com/magento/magento2/issues/24363)

<!-- ENGCOM-8464 -->

* Os campos de pesquisa (minipesquisa de formulário) agora funcionam como esperado quando as Sugestões de pesquisa estão desativadas. [GitHub-30584](https://github.com/magento/magento2/issues/30584)

### Envio

<!-- MC-41464-->

* O aplicativo agora atualiza o preço de envio conforme esperado quando um comprador navega de volta para a página do carrinho depois de excluir um produto durante o checkout com vários endereços.

<!-- MC-41343-->

* O aplicativo agora exibe o preço de envio ajustado correto quando alguns itens no carrinho se qualificam para envio gratuito. Anteriormente, quando um subconjunto de itens no carrinho se qualificava para envio gratuito, o aplicativo não ajusta o preço do envio e exibia o preço total do envio ao comprador.

<!-- MC-41186-->

* Os administradores restritos a um site específico agora podem criar uma remessa para um pedido feito no mesmo site. Anteriormente, o aplicativo lançava essa exceção quando um administrador sem permissão para a exibição de loja padrão tentava enviar um pedido que foi colocado em uma exibição de loja à qual o administrador tinha acesso: `Notice: Undefined offset: 1 in /app/code/Magento/Catalog/Model/Product/Attribute/Backend/GroupPrice/AbstractGroupPrice.php on line 293`.

<!-- MC-41069-->

* O aplicativo agora leva em conta os descontos relevantes da regra de preço do carrinho ao determinar se um pedido atende às condições para frete gratuito da DHL.

<!-- MC-40702 ENGCOM-8728-->

* As etiquetas de remessa agora usam a moeda base como esperado em vez da moeda do pedido para lojas que suportam várias moedas quando um pedido é colocado em uma moeda não base. [GitHub-31891](https://github.com/magento/magento2/issues/31891)

<!-- MC-40678 magento/magento2#31925-->

* O aplicativo agora exibe o subtotal correto do pedido quando um comprador retorna à página do carrinho durante o checkout após sair da página de vários envios. [GitHub-31889](https://github.com/magento/magento2/issues/31889)

<!-- MC-40541 magento/magento2#31841 -->

* A edição de informações de faturamento durante a criação do pedido de Admin não altera mais as informações de envio de clientes com endereços de envio e faturamento padrão diferentes. [GitHub-31786](https://github.com/magento/magento2/issues/31786)

<!-- MC-37385 ENGCOM-8578-->

* O aplicativo não desmarca mais a opção **Acrescentar comentários** caixa de seleção quando um comprador clicar **Obter métodos e taxas de envio** O e seleciona um método de envio ao criar um pedido do administrador. [GitHub-30256](https://github.com/magento/magento2/issues/30256)

<!-- MC-36425-->

* Os compradores agora podem usar o botão Voltar do navegador para retornar à página Selecionar método de envio ao fazer check-out de um pedido com vários endereços. Anteriormente, o aplicativo exibia a página Selecionar método de envio corrompida. [GitHub-30268](https://github.com/magento/magento2/issues/30268)

<!-- MC-40021 ENGCOM-8983-->

* A quantidade do produto agora permanece inalterada conforme esperado depois que um comprador altera a quantidade na página Enviar para vários endereços e clica no botão Voltar do navegador. [GitHub-31956](https://github.com/magento/magento2/issues/31956)

<!-- ENGCOM-9096-->

* Os encargos do método de envio com taxa uniforme não se tornam mais zero quando uma regra de preço do carrinho é aplicada durante a finalização da compra. [GitHub-21832](https://github.com/magento/magento2/issues/21832)

<!-- ENGCOM-8537-->

* O aplicativo não emite mais um erro quando um comerciante tenta enviar um pedido usando a DHL quando o **Criar etiqueta de remessa** estiver ativada e o nome do produto contiver caracteres unicode. Anteriormente, o aplicativo exibia esse erro ao solicitar a criação de rótulos: `The response is in wrong format`. [GitHub-31032](https://github.com/magento/magento2/issues/31032)

<!-- ENGCOM-8952 -->

* Você pode fazer um pedido com êxito do Administrador em uma implantação de vários sites na qual `United States` está ativado em um site e`Disable all countries` está habilitado como escopo padrão no outro site. Anteriormente, o aplicativo não colocava o pedido e exibia este erro: `Please check the shipping address information. "regionId" is required. Enter and try again`. [GitHub-30577](https://github.com/magento/magento2/issues/30577)

### Estágios

<!-- MC-39807-->

* O recurso Agendar atualização de bloco agora funciona conforme esperado em implantações que implementam o Fastly. Anteriormente, o aplicativo não atualizava o conteúdo do bloco porque as tags de cache do Fastly não eram invalidadas e o Fastly continuou a fornecer conteúdo desatualizado.

<!-- MC-41142-->

* A pré-visualização do preparo da regra de preço do carrinho agora é carregada no site apropriado quando atribuída a várias exibições de loja do site. Anteriormente, a pré-visualização do preparo da regra de preço do carrinho era carregada na exibição de loja padrão, independentemente dos sites atribuídos.

<!-- MC-40916-->

* Preços especiais para produtos na exibição de loja não padrão agora são definidos como o valor padrão, conforme esperado, após o término de uma atualização agendada.

<!-- MC-40850  magento/partners-magento2ee#489-->

* Os comerciantes agora podem salvar com êxito um produto baixável com uma amostra vinculada da página de produto baixável depois de criar uma atualização de preparo futura com uma data de término. Anteriormente, o aplicativo não salvava o produto e exibia esta mensagem: `The downloadable sample isn't related to the product. Verify the link and try again`. [GitHub-488](https://github.com/magento/partners-magento2ee/issues/488)

<!-- MC-40734-->

* O aplicativo não executa mais grandes consultas de banco de dados que incluem todas as IDs de produto durante a pré-visualização de uma atualização programada de uma categoria. Em vez disso, o filtro de categoria é aplicado à coleção de produtos para criar uma tabela temporária para pré-visualizações da categoria. Anteriormente, o aplicativo inseria todos os produtos em uma tabela temporária para a pré-visualização de preparo, o que degradava o desempenho.

<!-- MC-40714-->

* A variável `Magento_SalesRuleStaging` O módulo do não aciona mais erros durante a atualização da versão 2.3.x.

<!-- MC-40697-->

* O aplicativo agora exibe as condições da regra de catálogo com dados corretos quando você exibe uma atualização de programação. Anteriormente, se você visualizava uma atualização de agendamento criada com condições, o aplicativo não exibia condições ou exibia condições com dados incorretos.

<!-- MC-40604-->

* A variável **Usar valor padrão** A caixa de seleção de um produto permanece marcada depois que uma atualização agendada é desmarcada antes da atualização.

<!-- MC-40588 magento/partners-magento2ee#463-->

* As regras de preço de catálogo agora se aplicam conforme esperado a produtos com valores de atributo indefinidos. Anteriormente, os descontos criados por meio de uma regra de preço de catálogo não eram aplicados a produtos com atributos indefinidos. [GitHub-461](https://github.com/magento/partners-magento2ee/issues/461)

<!-- MC-40283-->

* Agora as regras do catálogo funcionam conforme esperado em implantações de vários sites com lojas em diferentes fusos horários. Anteriormente, o aplicativo aplicava ou desativava regras de catálogo em todos os sites de uma só vez.

<!-- MC-40054-->

* Os preços de nível não são mais removidos quando uma atualização programada é criada para um site específico.

<!-- MC-39784 magento/partners-magento2ee#475-->

* Agora é possível salvar um produto na página Produto baixável depois de criar uma atualização de preparo futura com uma data de término. Anteriormente, o aplicativo não salvava o produto e exibia esta mensagem: `The downloadable link isn't related to the product. Verify the link and try again`. [GitHub-474](https://github.com/magento/partners-magento2ee/issues/474)

### Loja

<!-- MC-40538-->

* O aplicativo não trata mais uma cadeia de caracteres de `0` como um valor vazio ao exibir uma home page de armazenamento. Anteriormente, o aplicativo tratava um valor inteiro no início de um caminho de solicitação como uma ID de loja, o que tinha efeitos não intencionais no SEO.

<!-- MC-40313  magento/magento2#31970-->

* Plug-ins para `\Magento\Framework\App\ActionInterface` em `lib/internal/Magento/Framework/App/Action/Plugin` foram removidos para manter a diretriz de que os plug-ins devem ser usados para personalizar o comportamento de um módulo em outro módulo. [GitHub-28050](https://github.com/magento/magento2/issues/28050)

<!-- MC-24772-->

* O aplicativo agora exibe essa mensagem quando você tenta selecionar `Website` como padrão quando `Store View` está desativado durante a criação do site: `Please enable your Store View before using this Web Site as Default`. Anteriormente, o site travava e o aplicativo não exibia um alerta.

### Imposto

<!-- MC-39571-->

* O aplicativo agora leva em conta o imposto oculto durante a validação do valor mínimo do pedido.

<!-- MC-38025 ENGCOM-8612-->

* O aplicativo agora exibe Impostos de produto fixos (FPT) conforme esperado quando um comprador navega de volta para o carrinho de compras e prossegue para o checkout após adicionar produtos de pacote ao carrinho. [GitHub-30250](https://github.com/magento/magento2/issues/30250)

<!-- MC-37657 magento/magento2#31850-->

* O aplicativo agora preenche o **Número IVA** campos de entrada para os endereços de faturamento e de entrega da seção Informações de Endereço da página Novo pedido de administrador com números VAT salvos quando um administrador cria um pedido para um cliente existente. [GitHub-31846](https://github.com/magento/magento2/issues/31846)

<!-- ENGCOM-8617 magento-engcom/magento2ee#558-->

* O aplicativo agora exibe uma **Número IVA** na página de registro do cliente quando `customer/create_account/vat_frontend_visibility` está ativado. [GitHub-31326](https://github.com/magento/magento2/issues/31326)

### Teste

<!-- MC-41393-->

* Os ambientes de teste foram atualizados para Redis 6.0.12.

<!-- ENGCOM-8529-->

* Removido `CacheCleaner::cleanAll();` dos testes de integração. [GitHub-31074](https://github.com/magento/magento2/issues/31074)

<!-- ENGCOM-8898-->

* Adição de um teste para esse cenário: os usuários administradores podem editar uma conta de cliente quando o cliente é inscrito em um boletim informativo na fila. [GitHub-30645](https://github.com/magento/magento2/issues/30645)

<!-- ENGCOM-8484-->

* Remoção da `cache:flush` comando de testes para melhorar o tempo de execução da `Catalog`, `CatalogUrlRewrite`, e `LoginAsCustomer` módulos. [GitHub-31056](https://github.com/magento/magento2/issues/31056)

<!-- ENGCOM-8499-->

* Os parâmetros redundantes foram removidos e o POST foi alterado para GET, onde necessário, em `\Magento\Logging\Model\ProcessorTest::testLoggingProcessorLogsActionShipping`.

### Tema

<!-- MC-41474-->

* A página de logon do cliente não exibe mais esta mensagem quando a variável **Mover o código JS para a parte inferior da página** configuração (**Loja** > **Configurações** > **Avançado** > **Desenvolvedor** > **Configurações do JavaScript**) e os cookies estão habilitados: `The store will not work correctly in the case when cookies are disabled`.

<!-- MC-40982-->

* Os links de conta nos cabeçalhos agora seguem os padrões da WCAG. Anteriormente, os links de conta nos cabeçalhos continham IDs duplicadas, o que causava a falha da validação da WCAG.

<!-- MC-40278-->

* O aplicativo agora prioriza a configuração da loja para uma imagem de logotipo da loja em relação à configuração de layout. Anteriormente, o tamanho das imagens de logotipo era fixo e não variava de acordo com o armazenamento.

<!-- MC-35227-->

* O aplicativo agora exibe elementos de página de forma consistente nas páginas da loja que usam temas padrão do Adobe Commerce. Anteriormente, nem todos os estilos eram aplicados no tema em branco, portanto, nem todos os elementos da página eram exibidos nas páginas que usavam esse tema. (Por exemplo, nenhum ícone de lente de aumento estava presente no campo de pesquisa da página Meus pedidos.)

### Tradução e códigos de idiomas

<!-- MC-23553 ENGCOM-8839-->

* Os colchetes adicionados às cadeias de caracteres não são mais escapados quando a tradução em linha está configurada. Anteriormente, a variável `escapeHtmlAttr` O método converteu os colchetes em códigos de entidade HTML. [GitHub-32000](https://github.com/magento/magento2/issues/32000)

<!-- ENGCOM-8694-->

* As frases intraduzíveis no Admin agora podem ser traduzidas. (Essa solicitação de pull contribui para esforços contínuos para tornar todas as sequências de caracteres de Administrador localizáveis.) [GitHub-11175](https://github.com/magento/magento2/issues/11175)

<!-- ENGCOM-8584-->

* Strings de texto no modelo usadas para gerenciar métodos de pagamento armazenados (**Minha conta**  >  **Métodos de pagamento armazenados** ) agora podem ser traduzidas. [GitHub-31211](https://github.com/magento/magento2/issues/31211)

<!-- MC-30798 ENGCOM-8717-->

* Os emails de pedidos enviados pelo administrador agora usam o local da loja, não o local associado à conta do administrador. [GitHub-26521](https://github.com/magento/magento2/issues/26521)

### IU

<!-- MC-41784-->

* O rodapé do Administrador agora exibe a versão correta do produto.

<!-- MC-41067-->

* A paginação para origens agora está presente, conforme esperado, durante a criação da remessa do Administrador.

<!-- MC-40240-->

* O filtro de grade de produto agora funciona corretamente quando você usa atributos de data personalizados para filtrar produtos e a localidade do usuário Admin é `en_GB`.

<!-- MC-39279-->

* Os gestos de pinçar para zoom agora funcionam como esperado na lente de aumento da galeria de imagens da página do produto em dispositivos iOS.

<!-- MC-38787-->

* A paginação dos resultados de pesquisa da grade de produto do administrador agora começa na página um para cada pesquisa, conforme esperado.

<!-- MC-38423-->

* As anomalias com a exibição do carrinho de compras quando ampliadas foram resolvidas. Anteriormente, os elementos de exibição se sobrepunham quando esta página era ampliada.

<!-- MC-38235 magento/partners-magento2ee#492 -->

* Problemas de alinhamento com as guias na página Convites de administrador (Administrador **Marketing** > **Vendas privadas** > **Convites**) foram resolvidas. Anteriormente, a exibição de guia dos convites aceitos por um cliente estava desalinhada. [GitHub-333](https://github.com/magento/partners-magento2ee/issues/333)

<!-- MC-38226 magento/magento2#32008-->

* A página de revisão do pedido exibida durante o check-out com o Check-out expresso do PayPal agora é carregada com sucesso. Anteriormente, o modelo continha os dados não utilizados **Atualizar método de entrega** botão, que só foi parcialmente ocultado pelo script durante a renderização da página. [GitHub-32006](https://github.com/magento/magento2/issues/32006)

<!-- MC-37941 magento/magento2#31892-->

* As estrelas de classificação e o texto de revisão na seção Revisões do cliente da página do produto agora ficam espaçados corretamente quando nomes de classificação longos estão presentes. [GitHub-31890](https://github.com/magento/magento2/issues/31890)

<!-- MC-37688-->

* As opções agora são exibidas conforme esperado na lista suspensa Ações nas páginas Arquivar NFFs, Entregas e Avisos de Crédito.

<!-- MC-23729  magento/magento2#31549-->

* O aplicativo agora exibe um valor de hora correto quando a variável `datetime` componente `timeOnly` está definida como **sim**. [GitHub-23157](https://github.com/magento/magento2/issues/23157)

<!-- ENGCOM-8514 -->

* Agora você pode remover uma atualização de layout após criar um novo widget no Administrador **Conteúdo** > **Widgets**.  [GitHub-29936](https://github.com/magento/magento2/issues/29936)

<!-- ENGCOM-8502 MC-35716-->

* A variável **Remover atualização de layout** agora funciona conforme esperado em qualquer layout adicionado do Administrador **Conteúdo** > **Widgets**. Anteriormente, esse botão não funcionava em nenhum layout diferente do primeiro selecionado ao adicionar vários layouts. [GitHub-30286](https://github.com/magento/magento2/issues/30286)

<!-- ENGCOM-8524 -->

* O aplicativo agora usa o título de página definido no arquivo de layout como o título da página do navegador para o arquivo de Edição de conta do cliente. Anteriormente, a variável `Magento\Customer\Controller\Account\Edit` a ação do controlador forçou o valor do título da página para `Account Information`. [GitHub-30724](https://github.com/magento/magento2/issues/30724)

<!-- ENGCOM-8896 8826-->

* As caixas de seleção que permitem aos comerciantes alternar entre mostrar e ocultar senhas foram adicionadas a estas páginas:
   * Logon do cliente
   * Registro do cliente
   * Edição de Cliente (seção Alterar Senha)
   * Nova senha definida pelo cliente [GitHub-31557](https://github.com/magento/magento2/issues/31557)

<!-- ENGCOM-8545 -->

* Removido um cabeçalho redundante nas células de grade que aparecia quando um administrador adicionava um produto a um conjunto de produtos agrupado após alterar o conjunto de atributos. [GitHub-30911](https://github.com/magento/magento2/issues/30911)

<!-- ENGCOM-8895 -->

* O aplicativo agora exibe uma `DateRange` filtro na área Logon do **Cliente**  >  **Logon** página. Anteriormente, o aplicativo exibia uma `Text` filtro. [GitHub-30328](https://github.com/magento/magento2/issues/30328)

<!-- ENGCOM-9009 -->

* O JavaScript foi removido dos arquivos de modelo e movido para arquivos separados para reduzir os problemas de renderização nas páginas de Administrador. Anteriormente, as páginas de Administração não eram renderizadas corretamente em implantações nas quais a minificação de HTML tinha sido habilitada. O aplicativo exibiu este erro: `An error has happened during application run. See exception log for details`. [GitHub-32454](https://github.com/magento/magento2/issues/32454)

<!-- ENGCOM-9044 -->

* A variável `dropdownDialog` o widget agora carrega somente os itens arrastáveis e redimensionáveis `jquery-ui` blocos necessários. Anteriormente, carregava grandes quantidades de código desnecessário, o que aumentava o tempo de carregamento e reduzia o desempenho. [GitHub-32810](https://github.com/magento/magento2/issues/32810)

### Substituições de URL

<!-- MC-41550-->

* As substituições de URL de produto para um site específico em uma implantação multissite agora são geradas conforme esperado depois que os produtos são atribuídos a um site por atualização em massa.

<!-- MC-40780 magento/magento2#32598-->

* O aplicativo agora gera corretamente o caminho do URL para categorias secundárias quando o **Usar Valor Padrão** a caixa de seleção da chave de URL está ativada para a categoria principal. Anteriormente, mover uma categoria na hierarquia resultava em uma falha `url_path` valor ao usar chaves de URL diferentes em uma implantação de exibição em várias lojas. [GitHub-16202](https://github.com/magento/magento2/issues/16202)

<!-- MC-40371-->

* O aplicativo agora atualiza o `url_path` da categoria atribuída a todo o escopo de armazenamento quando você move uma categoria na hierarquia de categorias. Anteriormente, mover uma categoria na hierarquia resultava em uma falha `url_path`.

<!-- MC-39463-->

* Agora, os redirecionamentos de URL criados pelo Administrador usando um URL personalizado funcionam com sucesso. Anteriormente, o GraphQL armazenava a resposta em cache de um GraphQL `urlResolver` query e retornou o valor antigo após a atualização de regravação do URL.

<!-- MC-38931  magento/magento2#31106-->

* As substituições de URL de produto agora são removidas conforme esperado quando um produto é removido de um site. [GitHub-24184](https://github.com/magento/magento2/issues/24184)

<!-- ENGCOM-8719 -->

* Adição de um `main_table` referência à `store_id` no `addStoreFilter` função da `app/code/Magento/UrlRewrite/Model/ResourceModel/UrlRewriteCollection.php` coleção. Anteriormente, ocorriam problemas sempre que uma `join` é adicionado à coleção em uma tabela que também contém um `store_id` coluna. [GitHub-31853](https://github.com/magento/magento2/issues/31853)

<!-- ENGCOM-8894 -->

* A variável `PUT /V1/products/:sku` O endpoint REST agora gera novamente as substituições de URL do produto, conforme esperado. Anteriormente, o endpoint gerava novamente o produto `url_key` valores, mas não substituições de URL. [GitHub-30316](https://github.com/magento/magento2/issues/30316)

### Usuário

<!-- MC-40777  magento/magento2#31998-->

* Agora você pode salvar uma nova função de usuário efetiva (Administrador **Sistema** > **Permissões** > **Funções do usuário**) com todo o `Catalog` árvore selecionada excluindo `Edit Product Design` ( **Catálogo** > **Inventário** > **Produtos** > **Editar design do produto**). Anteriormente, o aplicativo não salvava alterações de produto feitas por um usuário nesta função e exibia este erro: `Not allowed to edit the product's design attributes`. [GitHub-31973](https://github.com/magento/magento2/issues/31973)

<!-- MC-38442-->

* O aplicativo agora usa o modelo de email personalizado correto ao gerar emails para novos administradores. Anteriormente, o aplicativo usava o antigo modelo padrão, que omitia o nome e o sobrenome do administrador.

<!-- MC-38122-->

* O aplicativo agora usa o modelo de email correto ao enviar emails para novos usuários. Anteriormente, o aplicativo usava o modelo padrão mesmo quando um modelo personalizado era selecionado.

### VersionCMS

<!-- MC-39953-->

* O aplicativo agora aplica o tema correto a uma página CMS depois que você altera seu layout. Anteriormente, o aplicativo alterava o tema atribuído ao Luma após salvar as alterações de layout, independentemente do tema atribuído à página.

<!-- MC-40431-->

* Os administradores com funções restritas agora podem adicionar, atualizar ou duplicar com êxito as páginas às quais têm acesso atribuídas a um nó de hierarquia. Anteriormente, o aplicativo exibia um erro fatal sob essas condições.

### Vídeo

<!-- MC-42059 ENGCOM-9039-->

* Os vídeos agora estão disponíveis na galeria de produtos, conforme esperado, quando o agrupamento avançado de JavaScript é ativado e usado. [GitHub-32501](https://github.com/magento/magento2/issues/32501)

<!-- ENGCOM-8532-->

* Os vídeos do YouTube para produtos simples que pertencem a um produto configurável agora funcionam conforme esperado. Anteriormente, as imagens eram ordenadas por ID em vez da posição. Consequentemente, alguns vídeos foram tratados como imagens. [GitHub-29690](https://github.com/magento/magento2/issues/29690)

### Visual Merchandiser

<!-- MC-40797-->

* O desempenho das cargas da página de categoria de Administrador com o Visual Merchandiser melhorou. O carregamento de páginas de categoria de Administrador não gera mais grandes consultas de banco de dados.

### Estrutura da API da Web

<!-- MC-41758-->

* A API do catálogo agora atualiza corretamente os valores de opção personalizados de um produto adicionando novos valores e removendo valores antigos. Anteriormente, a API não excluía os valores antigos.

<!-- MC-34431-->

* POST `/V1/guest-carts/:cartId/billing-address` agora retorna a ID do endereço como um número inteiro, não uma sequência de caracteres.

### Restrição de site

<!-- MC-38516-->

* Os compradores agora são redirecionados para a página que estavam tentando acessar antes de serem solicitados a fazer logon. Anteriormente, nas implantações em que as restrições de site eram ativadas e o Modo de restrição era definido como **Vendas privadas: somente logon**, os compradores foram redirecionados para a página inicial da loja.

### Widget

<!-- MC-39128-->

* Agora, um administrador pode excluir todas as atualizações de layout de um widget. Anteriormente, quando um widget tinha várias atualizações de layout, um administrador podia excluir apenas o primeiro.

<!-- MC-39107-->

* Clicar no **Adicionar ao carrinho** no widget produto não resulta mais em um recarregamento de página. Anteriormente, ao clicar no botão **Adicionar ao carrinho** em um widget de produto fazia com que uma página atual fosse recarregada antes que o produto fosse adicionado ao carrinho.

<!-- MC-23590-->

* O widget de link do nó de hierarquia do CMS no TinyMCE agora renderiza links de hierarquia conforme esperado quando o **Texto personalizado de âncora** está vazio.

### Lista de desejos

<!-- MC-40651 ENGCOM-8769-->

* O aplicativo não redefine mais as configurações de um produto configurável quando você clica em **Editar item** botão para o produto de uma lista de desejos. [GitHub-32119](https://github.com/magento/magento2/issues/32119)

<!-- MC-40417-->

* O aplicativo agora exibe o preço correto do produto ao atualizar um produto com uma opção de arquivo personalizável na lista de desejos. Anteriormente, o aplicativo exibia o preço incorreto do produto e não exibia um link para o arquivo carregado.

<!-- MC-39060-->

* A contagem total de produtos em uma lista de desejos para um cliente com várias listas de desejos agora corresponde ao número de itens na lista de desejos. Anteriormente, os produtos indisponíveis eram incluídos na contagem total de produtos.

<!-- MC-36779 magento/magento2#31110-->

* O aplicativo agora remove um produto de uma lista de desejos depois de adicioná-lo a um pedido. [GitHub-30260](https://github.com/magento/magento2/issues/30260)

<!-- MC-34456 ENGCOM-8816-->

* Os compradores agora podem adicionar produtos relacionados ao carrinho de compras de uma lista de desejos. Anteriormente, o aplicativo adicionava somente o produto configurável, não o produto configurável e seus produtos relacionados, quando um comprador clicava no **Selecionar tudo** link da seção Produtos relacionados. [GitHub-32274](https://github.com/magento/magento2/issues/32274)

## Problemas conhecidos

**Problema**: _Erro de JavaScript quando o reCAPTCHA está desativado_. Se o reCAPTCHA estiver desativado para check-out, o check-out continuará, mas o aplicativo exibirá um `Uncaught TypeError` erro no log do console.  Esse problema será corrigido em uma versão posterior. <!-- MC-42589 42649-->

**Problema**: _Erro de política de segurança de conteúdo_. A loja exibe o seguinte erro no log do console: `The Content-Security-Policy directive frame-ancestors does not support the source expression unsafe-inline`. O desempenho da vitrine não é afetado. <!-- MC-42613-->

**Problema**: _Anomalias com exibição de crédito PayPal de valores de cartão-presente_. Quando o Crédito do PayPal é ativado e vários valores de cartão-presente são configurados, se um comprador alterar o valor de um cartão-presente, a loja não atualizará o valor dos pagamentos parcelados. Uma correção para esse problema será incluída no Adobe Commerce 2.4.4 e Magento Open Source 2.4.4.<!-- MC-42499 AC-344-->

**Problema**:  _A variável **Adicionar ao pedido**não funciona para produtos adicionados ao carrinho pelo SKU_.  o aplicativo exibe esta mensagem de erro quando você clica no ícone **Adicionar ao pedido** depois de adicionar produtos ao pedido pelo SKU: `An error has happened during application run`. Os produtos não são adicionados ao carrinho. **Solução alternativa**: Use o recurso Adicionar produtos. <!-- AC-345-->

**Problema**: A GRAPHQL `category` e `categoryList` as consultas ignoram permissões de Categoria que determinam se as categorias em um catálogo compartilhado estão ocultas ou expostas. Atualmente, a loja exibe todas as categorias que foram atribuídas ou não ao catálogo compartilhado. Isso afeta as implantações do Adobe Commerce 2.4.3 que implementam uma vitrine de PWA para a qual catálogos compartilhados B2B foram ativados. <!-- MC-42528-->

## Contribuições da Comunidade

Estamos gratos à comunidade Magento Open Source mais ampla e gostaríamos de reconhecer suas contribuições para esta versão.

A equipe de engenharia da comunidade [Colaboradores Magento](https://magento.biterg.io/app/kibana) O mantém uma lista dos principais contribuintes individuais e parceiros por mês, trimestre e ano. Nessa página de Contribuidores, você pode seguir os links para as PRs mescladas no GitHub.

### Contribuições do parceiro

A tabela a seguir destaca as contribuições feitas pelos Parceiros. Esta tabela lista o Parceiro que contribuiu com a solicitação de pull, a solicitação de pull externa e o número do problema do GitHub associado a ela (se disponível).

{{$include /help/_includes/release-notes/engcomm-2-4-3-partner.md}}

### Contribuições individuais do contribuinte

A tabela a seguir identifica as contribuições dos membros da comunidade. Esta tabela lista as solicitações de pull externas, o número do problema do GitHub associado a ela (se disponível) e o membro da comunidade que contribuiu com a solicitação de pull.

{{$include /help/_includes/release-notes/engcomm-2-4-3-issues.md}}

### Requisitos do sistema

Nossa pilha de tecnologia é construída em PHP e MySQL. Para obter mais informações, consulte [Requisitos do sistema](../../../installation/system-requirements.md).

### Instruções de instalação e atualização

É possível instalar o Adobe Commerce 2.4.3 usando [Compositor](../../../installation/composer.md).

## Kits de ferramenta de migração

A Ferramenta de migração de dados ajuda a transferir os dados de armazenamento existentes do Magento 1.x para o Magento 2.x. Essa interface de linha de comando inclui funções de verificação, rastreamento de progresso, registro e teste. Para obter instruções de instalação, consulte [Instalar a Ferramenta de Migração de Dados](../../../tools/data-migration-tool/install.md). Considere explorar ou contribuir para o [Repositório de migração de dados](https://github.com/magento/data-migration-tool).

A variável [Kit de ferramentas de migração de código](https://github.com/magento-commerce/code-migration) O ajuda a transferir as extensões e personalizações do armazenamento do Magento 1.x existente para o Magento 2.x. A interface de linha de comando inclui scripts para converter módulos e layouts do Magento 1.x.
