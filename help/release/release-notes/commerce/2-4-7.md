---
title: Notas de versão do Adobe Commerce 2.4.7-beta2
description: Saiba mais sobre novos recursos, melhorias, correções de bugs e problemas conhecidos na versão 2.4.7-beta2 do Adobe Commerce.
badgeCoreBeta: label="2.4.7-beta" type="informative"
exl-id: 6ceb1d6d-5076-49a1-925f-913aa3598c90
source-git-commit: 9a74f87e0da5a7f11cd0930c8265556d80e3d1de
workflow-type: tm+mt
source-wordcount: '13350'
ht-degree: 0%

---


# Notas de versão do Adobe Commerce 2.4.7-beta2

>[!IMPORTANT]
>
>As versões Beta podem conter defeitos e são fornecidas &quot;NO ESTADO EM QUE SE ENCONTRAM&quot; sem garantias de nenhum tipo. O Adobe não terá nenhuma obrigação de manter, corrigir, atualizar, alterar, modificar ou oferecer suporte (por meio dos Serviços de suporte do Adobe ou de outra forma) às versões beta. Os clientes são aconselhados a ter cuidado e não depender de forma alguma do funcionamento ou do desempenho correto das versões beta e/ou de qualquer documentação ou material que as acompanhe. Portanto, qualquer uso das versões beta é de inteira responsabilidade do cliente.

O Adobe Commerce 2.4.7-beta2 inclui mais de 200 correções de qualidade e melhorias. As dependências do Core Composer e bibliotecas de terceiros foram atualizadas para as versões mais recentes disponíveis.

Essa versão aumenta a cobertura do GraphQL para atributos personalizados e caches do resolvedor do GraphQL. Ele também introduz suporte para serviços FedEx e UPS atualizados recentemente.

{{bics}}

## Outras informações sobre a versão

Embora o código desses recursos esteja incluído nas versões do código principal do Adobe Commerce, vários desses projetos (por exemplo, B2B, Page Builder e Progressive Web Application (PWA) Studio) também são lançados independentemente. As correções de erros para esses projetos estão documentadas nas informações de versão separadas e específicas do projeto, disponíveis na documentação de cada projeto.

## Adobe Commerce 2.4.7-beta2

O Adobe Commerce 2.4.7-beta2 foi testado em relação às seguintes versões de componentes:

* Apache 2.4
* Composer 2.5
* Elasticsearch 8.7
* MariaDB 10.6
* MySQL 8.0
* OpenSearch 2.5
* PHP 8.2 e 8.1
* PHPUnit 9.x
* RabbitMQ 3.11
* Redis 7.0
* Verniz 7.3

Nossa pilha de tecnologia é construída em PHP e MySQL. Consulte [Requisitos do sistema](https://experienceleague.adobe.com/docs/commerce-operations/installation-guide/system-requirements.html).


## Destaques do Adobe Commerce 2.4.7

Procure os seguintes destaques nesta versão.

### Aprimoramentos de segurança

O Adobe Commerce 2.4.7-beta2 apresenta dez correções de segurança e melhorias na segurança da plataforma. As versões anteriores do Adobe Commerce 2.4.7 introduziram 13 correções de segurança e melhorias na segurança da plataforma.

Nenhum ataque confirmado relacionado a esses problemas ocorreu até o momento. No entanto, certas vulnerabilidades podem ser potencialmente exploradas para acessar informações do cliente ou assumir o controle de sessões de administrador. A maioria desses problemas exige que um invasor obtenha acesso ao Administrador primeiro. Como resultado, lembretes para tomar todas as medidas necessárias para proteger seu administrador são:

* IP ➡ incluir na lista de permissões
* [Autenticação de dois fatores](https://developer.adobe.com/commerce/testing/functional-testing-framework/two-factor-authentication/)
* Uso de uma VPN
* Uso de um local único em vez de `/admin`
* Boa higiene de senha

Consulte [Boletim de segurança do Adobe](https://helpx.adobe.com/security/products/magento/apsb23-50.html) para obter a discussão mais recente sobre esses problemas corrigidos.

#### Aprimoramentos adicionais de segurança

Os aprimoramentos de segurança desta versão melhoram a conformidade com as práticas recomendadas de segurança mais recentes.

**Novo aprimoramento de segurança para 2.4.7-beta2**

Esta versão apresenta uma nova configuração de cache de página inteira que ajuda a reduzir os riscos associados à `{BASE-URL}/page_cache/block/esi HTTP` terminal. Esse endpoint oferece suporte a fragmentos de conteúdo irrestritos e carregados dinamicamente de manipuladores de layout e estruturas de bloco do Commerce. O novo **[!UICONTROL Handles Param]** definição de configuração define o valor desse parâmetro de `handles` que determina o número máximo permitido de identificadores por API. O valor padrão dessa propriedade é 100. Os comerciantes podem alterar esse valor do campo Administração ( **[!UICONTROL Stores]** > **[!UICONTROL Settings:Configuration]** > **[!UICONTROL System]** > **[!UICONTROL Full Page Cache]** > **[!UICONTROL Handles Param]** ). Consulte [Configurar o aplicativo do Commerce para usar o verniz](https://experienceleague.adobe.com/docs/commerce-operations/configuration-guide/cache/configure-varnish-commerce.html). <!-- AC-9113 -->

**Destaques de segurança introduzidos na versão 2.4.7-beta1**

* **Limitação de taxa nativa para informações de pagamento transmitidas por meio de REST e APIs do GraphQL**. Os comerciantes agora podem configurar a limitação de taxa para as informações de pagamento transmitidas usando REST e GraphQL. Essa camada adicional de proteção suporta a prevenção de ataques de cartões e potencialmente diminui o volume de ataques de cartões que testam muitos números de cartão de crédito de uma só vez. Essa é uma alteração no comportamento padrão de um endpoint REST existente. Consulte [Limitação de taxa](https://developer.adobe.com/commerce/webapi/get-started/rate-limiting/).

* O comportamento padrão do [isEmailAvailable](https://developer.adobe.com/commerce/webapi/graphql/schema/customer/queries/is-email-available/) consulta do GraphQL e ([V1/customers/isEmailAvailable](https://adobe-commerce.redoc.ly/2.4.6-admin/tag/customersisEmailAvailable/#operation/PostV1CustomersIsEmailAvailable)) O endpoint REST foi alterado. Por padrão, a API agora sempre retorna verdadeiro. Os comerciantes podem habilitar o comportamento original, que é retornar `true` se o email não existir no banco de dados e `false` se existir.

### Aprimoramentos na plataforma

As atualizações de plataforma para esta versão melhoram a conformidade com as práticas recomendadas de segurança mais recentes.

**Novas melhorias na plataforma para 2.4.7-beta2**

Os seguintes componentes da plataforma foram atualizados para suas versões mais recentes da versão 2.4.7-beta2:

* `allure-framework/allure-phpunit`  <!-- AC-8063 -->
* `colinmollenhour/cache-backend-file`  (1.4.5)  <!-- AC-8064 -->
* `colinmollenhour/cache-backend-redis` (1.16.0) <!-- AC-8065 -->
* `colinmollenhour/php-redis-session-abstract`  (1.5.1)  <!-- AC-8066 -->
* `dealerdirect/phpcodesniffer-composer-installer` (1.0.0) <!-- AC-8067 -->
* `jquery.ui.widget.js` (v1.13.2)  <!-- AC-9173 -->
* `squizlabs/php_codesniffer` <!-- AC-8070 -->
* `strip-json-comments library` <!-- AC-2783 -->
* `grunt` dependência <!-- AC-8097 -->
* `less js` biblioteca <!-- AC-8098 -->
* `underscore.js` biblioteca <!-- AC-8099 -->
* `jquery/bootstrap` dependência <!-- AC-9154 -->

Pacotes NPM:

* `grunt` (1.6.1) <!-- AC-8072 -->
* `grunt-contrib-clean` (2.0.1) <!-- AC-8073 -->
* `grunt-contrib-less` (3.0.0) <!-- AC-8074 -->
* `grunt-eslint`  (24.0.1) <!-- AC-8075 -->

Dependências do Composer:

* `friendsofphp/php-cs-fixer` (3.22.0) <!-- AC-8087 -->
* `jquery/jstree` dependência <!-- AC-9131 -->
* `jquery` dependência <!-- AC-9132 -->
* `jquery/tinycolor` <!-- AC-9133 -->
* `laminas` pacotes de dependências <!-- AC-8088 -->
* `magento/composer-dependency-version-audit-plugin` (0.1.5) <!-- AC-8087 -->
* `moment-timezone-with-data.js` <!-- AC-9130 -->
* `pdepend/pdepend`  (2.14.0) <!-- AC-8087 -->
* `pdepend/pdepend`  (2.14.0) <!-- AC-8087 -->
* `pdepend/pdepend`  (2.14.0) <!-- AC-8087 -->
* `pdepend/pdepend`  (2.14.0) <!-- AC-8087 -->
* `php-amqplib/php-amqplib` (3.5.4) <!-- AC-8087 -->
* `phpseclib/mcrypt_compat` (2.0.4) <!-- AC-8087 -->
* `symfony` pacotes de dependências  <!-- AC-8093 -->

**Melhorias na plataforma introduzidas na versão 2.4.7-beta1**

* Composer 2.5.x. A compatibilidade com o Composer 2.2.x permanece.

* **Suporte ao cache vernish 7.3**. Esta versão é compatível com a versão mais recente do Varnish Cache 7.3. A compatibilidade permanece com as versões 6.0.x e 7.2.x, mas recomendamos usar o Adobe Commerce 2.4.7-beta2 somente com o Varnish Cache versão 7.3 ou versão 6.0 LTS.

* **Suporte ao RabbitMQ 3.11**. Esta versão é compatível com a versão mais recente do RabbitMQ 3.11. A compatibilidade permanece com o RabbitMQ 3.9, compatível até agosto de 2023, mas recomendamos usar o Adobe Commerce 2.4.7-beta2 somente com o RabbitMQ 3.11.

#### Outras atualizações e substituições

O Adobe Commerce 2.4.7-beta2 apresenta estas atualizações de plataforma:

* O gateway da API XML do UPS de comércio foi migrado para a nova API REST do UPS de comércio para oferecer suporte às atualizações que o UPS está fazendo na [Modelo de segurança da API](https://developer.ups.com/oauth-developer-guide?loc=en_US&amp;sp_rid=NTA5MzQ1OTE2NjEyS0&amp;sp_mid=72989914). (O UPS está implementando um modelo de segurança OAuth 2.0 (tokens de portador) para todas as APIs.)  Todas as APIs XML do Commerce UPS anteriores foram removidas da base de código do Adobe Commerce 2.4.7. <!-- AC-8918 -->

* A integração do Adobe Commerce com o FedEx foi migrada dos serviços Web WSDL herdados do FedEx para as APIs RESTful mais recentes do FedEx. O WSDLS de Rastreamento de serviços da Web do FedEx, Validação de endereço e Validação de códigos postais será desativado em maio de 2024. <!-- AC-1470 -->

* Adição de suporte para o novo método de envio USPS Ground Advantage. Essa é uma integração imediata com o novo método de envio do USPS, o USPS Ground Advantage, lançado em julho de 2023.

  Essa nova integração pode ser usada para recuperar taxas de envio e agendar entregas e devoluções por meio do serviço de envio do USPS. O método de envio USPS Ground Advantage substitui esses métodos de envio, que foram retirados quando o método de envio USPS Ground Advantage foi lançado:

   * USPS Retail Ground
   * Serviço de pacote de primeira classe
   * Selecionar terra do pacote <!-- AC-9182 -->

* Os módulos de envio do Temando foram removidos da base de código principal do Commerce. Esse recurso foi descontinuado no Adobe Commerce 2.4.4. <!-- AC-8130 -->

**Atualizações de biblioteca introduzidas no 2.4.7-beta1**

As bibliotecas JavaScript desatualizadas foram atualizadas para suas versões mais recentes, incluindo:

* `moment.js` biblioteca (v2.29.4)
* `jQuery UI` biblioteca (v1.13.2)
* `jQuery` biblioteca de plug-in de validação (v1.19.5)

### Aprimoramentos de desempenho e escalabilidade

Esta versão apresenta melhorias significativas na velocidade de processamento de operações de salvamento para configurações de implantação grandes.

**Novos aprimoramentos para a versão 2.4.7-beta2**

* **O formato JSON agora é compatível com o REST [Importar API](https://developer.adobe.com/commerce/webapi/rest/modules/import/)**. Os comerciantes agora podem importar até 100.000 registros por minuto para o Adobe Commerce no formato JSON. <!-- ACPT-943 -->

* **Melhorias no desempenho da regra de vendas**. Desempenho aprimorado de implantações corporativas com muitas (aproximadamente 100.000) regras de vendas ativas.  As implantações corporativas que implementam promoções com muita frequência implantam muitas regras de carrinho ativas. Esses tipos de implantações empresariais que executam o Commerce 2.4.7 não observarão nenhuma degradação de desempenho relacionada ao número de regras de preço do carrinho configuradas durante as operações de finalização. <!-- ACPT-1198 -->

**Aprimoramentos de desempenho introduzidos na versão 2.4.7-beta1**

Os betas anteriores do Adobe Commerce 2.4.7 introduziram:

* **Operações de salvamento mais rápidas de configurações no nível da loja para implantações com muitas lojas**. Salvar as definições de configuração em implantações com mais de 500 armazenamentos pode ser demorado. O novo [Configuração assíncrona](https://experienceleague.adobe.com/docs/commerce-operations/performance-best-practices/configuration.html?lang=en#asynchronous-configuration-save-2.4.7-beta1) o módulo permite operações assíncronas de salvamento de configuração executando um trabalho cron que usa um consumidor para processar a operação de salvamento em uma fila de mensagens. AsyncConfig está desabilitado por padrão.

* **Geração mais rápida do cache de configuração para configurações grandes**. A variável `bin/magento cache:clean config` agora pré-aquece o cache de configuração quando o cache de configuração está habilitado. Isso reduz o tempo de inatividade necessário para gerar o cache de configuração para configurações grandes. As operações de salvamento de configuração não limpam mais o `config_scopes` antes de gravar dados no cache, o que também reduz o tempo que outras solicitações ficam bloqueadas enquanto os dados de configuração são gravados.

### Servidor de aplicativos para APIs do GraphQL

O Commerce 2.4.7-beta2 introduz um novo servidor de aplicativos PHP para APIs GraphQL que é implementado em uma estrutura Openswoole PHP. Esse servidor de aplicativos permite que o Adobe Commerce mantenha o estado entre as solicitações de API do GraphQL do Commerce e elimina a necessidade de bootstrapping, o que resulta em maior taxa de transferência, menor latência e uso eficiente de recursos para todas as APIs do GraphQL. Ao compartilhar o estado do aplicativo entre os processos, as solicitações da API do GraphQL tornam-se significativamente mais eficientes e as respostas da API do GraphQL são, em média, 30% mais rápidas.

A variável `ApplicationServer` O módulo implementa o servidor de aplicativo PHP. Os desenvolvedores que desejam implementar este módulo em implantações locais também devem instalar e configurar o Swoole e o Nginx. Os desenvolvedores que trabalham com o Adobe Commerce em projetos de infraestrutura em nuvem não precisam baixar esses componentes, pois a infraestrutura já inclui o Nginx e o OpenSwoole. Os desenvolvedores de nuvem devem habilitar manualmente o Servidor de Aplicativos e não podem iniciar ou parar o módulo como outros serviços. O Adobe Commerce deve ser reimplantado para iniciar ou parar o módulo, o que requer tempo de inatividade do site.

Consulte [Servidor de aplicativos para APIs do GraphQL](https://experienceleague.adobe.com/docs/commerce-operations/performance-best-practices/performance-best-practices/application-server.html) para implantações locais e na nuvem.

Esta é uma versão beta do servidor de aplicativos PHP para o módulo de APIs GraphQL. Implantações que incluem personalizações e extensões podem não ser compatíveis com o módulo. Os comerciantes que habilitam o módulo devem estar preparados para resolver possíveis incompatibilidades com personalizações e extensões implantadas. <!-- ACPT-27 -->

### Metappackage da extensão do Adobe Commerce

Esta versão apresenta o metapackage v2.0.0-beta2 da extensão do Adobe Commerce, que agrupa automaticamente extensões selecionadas do Adobe Commerce com esta versão principal. As versões dessas extensões incluídas neste metapackage são instaladas quando `composer update` O está em execução, simplificando o processo de atualização dessas extensões ao atualizar para a versão principal mais recente. Essas extensões mantêm programações de lançamento independentes.

O metapackage de extensão do Adobe Commerce para Adobe Commerce 2.4.7-beta2 inclui estas extensões:

* [Eventos Adobe I/O para Adobe Commerce](https://developer.adobe.com/commerce/extensibility/events/)
* [Payment Services](https://experienceleague.adobe.com/docs/commerce-merchant-services/payment-services/guide-overview.html)
* [SDK da interface do administrador do Adobe Commerce](https://developer.adobe.com/commerce/extensibility/admin-ui-sdk/)

A extensão de checkout do Bolt, que estava incluída no Commerce 2.4.7-beta1, foi removida desta versão beta.

As versões futuras deste metapackage de extensão podem conter extensões adicionais.

### B2B

Esta versão é fornecida com o B2B 1.4.2. Ele contém somente correções de bugs, embora a versão do PHP Application Server que é empacotada com Adobe Commerce 2.4.6-beta2 introduza cobertura para APIs GraphQL B2B.

**Aprimoramentos B2B introduzidos na versão 2.4.7-beta1**

O Adobe Commerce 2.4.7-beta1 incluiu novos recursos e melhorias para cotações negociáveis B2B, atualizações da API REST, bem como várias correções de erros.

* **Cotações iniciadas pelo vendedor**. Os representantes de vendas B2B agora podem iniciar uma cotação diretamente da cotação e das grades do cliente no Administrador. Consulte [Solicitação de Cotação](https://experienceleague.adobe.com/docs/commerce-admin/b2b/quotes/quote-request.html)

* **Descontos de item de linha**. Os descontos agora podem ser aplicados como uma porcentagem de desconto, um valor fixo ou como preço estendido para itens de linha específicos dentro de uma cota.

* **Troca de notas na cotação**. Durante o processo de negociação, Compradores e Vendedores B2B agora podem adicionar notas diretamente a uma cota. A criação e as atualizações de notas estão incluídas no item da linha e no histórico de cotações para transparência. Consulte [Negociar uma Cotação](https://experienceleague.adobe.com/docs/commerce-admin/b2b/quotes/quote-price-negotiation.html).

* **Exibição de Detalhes da Cotação Aprimorada**. Ao visualizar a página de detalhes da cotação, os vendedores e compradores agora podem adicionar itens por SKU ou do catálogo de produtos, adicionar ou editar notas, aplicar descontos de itens de linha e acessar a configuração do produto diretamente da página de detalhes da cotação.

* Atualizações para REST e GraphQL

   * Adição de um endpoint para fornecer cobertura de API da Web para o recurso de cotação iniciada pelo vendedor introduzido nesta versão. Consulte [Gerenciar cotações negociáveis](https://developer.adobe.com/commerce/webapi/rest/b2b/negotiable-manage/): `POST /V1/negotiableQuote/draft`.

   * A cobertura aprimorada da API da Web dos recursos da loja para o catálogo compartilhado inclui novos endpoints para atribuir e redefinir ações de preço personalizadas: `POST /V1/sharedCatalog/:sharedCatalogId/assignTierPrices` e `POST /V1/sharedCatalog/:sharedCatalogId/resetTierPrices`.

Para obter detalhes sobre a cobertura da API REST e GraphQL para B2B do Commerce, consulte o [API da Web do Commerce](https://developer.adobe.com/commerce/webapi/) documentação do desenvolvedor. Consulte [Notas de versão B2B](https://experienceleague.adobe.com/docs/commerce-admin/b2b/release-notes.html) para obter descrições de correções de erros.

### GraphQL

**Novas melhorias do GraphQL para a versão 2.4.7-beta2**

Esta versão apresenta suporte para o armazenamento em cache do resolvedor e expande o suporte para armazenamento em cache de atributos personalizados do cliente.

* Os seguintes resolvedores de consulta do GraphQL agora podem ser armazenados em cache no cache de resultados do GraphQL Resolver, que melhora o desempenho quando as consultas são enviadas com solicitações POST:

   * `Magento\CustomerGraphQl\Model\Resolver\Customer::resolve`
   * `Magento\CustomerGraphQl\Model\Resolver\CustomerAddress::resolve`
   * `Magento\CustomerGraphQl\Model\Resolver\IsSubscribed::resolve` <!-- B2B-2658 -->
   * `Magento\CatalogGraphQl\Model\Resolver\Product\MediaGallery::resolve` <!-- B2B-2677 -->

* O suporte da GraphQL foi adicionado para cancelamento de pedido. A variável `cancelOrder` permite que um cliente cancele um pedido, transmitindo seu identificador e um motivo de cancelamento. <!-- LYNX-197 -->

* Adição de `order_cancellation_enabled` e `order_cancellation_reasons.description` campos de resposta para o `storeConfig`
consulta para suportar solicitações de cancelamento de pedidos iniciadas pelo usuário. Consulte [Consultar a configuração de cancelamento de ordens de uma loja](https://developer-stage.adobe.com/commerce/webapi/graphql/schema/store/queries/store-config/#query-a-stores-order-cancellation-configuration)

* Adição dos seguintes campos à `setBillingAddressOnCart` e `setShippingAddressesOnCart` mutações:

   * `fax`
   * `middlename`
   * `prefix`
   * `suffix`

**Melhorias do GraphQL introduzidas na versão 2.4.7-beta1**

Esta versão adiciona recursos aprimorados de armazenamento em cache do GraphQL e suporte ao esquema do GraphQL para atributos personalizados, incluindo:

* **Suporte aprimorado para atributos personalizados**. O suporte ao atributo personalizado do GraphQL foi aprimorado com o enriquecimento dos dados da API para oferecer suporte a todos os tipos de atributos. O esquema de atributos do EAV do GraphQL agora oferece suporte à extensão de atributos do cliente e objetos de endereço do cliente no Administrador e à recuperação deles usando o GraphQL. As áreas específicas de aprimoramento incluem: <!-- LYNX-61 110-->

   * suporte estendido/adicionado a atributos personalizados para áreas específicas, como cliente e endereço do cliente
   * adição de cache para atributos personalizados
   * suporte aprimorado a atributos personalizados existentes para produtos

* **Os recursos aprimorados de cache do GraphQL melhoram a velocidade de carregamento da página**. O recurso de armazenamento em cache foi adicionado a essas consultas, melhorando a velocidade do tempo de carregamento da página para a maioria das páginas de PWA:

      * [availableStores](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/available-stores/)
      * [países](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/countries/) e [país](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/country/)
      * [storeConfig](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/store-config/)
      * [currency](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/currency/)
      * [customAttributeMetadata](https://developer.adobe.com/commerce/webapi/graphql-api/index.html#query-customAttributeMetadata)
  
* Adição de `quickorder_active` para o campo [storeConfig](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/store-config/) e [availableStores](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/available-stores/) consultas. Este campo indica se o recurso de pedido rápido está habilitado.


* O desempenho do analisador do GraphQL melhorou ao reduzir o número de vezes que o método de análise é chamado por solicitação. Agora é chamado uma vez. Anteriormente, o analisador era chamado pelo menos três vezes.

#### Novas consultas

* [attributeForms](https://developer.adobe.com/commerce/webapi/graphql/schema/attributes/queries/attributes-form/) <!-- LYNX-151 -->
* [attributesList](https://developer.adobe.com/commerce/webapi/graphql/schema/attributes/queries/attributes-list/)<!-- LYNX-150 -->
* [cancelOrder](https://developer.adobe.com/commerce/webapi/graphql/schema/orders/mutations/cancel-order/) <!-- LYNX-172 -->
* [customAttributeMetadataV2](https://developer.adobe.com/commerce/webapi/graphql/schema/attributes/queries/custom-attribute-metadata-v2/)

#### Consultas obsoletas

* [attributesMetadata](https://developer.adobe.com/commerce/webapi/graphql/schema/attributes/queries/attributes-metadata/)
* [customAttributeMetadata](https://developer.adobe.com/commerce/webapi/graphql/schema/attributes/queries/custom-attribute-metadata/)

### Pagamentos

Esta versão inclui suporte para pagamentos com cofre para estes métodos de pagamento:

* ApplePay  <!-- BUNDLE-3246 -->
* GooglePay  <!-- BUNDLE-3270 -->
* Crédito do PayPal  <!-- BUNDLE-3272 -->

Esta versão também inclui suporte para estes métodos de pagamento:

* Cartões UnionPay com Pagamentos com Cartão Braintree <!-- BUNDLE-3268 -->
* GooglePay com pagamento seguro 3D <!-- BUNDLE-3271 -->

### Page Builder

O Page Builder v.1.7.4 é compatível com o Adobe Commerce 2.4.7-beta2.

### PWA Studio

O PWA Studio v.13.3.x é compatível com o Adobe Commerce 2.4.7-beta2. Ele inclui várias melhorias para melhorar a acessibilidade. Para obter informações sobre correções de erros, consulte [Versões do PWA Studio](https://github.com/magento/pwa-studio/releases). Consulte [Compatibilidade de versão](https://developer.adobe.com/commerce/pwa-studio/integrations/adobe-commerce/version-compatibility/) para obter uma lista de versões do PWA Studio e suas versões Adobe Commerce core compatíveis.

## Problemas corrigidos

Corrigimos centenas de problemas no código principal do Adobe Commerce 2.4.7-beta2. Um subconjunto dos problemas corrigidos incluídos nesta versão está descrito abaixo. As correções incluídas no Commerce 2.4.7-beta1 também estão descritas.

### Instalação, atualização, implantação

<!-- ACP2E-2198 -->

* `/bin/magento setup:install` agora é concluído com sucesso depois de `app/etc/config.php` foi excluído. Anteriormente, o arquivo ausente não era gerado novamente durante a instalação, e o Commerce emitiu um erro. [GitHub-37805](https://github.com/magento/magento2/issues/37805)


<!-- AC-8381 -->

* `bin/magento setup:upgrade` foi refatorada para ser executada com sucesso ao instalar um novo módulo que instala as tabelas e os relatórios `mview` indexadores. [GitHub-37304](https://github.com/magento/magento2/issues/37304)

<!-- ACP2E-1882 -->

* A restauração do banco de dados não falha mais devido a um erro de delimitador. Anteriormente, o Commerce exibia esse erro ao `bin/magento setup: rollback --db` foi executado: `Syntax error or access violation: 1064 You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'delimiter' at line 1, query was: delimiter ;;`.

<!-- ACP2E-1505 -->

* A variável `bin/magento setup:upgrade` comando não falha mais com este tipo de erro relacionado ao limite de memória do MySQL: `PHP Fatal error:  Allowed memory size of 4294967296 bytes exhausted (tried to allocate 20480 bytes)`. A migração de atributos de seleção múltipla foi otimizada para consumir menos memória durante `setup:upgrade`.

<!-- ACP2E-1751 -->

* A geração de um backup de banco de dados agora funciona conforme esperado do Admin e da linha de comando. Anteriormente, o Adobe Commerce exibia este erro: `Syntax error or access violation: 1064 You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'delimiter' at line 1, query was: delimiter ;;`.

<!-- ACP2E-1604 -->

* Executando `setup:config:set` sem especificar o `--lock-db-prefix` O parâmetro não apaga mais o valor atual do `env.php` arquivo.

<!-- ACP2E-1498 -->

* A configuração de verniz foi atualizada para impedir que usuários convidados acessem conteúdo em cache relacionado a outros grupos de clientes.

<!-- AC-7113 -->

* Os compradores agora podem fazer um pedido em uma implantação que implementa o banco de dados dividido quando **[!UICONTROL Checkout Async]** está ativado. Anteriormente, o Adobe Commerce exibia este erro: `An error occurred on the server. Please try to place the order again`.

<!-- https://github.com/magento/magento2/pull/33092 -->

* `bin/magento setup:upgrade` O agora é concluído com sucesso ao instalar um novo módulo que instala as tabelas e os relatórios `mview` indexadores.

<!-- ENGCOM-9243 -->

* `bin/magento setup:upgrade` O agora exibe uma mensagem de erro mais informativa quando um tópico da fila de mensagens não inclui um nome de tópico. [GitHub-34246](https://github.com/magento/magento2/issues/34246)

<!-- https://github.com/magento/magento2/pull/36239 -->

* `bin/magento setup:upgrade` O agora exibe uma mensagem de erro mais informativa quando os arquivos XML mesclados são inválidos. A mensagem de erro agora inclui o nome do arquivo.

### Analytics

<!-- AC-9275 -->

* Os relatórios de receita agora são exibidos conforme esperado no portal Google Analytics (GA4). [GitHub-37605](https://github.com/magento/magento2/issues/37605)

<!-- ACP2E-1880 -->

* `price` e `quantity` Os valores na camada de dados do Google Tag Manager agora são enviados como valores numéricos, conforme esperado para Google Analytics. Anteriormente, esses valores eram enviados como cadeias de caracteres.

<!-- ACP2E-2030 -->

* Erros ao manipular dados de cabeçalho ao enviar dados de implantação para o módulo new relic foram resolvidos.

<!-- ACP2E-1833 -->

* Habilitar o Google Tag Manager por meio de **[!UICONTROL Configuration]** > **[!UICONTROL Sales]** > **[!UICONTROL Google API]** > **[!UICONTROL Google Analytics]** O agora aciona as tags do GA Analytics 3 que não são acionadas na página detalhes do produto ao executar as ferramentas do desenvolvedor de extensão do Google Chrome.

### Banner

<!-- ACP2E-1818 -->

* Refatoração do modo como o conteúdo do banner é carregado para remover consultas excessivas ao banco de dados, resultando em tempos de carregamento do carrinho aprimorados.

### Produtos do pacote

<!-- ACP2E-1650 -->

* Correção de um erro que ocorre ao usar o `POST V1/shipment` endpoint para criar uma remessa contendo um produto do pacote. O endpoint agora adiciona itens conforme esperado e não retorna mais esse erro: `The shipment couldn't be saved`.

<!-- ACP2E-1926 -->

* Agora é possível salvar uma atualização agendada de um pacote de produtos que inclui um produto simples que tem uma atualização agendada indefinida. Quando o instantâneo do produto incorporado é criado, os produtos vinculados agora são capturados pela ID, ID da entidade e também pelo SKU. Anteriormente, a versão original do produto simples era verificada quando a atualização programada no produto incluído era salva, em vez da versão atual do produto simples.

<!-- ACP2E-1650 -->

* Agora você pode usar o `GET V1/shipment/` Rota de API para criar uma remessa com um produto de pacote quando o produto tiver a **[!UICONTROL together]** tipo de entrega definido. Os produtos do pacote agora também são validados com base na propriedade do tipo de remessa.

<!-- ACP2E-2038 -->

* Os compradores agora podem editar a quantidade de um produto agrupado no carrinho de compras da vitrine. Anteriormente, o Adobe Commerce não tratava valores nulos para `ItemId` quando os produtos eram editados no carrinho de compras da loja e exibia este erro: [GitHub-37696](https://github.com/magento/magento2/issues/37696)

<!-- ACP2E-1801 -->

* Os produtos do pacote agora podem ser adicionados com sucesso a um pedido de administrador usando SKUs que contêm uma barra (`/`). Anteriormente, os usuários administradores não podiam usar esse método para adicionar produtos a um pedido de Administrador, e o Commerce emitiu um erro de JavaScript.

<!-- ACP2E-1799 -->

* Os usuários administradores agora podem definir valores padrão decimais para opções de pacote recém-adicionadas quando **[!UICONTROL Qty Uses Decimal]** está ativado para o produto simples correspondente. Anteriormente, os valores decimais podiam ser definidos somente para seleções salvas.

<!-- ACP2E-1347 -->

* Desempenho otimizado para salvar produtos de pacote com um grande número de opções

<!-- ACP2E-1478 -->

* Os produtos do pacote agora são importados com êxito sem duplicar SKUs nas opções do produto. Anteriormente, a Adobe Commerce criava vários SKUs duplicados nas opções do produto quando você importava produtos agrupados com entradas duplicadas.

<!-- ACP2E-1388 -->

* O preço do produto em pacote agora é calculado corretamente quando um dos produtos no pacote está esgotado. Anteriormente, se um produto que fazia parte do pacote estivesse esgotado, ele seria removido do cálculo de preço.

<!-- ACP2E-1503 -->

* Os produtos do pacote agora são exibidos como indisponíveis quando os últimos produtos secundários necessários são comprados. Anteriormente, os produtos do pacote eram exibidos como em estoque na loja quando seus produtos simples estavam indisponíveis.

<!-- ACP2E-1443 -->

* Problemas de desempenho ao adicionar produtos do pacote com opções não necessárias ao carrinho usando o `addBundleProductsToCart` mutação foram resolvidas.

<!-- ACP2E-1264 -->

* A variável `categoryList` o query agora retorna todas as opções do pacote conforme esperado quando a variável **[!UICONTROL Show out-of-stock products]** definição de configuração está habilitada. Anteriormente, as opções indisponíveis não eram incluídas na resposta da consulta.

<!-- ACP2E-1345 -->

* Produtos do pacote criados com o `POST V1/products` agora têm êxito quando o escopo de preço do catálogo está definido como `website`. Anteriormente, ocorria uma violação de restrição de integridade. [GitHub-35595](https://github.com/magento/magento2/issues/35595)

### Cache

<!-- ACP2E-2070 -->

* Os cookies de cache após o logon agora são os mesmos após a navegação no site. Anteriormente, o controlador de logon enviava o cookie de cache incorreto e as páginas podiam ter sido armazenadas em cache várias vezes.

<!-- ACP2E-1840 -->

* As respostas das operações do GraphQL GET em páginas CMS que contêm blocos CMS agora são apagadas conforme esperado no cache do Fastly. As atualizações de programação subsequentes agora mostram um conteúdo preciso e atualizado dessas páginas.

<!-- ACP2E-1524 -->

* O cache da página agora é limpo conforme esperado para um produto principal quando um de seus produtos secundários foi salvo do administrador. Uma verificação de plug-in foi introduzida para atingir a invalidação de cache para variantes configuráveis, semelhantes a outros tipos de produtos, independentemente do estado do indexador (agendado ou tempo real). Anteriormente, os preços não eram atualizados corretamente na loja depois que uma variação configurável era atualizada do administrador.

<!-- ACP2E-1454 -->

* Adição de um mecanismo de cache para credenciais do AWS. Um provedor de credenciais agora usa o cache de Magento para armazenar em cache credenciais recuperadas do AWS para configuração EC2.

<!-- AC-7639 -->

* O plug-in cujo objetivo é adicionar a tag de cache configurável quando um produto simples associado a um produto configurável é salvo agora funciona conforme esperado. Todas as tags de cache relevantes e configuráveis são removidas conforme esperado quando um produto simples é atualizado pelo `POST V1/products`. Anteriormente, nem todos os preços eram atualizados na loja e os caches tinham que ser limpos manualmente. [GitHub-36726](https://github.com/magento/magento2/issues/36726)

### Carrinho e check-out

<!-- AC-9340 -->

* Enviar um pedido para vários endereços não aciona mais um erro durante o processamento da ID da região.

<!-- AC-8853 -->

* Os valores de desconto fixo aplicados no nível do carrinho agora estão corretos.[GitHub-37496](https://github.com/magento/magento2/issues/37496)

<!-- AC-2044 -->

* Os cupons agora são aplicados com êxito a um pedido quando um comprador aplica o cupom depois de selecionar o método de envio de taxa uniforme em que uma regra de preço do carrinho com método de envio definido como uma condição é aplicável. Anteriormente, a página do carrinho exibia o erro O cupom não é válido e o cupom não era aplicado. [GitHub-34866](https://github.com/magento/magento2/issues/34866)

<!-- AC-8596 -->

* A variável **[!UICONTROL My billing and shipping address are the same]** A caixa de seleção agora permanece marcada por padrão quando um comprador usa o preenchimento automático do Chrome para preencher o endereço de envio e clica em **Próxima** antes que o bloco de métodos de envio seja recarregado. [GitHub-33725](https://github.com/magento/magento2/issues/33725)

<!-- ACP2E-2005 -->

* A variável `applied_rule_ids` valor no `quote_item` A tabela agora inclui uma lista correta de IDs de regra aplicadas. Anteriormente, esse valor continha somente a última ID de regra aplicada.

<!-- ACP2E-2025 -->

* Agora, os dados do minicarrinho e do cliente no armazenamento local são redefinidos quando uma sessão é removida do servidor. Anteriormente, esses dados ainda apareciam quando o arquivo de sessão era removido.

<!-- ACP2E-1763 -->

* Os carrinhos discretos não são mais mesclados por engano do Administrador quando o carrinho persistente está ativado.

<!-- ACP2E-1988 -->

* O endereço de entrega padrão na etapa de entrega da finalização da compra não é mais preenchido com o endereço de separação na loja selecionado anteriormente.

<!-- ACP2E-1614 -->

* Os produtos no carrinho não são mais excluídos das listas de produtos relacionados e de venda adicional depois que o cache é liberado.

<!-- ACP2E-1580 -->

* O avaliador de imposto do carrinho e de remessa agora reflete com precisão a configuração de destino padrão. Anteriormente, ao definir as configurações padrão de cálculo do destino do imposto e especificar Estado/Região e CEP, somente o valor CEP era exibido no carrinho em **[!UICONTROL Estimate Tax and Shipping]**. Isso era resultado da definição pela Adobe Commerce da ID da região como indefinida antes da chamada da declaração condicional que definia a ID da região padrão do Administrador.

<!-- ACP2E-1547 -->

* O Adobe Commerce não lança mais esse erro durante o check-out quando o carrinho de compras persistente está ativado: `Invalid state change requested`. Anteriormente, quando esse erro era gerado, vários pedidos com o mesmo `quote_id` foram criados ocasionalmente.

<!-- ACP2E-1456 -->

* O minicarrinho agora exibe os preços de produtos agrupados que refletem as configurações de imposto do carrinho. Anteriormente, o minicarrinho sempre incluía impostos nos preços dos pacotes de produtos.

<!-- ACP2E-1414 -->

* O desempenho das regras de segmento do cliente que dependem dos carrinhos ativos foi aprimorado, o que reduziu o tempo necessário para adicionar um produto ao carrinho.

<!-- AC-7503 -->

* A estimativa de envio fornecida na página do carrinho agora é precisa. `collectShippingRates` agora é definido apenas uma vez. Anteriormente, a estimativa de envio era duplicada. [GitHub-36648](https://github.com/magento/magento2/issues/36648)

<!-- ACP2E-1417 -->

* A variável `cart` o query não retorna mais um erro quando um produto no carrinho especificado está indisponível. Anteriormente, os compradores que usavam essa query para fazer uma compra não podiam concluir sua compra quando um item estava esgotado e sua página de check-out estava em branco.

<!-- ACP2E-1459 -->

* Solicitações da API convidada para `POST V1/guest-carts/<cartId>/shipping-information` não retornar mais um `cancel` Status se a página for recarregada durante o logon em um ambiente móvel. Anteriormente, o Adobe Commerce emitia um erro 500 e registrava esta exceção: `TypeError: Argument 2 passed to Magento\CustomerCustomAttributes\Model\Plugin\ProcessCustomerShippingAddressCustomAttributes::beforeSaveAddressInformation() must be of the type string, null given`.

<!-- AC-7886 -->

* A elegibilidade para o transporte gratuito agora é calculada conforme esperado quando a **[!UICONTROL Subtotal (Excl. Tax)]** condição para regras de carrinho é aplicada. [GitHub-36760](https://github.com/magento/magento2/issues/36760)

<!-- AC-6672 -->

* A variável `cart` a consulta agora retorna o preço de camada correto para um produto. [GitHub-29655](https://github.com/magento/magento2/issues/29655)

<!-- ACP2E-1162 -->

* Mensagens de erro informativas foram adicionadas à página de check-out para orientar os compradores quando a aplicação de um cupom na página de envio entra em conflito com o método de envio selecionado. Anteriormente, uma mensagem instruía os compradores a retornar à página anterior.

<!-- ENGCOM-8387 -->

* O pop-up de autenticação agora é inicializado somente quando é necessário, em vez de sempre que o check-out do convidado está habilitado. Agora ele é inicializado quando o comprador convidado tenta prosseguir para o check-out e o check-out do convidado é desativado. [GitHub-30672](https://github.com/magento/magento2/issues/30672)

### Regra de preço do carrinho

<!-- ACP2E-2029 -->

* A variável `If an item is FOUND/NOT FOUND in the cart with ALL/ANY of these conditions true` a condição da regra de preço de catálogo agora funciona corretamente com atributos de categoria e SKU. Anteriormente, essa condição não era aplicada corretamente na lógica do cupom de preço do carrinho e os cupons inválidos eram aplicados aos pedidos. [GitHub-37660](https://github.com/magento/magento2/issues/37660)

<!-- ACP2E-1932 -->

* Agora é possível salvar com êxito uma nova regra de preço do carrinho com a `Magento_OfflineShipping` extensão desativada. Anteriormente, o Adobe Commerce exibia este erro: `[2023-05-09T00:49:34.666107+00:00] report.ERROR: Warning: Undefined array key "simple_free_shipping" in /Users/npuchko/www/l3/mem/magento24i3/app/code/Magento/SalesRule/Controller/Adminhtml/Promo/Quote/Save.php on line 67 [] []`. [GitHub-37580](https://github.com/magento/magento2/issues/37580)

<!-- ACP2E-1516 -->

* As regras de preço do carrinho agora são aplicadas conforme esperado quando uma regra de preço do carrinho relacionada a um método de envio é configurada para a loja e esse método de envio é alterado para outro durante o check-out. Anteriormente, a variável `applied_rule_ids` o valor nunca foi alterado no `sales_order_item` e a regra de preço do carrinho não foi aplicada ao pedido.

### Catálogo

<!-- ACP2E-2043 -->

* Quando o status do estoque do produto é atualizado automaticamente para esgotado com base na configuração de estoque (quantidade), o status do estoque será atualizado subsequentemente para em estoque quando a quantidade de estoque for atualizada. Anteriormente, a variável `stock_status_changed_auto` a configuração foi ignorada quando a configuração de estoque de um produto foi atualizada para em estoque.

<!-- AC-8904 -->

* A classificação da barra de ferramentas agora funciona conforme esperado nas páginas de Pesquisa quando a **[!UICONTROL Remember Category Pagination]** está ativada. [GitHub-33220](https://github.com/magento/magento2/issues/33220)

<!-- ACP2E-1640 -->

* Os atributos de seleção múltipla agora são salvos conforme esperado quando **[!UICONTROL Use Default Value]** a caixa de seleção no escopo de visualização de loja está marcada. Anteriormente, essa caixa de seleção estava desmarcada quando o produto era editado e o valor padrão era salvo.

<!-- ACP2E-1878 -->

* Os usuários administradores com acesso limitado ao site agora podem adicionar Imagens a um produto que se enquadra em seu escopo. Se o usuário administrador não tiver direitos de acesso ao produto, o Commerce exibirá uma mensagem informativa. Anteriormente, os usuários administradores com acesso limitado ao site não podiam adicionar imagens aos produtos aos quais tinham acesso.

<!-- ACP2E-1956 -->

* Definido pelo usuário `special_from_date`, `special_to_date`, `news_from_date`, e `news_to_date` os valores de não são substituídos quando um produto é editado no escopo de visualização de loja.

<!-- AC-6761 -->

* O Commerce agora exibe o nome correto depois de classificar produtos por nome em Administração > **[!UICONTROL Category]** > **[!UICONTROL Products in category]** em implantações em várias lojas onde os nomes dos produtos variam de acordo com a loja. [GitHub-36208](https://github.com/magento/magento2/issues/36208)

<!-- ACP2E-1975 -->

* A variável `addProductsToCart` A mutação agora retorna opções personalizáveis com dados. Anteriormente, retornava apenas opções personalizáveis vazias. [GitHub-37599](https://github.com/magento/magento2/issues/37599)

<!-- ACP2E-1859 -->

* A posição do produto e a seleção da ID agora são exibidas corretamente quando um usuário administrador adiciona um novo produto a uma categoria após limpar o cache, mas não recarregar a página da categoria. Anteriormente, a posição e a seleção do produto eram incompatíveis e eram exibidas incorretamente.

<!-- ACP2E-1779 -->

* Os comerciantes agora podem atualizar a data ou hora de início futura de uma alteração agendada para um produto baixável. Anteriormente, o Adobe Commerce exibia esse erro durante a atualização da data ou hora de início futura do produto baixável: `The downloadable link isn't related to the product. Verify the link and try again`.

<!-- ACP2E-1943 -->

* O status do produto com backorder agora é exibido corretamente na loja. Anteriormente, os produtos que estavam disponíveis para remessa eram identificados incorretamente como em backorder.

<!-- ACP2E-1948 -->

* Acessar produtos baixáveis do Administrador não resulta mais em erro quando o usuário administrador altera a exibição da loja da exibição usada durante a criação do produto para outra exibição da loja. Os preços do produto agora são convertidos com sucesso em flutuante quando um usuário administrador alterna a exibição da loja de todas as exibições para a exibição padrão da loja. Anteriormente, o Adobe Commerce emitia um erro. [GitHub-37519](https://github.com/magento/magento2/issues/37519)

<!-- ACP2E-1994 -->

* Os produtos exportados agora têm a `manage_stock` quando a variável `use_config_manage_stock` valor igual a `1`. Anteriormente, esse valor padrão estava incorreto.

<!-- ACP2E-1479 -->

* O Adobe Commerce não exibe mais uma mensagem de aviso quando você salva um produto que foi criado com opções personalizadas após excluir a imagem.

<!-- ACP2E-1419 -->

* As imagens em miniatura do produto agora são exibidas conforme esperado no email de alerta de estoque do produto enviado quando um produto é colocado de volta no estoque. Anteriormente, essa imagem não era exibida no email de alerta

<!-- AC-3003 -->

* A contagem de produtos na árvore de categorias (Administrador) **[!UICONTROL Catalog]** > **[!UICONTROL Category]**) agora é precisa. Anteriormente, a contagem de produtos da categoria não podia ser recuperada do `catalog_category_product_index` tabela. O erro de digitação que acionou esse erro foi corrigido. [GitHub-35417](https://github.com/magento/magento2/issues/35417)

<!-- ACP2E-1239 -->

* A imagem principal do produto na página de detalhes do produto não muda mais visivelmente para baixo durante o carregamento da página quando `product_image_white_borders` no tema `view.xml` está desativado. Anteriormente, a imagem do produto deslocou-se visivelmente para baixo durante o carregamento da página devido a configurações incorretas de altura no Fotorama JS.

<!-- ACP2E-1361 -->

* Agora os clientes são notificados sobre quedas no preço do produto quando assinam alertas de queda de preço. Anteriormente, as notificações de queda de preço nem sempre eram enviadas devido ao armazenamento em cache no nível do aplicativo.

<!-- ACP2E-1422 -->

* A validação do lado do servidor foi adicionada ao processo de criação de atributos de produto por meio da API da Web. Você não pode ativar o **[!UICONTROL Use in Layered Navigation Catalog]** quando a variável **[!UICONTROL Catalog Input Type for Store Owner]** o valor do campo é `Text Field`,  `Text Area`,  `Text Editor`, `Date`ou `Date and Time`. Anteriormente, os produtos eram omitidos das categorias e dos resultados da pesquisa.

<!-- ACP2E-1413 -->

* A página de categoria agora é recarregada com a paginação correta depois que um comprador abre a página, altera a paginação, navega até uma página de produto e retorna à página de categoria.  [GitHub-36563](https://github.com/magento/magento2/issues/36563)

<!-- ACP2E-1334 -->

* Os produtos simples indisponíveis que são opções para um produto configurável agora são exibidos como desativados na loja quando **[!UICONTROL Display Out of Stock Products]** está definida como **Sim**. Anteriormente, todas as opções eram exibidas como disponíveis, apesar do status e da disponibilidade real.

<!-- ACP2E-1384 -->

* A atualização do atributo de escopo do site em uma exibição de armazenamento específica não substitui mais o valor desse atributo no escopo global. Anteriormente, a importação de preços de produtos quando várias linhas estão disponíveis com o mesmo SKU e `store_view_code` resultou em preços imprecisos para os escopos de exibição padrão e Todas as lojas.

<!-- ACP2E-1632 -->

* Os comerciantes agora podem adicionar uma imagem de GIF à galeria de imagens de um produto do Administrador. Anteriormente, o Adobe Commerce exibia este erro:  `imagecolorsforindex(): Argument #2 ($color) is out of range`.

<!-- ACP2E-1709 -->

* Foram adicionadas verificações para manipular erros que resultam de chaves de matriz indefinidas. Anteriormente, um erro ocorria durante a geração da lista de permissões do esquema declarativo.

<!-- ACP2E-1749 -->

* O Adobe Commerce agora retorna um resultado válido para a data personalizada `01/01/1970`. Anteriormente, o atributo personalizado retornava este erro: `Invalid input datetime format of value '1/01/1970`. [GitHub-37274](https://github.com/magento/magento2/issues/37274)

<!-- AC-6507 -->

* `routes` as consultas que usam fragmentos agora retornam informações de categoria conforme esperado. Anteriormente, ocorria um erro interno do servidor na página de categoria. [GitHub-35906](https://github.com/magento/magento2/issues/35906)

<!-- ACP2E-1772 -->

* Problemas com o `cataloginventory_stock` o processo de reindexação parcial foi resolvido e o desempenho do indexador melhorou. Anteriormente, as categorias de estoque e produto não eram atualizadas com precisão.

<!-- AC-8226 -->

* O Adobe Commerce agora gera um redirecionamento 301 para um produto quando a categoria à qual ele pertence é movida para um novo pai. [GitHub-37039](https://github.com/magento/magento2/issues/37039)

### Regras de catálogo

<!-- ACP2E-1834 -->

* Agora as regras do catálogo são indexadas corretamente quando ativadas pela atualização de agendamento. Como resultado, os preços com desconto agora são gerados e indexados corretamente. Anteriormente, quando duas regras de catálogo estavam disponíveis e uma regra era ativada após a primeira regra, antes da conclusão da primeira operação de indexação da regra de catálogo, os preços de desconto da regra de catálogo não eram gerados para a segunda regra de catálogo.

<!-- ACP2E-1579 -->

* As regras do catálogo agora são aplicadas conforme esperado em um ambiente de vários sites.

### Produtos configuráveis

<!-- ACP2E-2003 -->

* Os produtos configuráveis com dois produtos secundários não são mais marcados como indisponíveis quando um produto secundário é desativado por uma atualização programada. Esse foi um problema conhecido para o 2.4.7-beta1.

<!-- AC-8060 -->

* O desempenho das operações de salvamento de produtos configuráveis com várias opções melhorou. Anteriormente, os tempos limite podiam ocorrer durante as operações de salvamento do produto. [GitHub-36928](https://github.com/magento/magento2/issues/36928)

<!-- ACP2E-1764 -->

* A exibição da loja de preços de produtos configuráveis agora muda conforme esperado quando um comprador seleciona uma opção de produto. [GitHub-37378](https://github.com/magento/magento2/issues/37378)

### Cupons

<!-- ACP2E-1551 -->

* Os compradores agora podem usar dois códigos de cupom gerados automaticamente separados que foram gerados pela mesma regra de preço do carrinho. A variável `Uses per Coupon` agora está ativado quando o tipo de cupom é selecionado para `Auto` (semelhante para tipo de cupom =`Specific Coupon`). Isso, por sua vez, permite que o comprador aplique vários códigos de cupom ao mesmo preço do carrinho se os códigos forem diferentes.

<!-- ACP2E-1496 -->

* O valor do cupom de uso único de um comprador agora é restaurado conforme esperado quando o pedido ao qual ele foi aplicado é cancelado.

<!-- ACP2E-1195 -->

* A variável `GET V1/coupons/<couponId>` O endpoint agora retorna a resposta completa esperada para cupons criados manualmente, assim como faz com os cupons gerados automaticamente.  Anteriormente, alguns campos eram omitidos (por exemplo, `usage_limit`, `usage_per_customer`, e `created_at`).

### cron

<!-- AC-9207 -->

* Correção do erro fatal de divisão por zero em expressões cron. [GitHub-37804](https://github.com/magento/magento2/issues/37804)

<!-- ACP2E-1792 -->

* A variável `sales_clean_quotes` o processo cron foi otimizado para ser executado mais rápido ao adicionar um índice composto em `store_id` e `updated_at columns` na tabela de cotações. Essa alteração melhora o desempenho do trabalho cron ao processar muitas cotações.

<!-- AC-7987 -->

* Os usuários administradores agora podem visualizar qual tarefa o `bin/magento cron:run` O processo está em execução no momento. O título do processo atualmente em execução agora lista os nomes do grupo e do trabalho. [GitHub-34321](https://github.com/magento/magento2/issues/34321)

### Cliente

<!-- AC-6748 -->

* O Adobe Commerce agora exibe a variável **[!UICONTROL Date of Birth]**, **[!UICONTROL Tax/VAT Number]**, **[!UICONTROL Gender]**, **[!UICONTROL Telephone]**, **[!UICONTROL Company]**, e **[!UICONTROL Fax]** campos na página editar cliente com base nas definições de configuração. [GitHub-36196](https://github.com/magento/magento2/issues/36196)

### E-mail

<!-- ACP2E-2018 -->

* As opções de imagem não são mais exibidas como marcação HTML nos emails de clientes de Devoluções (modelo padrão) para produtos com opções de imagem personalizadas.

<!-- ACP2E-1529 -->

* Agora os detalhes do Administrador da empresa são salvos conforme esperado e os administradores são redirecionados corretamente, quando os emails de Atribuição de administrador da empresa contêm um `CMS Block URL` variável.

<!-- AC-2903 -->

* Os endereços de email do cliente agora podem incluir sinais diacríticos. Anteriormente, a validação de front-end proibia a criação de um usuário com sinais diacríticos em seu endereço de email. [GitHub-12075](https://github.com/magento/magento2/issues/12075)

<!-- ACP2E-1682 -->

* Os emails de alerta de estoque e preço agora são traduzidos de acordo com o idioma configurado para a exibição de loja padrão do site. Anteriormente, esses emails não eram traduzidos.

<!-- ACP2E-1571 -->

* `POST V1/order/notify-orders-are-ready-for-pickup` O agora envia um email alertando os clientes que um pedido está pronto para retirada somente quando o pedido está pronto. Agora, o email é acionado somente quando a solicitação é atendida sem uma exceção.

### Estruturas

<!-- ACP2E-1999 -->

* `bin/magento config:show` e `set` comandos que usam `$_ENV` as variáveis agora permitem o uso de códigos de site e de armazenamento que contêm caracteres camelcase ou maiúsculos.

<!-- AC-8923 -->

* Classes adicionadas com  `!important` como usado no Tailwind 3 para suporte a layout CSS. [GitHub-37568](https://github.com/magento/magento2/issues/37568)

<!-- AC-9115 -->

* Um ausente `jQuery` a dependência foi adicionada à `trim-input.js` arquivo. [GitHub-37683](https://github.com/magento/magento2/issues/37683)

<!-- AC-9387 -->

* Detalhes específicos do evento agora são passados como um segundo atributo (`context`) do `log` método. [GitHub-37879](https://github.com/magento/magento2/issues/37879)

<!-- AC-9109 -->

* Os valores de proporção foram adicionados às imagens do catálogo e os scripts desnecessários foram removidos da estrutura da interface do usuário. [GitHub-37691](https://github.com/magento/magento2/issues/37691)

<!-- AC-9188 -->

* Mensagens de erro revisadas acionadas pela configuração XML inválida para serem mais informativas. [GitHub-37788](https://github.com/magento/magento2/issues/37788)

<!-- AC-9335 8817-->

* Código obsoleto refatorado relacionado à criação de propriedades dinâmicas em toda a base de código.

<!-- AC-7009 -->

* O desempenho dos indexadores para grandes lojas com bancos de dados de produtos extremamente ativos melhorou. Agora, os indexadores indexam as informações mais recentes do produto uma vez para cada índice, em vez de várias vezes. Anteriormente, os produtos desapareciam do site e os dados do produto podiam estar desatualizados no site. [GitHub-30012](https://github.com/magento/magento2/issues/30012)

<!-- ACP2E-1971 -->

* `mview_state` Agora, o status do registro indica com precisão o estado com base na atividade de changelog quando uma conexão de banco de dados subordinada está disponível. Anteriormente, esses registros permaneciam em um `waiting` em implantações na nuvem, mesmo quando não havia novas entradas no changelog.

<!-- ACP2E-2022 -->

* Adição de suporte para o `precision` opção de formato de moeda para preservar a paridade do recurso com o obsoleto `ZendCurrency` classe.

<!-- AC-8854 -->

* As mensagens de cookie foram convertidas em atributos observáveis e os desenvolvedores agora podem manipular o estado, o que pode acionar alterações na interface do usuário. Anteriormente, os cookies eram somente leitura e não podiam ser manipulados. [GitHub-37308](https://github.com/magento/magento2/issues/37308)

<!-- AC-6325 -->

* Os usuários administradores agora podem gerar uma fatura quando sua instância do Commerce estiver conectada ao armazenamento S3. Anteriormente, o Commerce exibia este erro: `Cannot create image resource. File not found`. [GitHub-35706](https://github.com/magento/magento2/issues/35706)

<!-- AC-6906 -->

* O Adobe Commerce agora registra uma mensagem de exceção conforme esperado quando a validação do número IVA pelo serviço de validação VIES falha. [GitHub-36065](https://github.com/magento/magento2/issues/36065)

<!-- AC-8146 -->

* A variável `Administrators` O nome foi removido da consulta usada para buscar uma função de administrador durante a criação da função de administrador. [GitHub-36998](https://github.com/magento/magento2/issues/36998)

<!-- AC-8607 -->

* A variável `bin/magento setup:config:set` comando não falhará mais quando um nome de usuário de banco de dados inválido for incluído no `app/etc/env.php` arquivo. [GitHub-37409](https://github.com/magento/magento2/issues/37409)

<!-- AC-8595 -->

* A classificação por coluna em palavras reservadas em um componente padrão da interface do administrador não resulta mais em um erro SQL em `var/log/exception.log`. [GitHub-37423](https://github.com/magento/magento2/issues/37423)

<!-- AC-8562 -->

* Adicionado `AddDataForCostaRica.php` para fornecer informações de estado para a Costa Rica. [GitHub-37382](https://github.com/magento/magento2/issues/37382).

<!-- AC-8577 -->

* Mensagem de erro aprimorada para o cenário em que o usuário tenta acessar um URL inválido do Administrador. [GitHub-35682](https://github.com/magento/magento2/issues/35682).

<!-- ACP2E-1841 -->

* `Param $options[`position`]` para símbolos de moeda agora funciona como esperado e suporta a personalização da posição do símbolo de moeda. Anteriormente, após migrar do Zend Framework 1, a variável `toCurrency` método ignorou o `position` parâmetro. Esse problema ocorria em toda a interface do Administrador.

<!-- AC-8817 -->

* Código obsoleto refatorado relacionado à criação de propriedades dinâmicas em toda a base de código.

<!-- AC-8154 -->

* Os formatos de estilo personalizados criados com a extensão do editor TinyMCE nas versões do Adobe Commerce e do Magento Open Source anteriores à 2.4.6 agora estão disponíveis, conforme esperado, no Page Builder `text` tipo de conteúdo. Anteriormente, o formato de estilo personalizado era ignorado e somente os formatos padrão eram carregados após a atualização para o Adobe Commerce 2.4.6-p1. [GitHub-36950](https://github.com/magento/magento2/issues/36950)

<!-- AC-8576 -->

* Adição da seguinte nota informativa à `quote.php` arquivo: `Important: This method also copies customer data to quote and removes quote addresses`. [GitHub-37400](https://github.com/magento/magento2/issues/37400)


<!-- ACP2E-1973 -->

* A instanciação do provedor de bloqueio agora passa `\Magento\Framework\Lock\Proxy` classe. O provedor de bloqueio agora está configurado com o `lock` configuração por meio do `app/etc/env.php` arquivo.

<!-- ACP2E-1492 -->

* O mutex foi implementado para pedidos para evitar condições de corrida durante a atualização por solicitações simultâneas. Anteriormente, as solicitações simultâneas (condições de corrida) para cancelamentos de pedidos causavam entradas duplicadas no `inventory_reservation` tabela.

<!-- ACP2E-1381 -->

* A variável `populateWithArray` função agora transforma as propriedades do objeto em caso de cobra corretamente, tornando-o compatível com o `AbstractModel` getters e setters. Anteriormente, a formatação de caso de cobra estava incorreta quando o nome do atributo de dados continha várias letras maiúsculas em uma linha.

<!-- ACP2E-1522 -->

* O valor de incremento automático no `catalog_product_entity_varchar` A tabela agora é incrementada corretamente depois que um produto é salvo. Anteriormente, esse valor aumentava em dez.

<!-- ACP2E-1701 -->

* O Adobe Commerce não lança mais esta exceção do sistema de arquivos quando você tenta liberar o cache JavaScript/CSS:  `No such file or directory`.

<!-- ACP2E-1358 -->

* O valor de `value_id` in `customer_entity_int` agora é incrementado corretamente. Uma consulta de atualização é executada em vez de `insert on duplicate key update` ao atualizar uma entidade que incorpora esses atributos. Como resultado, as colunas de incremento automático usadas no modelo EAV agora crescem de forma linear. Anteriormente, o processo de incremento automático para colunas ignorava valores devido a consultas de inserção com falha. [GitHub-28387](https://github.com/magento/magento2/issues/28387)

<!-- AC-8462 -->

* Remoção de espaço em branco desnecessário de `id` atributos que não o exijam. (Esse bug foi introduzido por uma alteração de código 2.4.6 do Adobe Commerce.)

<!-- AC-7923 -->

* Os códigos de armazenamento não aparecem mais na URL de armazenamento quando o armazenamento está no modo de armazenamento único. [GitHub-36831](https://github.com/magento/magento2/issues/36831)

<!-- AC-7988 -->

* Foram feitas pequenas atualizações no `around` plugins. [GitHub-31443](https://github.com/magento/magento2/issues/31443)

<!-- AC-7989 -->

* As amostras `Helper` foi refatorado para remover aliases de importação enganosos. [GitHub-31373](https://github.com/magento/magento2/issues/31373)

<!-- AC-8708 -->

* Agora, usuários administradores podem excluir ou renomear um `sitemap.xml` conforme esperado. Anteriormente, um usuário administrador podia excluir o arquivo do Administrador, mas ele permanecia no sistema de arquivos.  [GitHub-37468](https://github.com/magento/magento2/issues/37468)

<!-- ACP2E-1747 -->

* Os cupons não são mais sinalizados como usados quando o pagamento falha para a ordem à qual foram aplicados. As mensagens em fila agora são processadas na ordem em que são publicadas quando o consumidor é iniciado. Anteriormente, a primeira mensagem era retirada da fila para simplesmente verificar se as mensagens estavam na fila, e era rejeitada posteriormente, o que fazia com que a primeira mensagem fosse processada por último.

<!-- ACP2E-1627 -->

* O Adobe Commerce não lança mais uma exceção no arquivo de registro quando um usuário tenta imprimir uma etiqueta de remessa. Anteriormente, se uma extensão modificava cabeçalhos de resposta que continham um anexo, o sistema lançava uma exceção no arquivo de log.

<!-- AC-7986 -->

* O suporte para mais classes de HTML foi adicionado a `elements.xsd`. [GitHub-36891](https://github.com/magento/magento2/issues/36891)


### Correções gerais

<!-- AC-8823 -->

* As senhas agora são exibidas conforme esperado quando a variável **[!UICONTROL Show Password]** a caixa de seleção na página de logon está ativa.


<!-- ACP2E-2037 -->

* O atributo de sistema Redefinir Token de Senha da entidade do cliente (`rp_token`) a validação foi removida da validação de atributo durante a criação da conta do cliente e a validação de diacríticos é incluída somente no email do cliente resultante. Anteriormente, o Commerce não salvava o registro do cliente e exibia este erro: `Something went wrong while saving the customer`.

<!-- AC-8826 -->

* Agora é possível salvar as edições na grade Páginas de administração e Bloquear após excluir uma coluna. [GitHub-37525](https://github.com/magento/magento2/issues/37525)

<!-- ACP2E-1933 -->

* Agora, os administradores de empresas podem adicionar usuários de empresas pela loja. Anteriormente, o Commerce registrava esse erro quando o usuário administrador tentava adicionar um novo usuário: `report.CRITICAL: Error: Call to a member function __toArray() on null in app/code/Magento/LoginAsCustomerLogging/Observer/LogSaveCustomerObserver.php:123`.

<!-- ACP2E-1972 -->

* Agora, os clientes podem fazer logon com êxito com uma nova senha de um dispositivo depois de redefinir a senha em outro dispositivo.

<!-- ACP2E-1609 -->

* O endereço do cliente do Administrador **Estado/Província** O campo agora retém o último valor salvo conforme esperado. Anteriormente, ao remover o valor desse campo, o Commerce continuava a exibir o valor excluído na variável **Estado/Província** campo. [GitHub-36846](https://github.com/magento/magento2/issues/36846)

<!-- ACP2E-1796 -->

* O Adobe Commerce não lança mais um erro de violação de restrição ao desmarcar e depois selecionar uma página do CMS recém-criada.

<!-- ACP2E-1639 -->

* Uma raiz de site de hierarquia agora é atribuída corretamente a uma página CMS recém-criada. Anteriormente, a seleção da raiz do site de hierarquia era incompatível nas páginas CMS recém-criadas.

<!-- ACP2E-1508 -->

* Os erros não ocorrem mais durante as solicitações de um feed RSS para categorias quando **[!UICONTROL RSS Feed Top Level Category]** está ativado. Anteriormente, a navegação na página de categoria do feed RSS resultava em Elasticsearch `CRITICAL` erros nos arquivos de log quando **[!UICONTROL RSS Feed Top Level Category]** foi ativado.

<!-- ACP2E-1490 -->

* O valor correto agora é salvo para `gws_store_groups` quando o escopo da função é alterado durante a criação da função do usuário. Anteriormente, quando o escopo da função era selecionado como `All`, o `gws_store_groups` o valor foi salvo como nulo durante a criação do usuário, mas não durante a edição da função. Além disso, se o escopo da função foi selecionado como `Custom`, depois o `gws_store_groups` sempre foi salvo como nulo.

<!-- ACP2E-1446 -->

* A página de redefinição de senha agora pode ser acessada clicando no link Admin reset password na página Admin login quando a variável **[!UICONTROL Add Store Code to Urls]** está ativada. O link Admin reset password abria anteriormente a página de logon ou a página 404.

<!-- ACP2E-1274 -->

* O intervalo de datas no painel Estatísticas do administrador agora é calculado com base no fuso horário definido nas configurações e, em seguida, convertido em UTC para buscar dados do banco de dados.

<!-- ACP2E-1665 -->

* O filtro de hierarquia do CMS funciona conforme esperado depois de filtrar uma exibição de armazenamento e clicar em **[!UICONTROL Save]** no administrador **[!UICONTROL Content]** > **[!UICONTROL Hierarchy]**. Anteriormente, ao clicar em **[!UICONTROL Save]** atualizou a página, mas o contexto foi perdido e a exibição da loja selecionada não foi mais exibida.

<!-- ACP2E-1631 -->

* Clicar no **[!UICONTROL Send invitation]** botão (Administrador **[!UICONTROL Marketing]** > **[!UICONTROL Private sales]**  > **[!UICONTROL Invitation]**) agora envia uma solicitação POST junto com a chave de formulário e envia o convite com êxito. Anteriormente, ao clicar nesse botão, nem o método HTTP POST nem a chave de formulário estavam presentes.

<!-- ACP2E-1608 -->

* Agora os arquivos de zero bytes podem ser copiados com êxito para o armazenamento remoto com o AWS S3.

<!-- AC-7402 -->

* Os usuários administradores agora podem adicionar um novo endereço de cliente do Administrador quando esse cliente for criado para outro site cuja ID da loja não corresponde à ID do site. Anteriormente, o Adobe Commerce exibia esta mensagem pop-up: `Something went wrong`. [GitHub-36582](https://github.com/magento/magento2/issues/36582)

<!-- AC-8247 -->

* A página do editor de bloco do CMS agora exibe o widget correto `block_id` valor.  [GitHub-29644](https://github.com/magento/magento2/issues/29644)

### Cartões-presente e invólucro

<!-- AC-7372 -->

* Os comerciantes não podem mais criar um vale-presente com um valor negativo.

<!-- ACP2E-1890 1806-->

* A variável `setGiftOptionsOnCart` A mutação agora remove o invólucro do presente de um pedido, conforme esperado.  O valor de `gift_wrapping_id` agora não está definido no nível do carrinho. Anteriormente, a variável `gift_wrapping_id` foi atualizado para seu valor anterior depois que o pedido foi feito, mesmo quando esse valor não estava definido no nível do carrinho.

<!-- ACP2E-1866 -->

* As contas de cartão-presente agora permanecem ativas conforme esperado quando o reembolso parcial de um produto simples é processado a partir do pedido ao qual o cartão foi aplicado. Anteriormente, a conta do cartão-presente era excluída.

<!-- ACP2E-1805 -->

* A variável `setGiftOptionsOnCart` o mutation agora atualiza com êxito o banco de dados ao remover uma mensagem de presente do carrinho. Anteriormente, os detalhes da mensagem não eram atualizados no banco de dados e a mensagem de presente não era removida do carrinho.

<!-- ACP2E-1741 -->

* O registro de presentes `Event Information` O rótulo agora é traduzido conforme esperado.

<!-- ACP2E-1586 -->

* Os subtotais agora são calculados corretamente para valores de cartão-presente personalizados.

<!-- ACP2E-1350 -->

* Os cartões-presente agora são aplicados corretamente durante o check-out com vários endereços. Anteriormente, os valores de cartão-presente eram aplicados incorretamente para remessas de vários endereços, o que resultava em valores inválidos de cartão-presente.

<!-- ACP2E-1341 -->

* A emulação agora começa durante `send()` chama depois que a emulação é concluída durante o `getInfoBlockHtml()` e nenhum erro será registrado. Anteriormente, a variável `system.log` o arquivo foi inundado com este erro: `main.ERROR: Environment emulation nesting is not allowed`. [GitHub-35603](https://github.com/magento/magento2/issues/35603)

<!-- ACP2E-1612 -->

* Agora você pode usar o `updateCartItems` mutação para atualizar um cartão-presente em um carrinho de compras. Anteriormente, somente a quantidade do cartão podia ser atualizada no carrinho por essa mutação.

<!-- ACP2E-1669 -->

* O invólucro do presente agora é incluído, conforme esperado, em uma cotação baseada em carrinhos mesclados. Anteriormente, as mensagens de presente eram mescladas com êxito, mas não as seleções de quebra automática.

<!-- AC-7530 -->

* A variável `addProductsToCart` a mutação agora adiciona com êxito um cartão-presente a um carrinho. Anteriormente, essa consulta esperava o nome do recipient do cartão-presente, mas o nome do remetente foi retornado. O Adobe Commerce emitiu este erro: `Please specify a recipient name`. [GitHub-36665](https://github.com/magento/magento2/issues/36665)

### Google ReCAPTCHA

<!-- ACP2E-1539 -->

* O Google reCAPTCHA no workflow de finalização agora funciona como esperado para cheques, ordens de pagamento e métodos de pagamento personalizados.

<!-- ACP2E-1311 -->

* Os formulários do Adobe Commerce não podem mais ser enviados antes que a caixa de seleção Google ReCAPTCHA seja carregada.

<!-- ACP2E-1338 -->

* O widget reCAPTCHA agora precede o **[!UICONTROL Place Order]** na página de pagamento. Anteriormente, o widget era exibido na parte superior da página.

### Gerenciador de tags da Google

<!-- ACP2E-1520 -->

* O módulo Tag do Google agora envia os dados corretos para a camada de dados. Anteriormente, os dados de impressões de página não eram enviados para a camada de dados.

### GraphQL

<!-- AC-8623 -->

* A manipulação de erros de endereço para componentes de bibliotecas do GraphQL agora funciona conforme esperado.

<!-- AC-9058 -->

* A variável `products` a consulta agora retorna todos os detalhes relevantes de preços da loja quando a precificação dinâmica é definida como não e os descontos são aplicados. Anteriormente, a faixa de preços dos produtos não era retornada. [GitHub-35649](https://github.com/magento/magento2/issues/35649)

<!-- ACP2E-1744 -->

* Os nomes de transações do GraphQL agora incluem nomes de consulta de nível superior apenas nos logs do New Relic. Anteriormente, os nomes de transação também incluíam nomes de consulta secundários.

<!-- AC-8623 -->

* A manipulação de erros de endereço para componentes de bibliotecas do GraphQL agora funciona conforme esperado.

<!-- AC-7430 -->

* Quando a configuração de Visibilidade de um produto estiver definida como `Catalog`, `products` agora, as consultas nesse produto resolvem a configuração corretamente. Anteriormente, qualquer filtro fornecido era alternado para o `Visibility: Catalog` configuração. [GitHub-36591](https://github.com/magento/magento2/issues/36591)

<!-- ACP2E-1769 -->

* A variável `customer` a consulta agora retorna um `product_sale_price` campo que inclui imposto em pedidos quando o preço do produto foi configurado para incluir imposto. [GitHub-36946](https://github.com/magento/magento2/issues/36946)

<!-- ACP2E-1584 -->

* Atributos de produto do tipo `DateTime` agora mapear para o `FilterRangeTypeInput` filtrar em consultas de produtos. Anteriormente, esses atributos eram mapeados para `FilterMatchTypeInput`. Como resultado dessa alteração, as consultas com filtragem em `DateTime` atributos exigem `from` e `to` em vez de corresponder aos valores.

<!-- ACP2E-1552 -->

* A variável `customer` a consulta agora retorna somente análises de clientes relacionadas a uma visualização de loja específica, conforme esperado quando filtrada por ID de loja.

<!-- AC-7544 -->

* A variável `categories` a consulta não retorna mais um erro quando a variável `items.redirect_code` o valor da resposta contém um valor nulo. [GitHub-36675](https://github.com/magento/magento2/issues/36675)

<!-- ACP2E-1465 -->

* Os produtos relacionados com base em regras agora são carregados conforme esperado nas respostas do GraphQL após uma limpeza completa do cache. Anteriormente, os atributos de EAV do produto que eram responsáveis por correspondências baseadas em regras não eram carregados para a entidade solicitada, embora fossem carregados após o recarregamento da página de produto da loja.

<!-- ACP2E-1486 -->

* A variável `changeCustomerPassword` A mutação agora aciona o email conforme esperado após redefinir uma senha com êxito.

<!-- ACP2E-1494 -->

* `urlResolver` e `route` as consultas agora retornam um resultado quando a variável `Target Path` de reescrita de URL é um URL absoluto. Anteriormente, a variável `urlResolver` a consulta retornou NULL quando você a usou para recuperar dados de redirecionamento.

<!-- AC-7979 -->

* A variável `products` a consulta agora retorna os rótulos corretos quando existem várias exibições de loja. [GitHub-29635](https://github.com/magento/magento2/issues/29635)

<!-- ACP2E-1315 -->

* A variável `categoryList` a consulta agora retorna um campo preenchido `product` seção do `options` bloco para produtos derivados de produtos de pacote, conforme esperado.  Anteriormente, nenhuma informação sobre pacotes de produtos derivados era retornada.

<!-- AC-7114 -->

* A variável `route` o query agora retorna rotas para categorias e produtos conforme esperado, sem um erro interno do servidor. [GitHub-36544](https://github.com/magento/magento2/issues/36544)

<!-- ACP2E-1652 -->

* A variável `products` a consulta agora busca `url_key` valores quando várias categorias são selecionadas.

<!-- LYNX-17  16-->

* `product` as consultas agora retornam agregações somente para produtos atribuídos ao catálogo compartilhado especificado. Anteriormente, os dados de agregação de produtos não atribuídos a um catálogo compartilhado apareciam na navegação em camadas.

<!-- AC-6680 -->

* A variável `OptionValueProvider` classe `get()` método agora retorna um valor de opção de atributo com base na `option_id` conforme esperado. Anteriormente, retornava um erro. [GitHub-35910](https://github.com/magento/magento2/issues/35910)

<!-- AC-6745 -->

* A variável `products` o query agora retorna todas as agregações (filtros) disponíveis e seus rótulos traduzidos corretamente. Anteriormente, os rótulos de agregação de categoria e preço não eram traduzidos conforme esperado. [GitHub-36140](https://github.com/magento/magento2/issues/36140)

<!-- AC-6666 -->

* Agora você pode usar um fragmento `ProductCard` ao consultar `related_products`, `upsell_products`, e  `crosssell_products` em `ProductInterface`. [GitHub-29769](https://github.com/magento/magento2/issues/29769)

<!-- AC-7014 -->

* A variável `products` o query agora retorna produtos relacionados, de venda adicional e de venda cruzada na ordem em que foram salvos. [GitHub-36461](https://github.com/magento/magento2/issues/36461)

<!-- AC-8573 -->

* As consultas do GraphQL agora retornam dados de produtos relacionados classificados por posição. [GitHub-33010](https://github.com/magento/magento2/issues/33010)

<!-- AC-8542 -->

* `category_url_path` foi adicionado a `ProductAttributeFilterInput`, que permite a solicitação de todos os produtos para uma categoria em uma única consulta. [GitHub-32460](https://github.com/magento/magento2/issues/32460)

<!-- AC-821 -->

* Correção de um erro em que o método que define o armazenamento atual em uma mutação GraphQL executada antes do método que lida com a validação. [GitHub-31336](https://github.com/magento/magento2/issues/31336)

### Imagem

<!-- ACP2E-1353 -->

* O formulário de upload do ícone de favicon do administrador agora é compatível `.ico` tipos de arquivo. [GitHub-34858](https://github.com/magento/magento2/issues/34858)

### Importar/exportar

<!-- ACP2E-1930 -->

* A importação do produto não falha mais devido à falta de memória. Anteriormente, a importação de qualquer número de produtos para um banco de dados que já contém aproximadamente dez milhões de produtos falhava devido à falta de memória.

<!-- AC-9116 -->

* As verificações de validação agora interrompem o processo de importação conforme esperado, quando não há dados válidos a serem importados, e o Commerce agora exibe este erro: `There are no valid rows to import`. Anteriormente, a validação era aprovada sob essas condições, mas o processo de importação falhava com esta mensagem: `entity values are mixed`. [GitHub-32905](https://github.com/magento/magento2/issues/32905)

<!-- ACP2E-1754 -->

* A importação de chaves de URL com o mesmo produto não substitui nem exclui chaves de exibição de loja padrão existentes. Agora, as substituições de URL são geradas novamente para exibições de loja somente quando não há substituições `url_key` valor. Anteriormente, a importação de regravações de URL com a mesma chave de URL substituía a chave de URL de exibição de loja padrão existente. (    `key_store` As regravações de URL foram excluídas, mas a regravação de URL no nível de exibição Loja padrão do produto ainda estava definida como `key_store`.)

<!-- ACP2E-1875 -->

* A contagem de produtos não é mais alterada inesperadamente durante a importação. A liberação de cache agora é adiada para depois do processo de importação.

<!-- ACP2E-1813 -->

* O status das ações de importação agendadas agora representa com precisão o sucesso ou a falha da operação de importação. Anteriormente, todas as ações eram registradas como bem-sucedidas.

<!-- AC-7039 -->

* O comércio tem agora em conta a **[!UICONTROL Disable Automatic Group Change Based on VAT ID]** configuração durante a importação de registros do cliente. Anteriormente, a variável `disable_auto_group_change` nos arquivos de importação foi ignorado. [GitHub-36409](https://github.com/magento/magento2/issues/36409)

<!-- AC-965 -->

* `Magento\Framework\Convert\Excel` O agora processa com êxito números precedidos por um espaço. O XML do Excel agora codifica campos como um `String`. Anteriormente, o gravador do Excel codificava esses valores como `number`, que resultou em arquivos inválidos. [GitHub-33422](https://github.com/magento/magento2/issues/33422)

<!-- ACP2E-1641 -->

* Os comerciantes agora podem especificar o local em que os dados de importação são apresentados e como os validadores de dados devem analisar esses dados. Se um valor de local não for especificado, o Adobe Commerce usará o local de configuração padrão (não a exibição de armazenamento padrão) para analisar os dados. No Admin, os processos de importação e exportação continuam a usar o local da interface do usuário do administrador para importar, analisar e formatar dados, respectivamente.

<!-- ACP2E-1847 -->

* Importando produtos com `country_of_manufacture` Os atributos criados por um usuário administrador com uma configuração de localidade diferente do usuário administrador que está importando os produtos não geram mais um erro de validação. Anteriormente, essa operação de importação podia resultar em um erro de validação na `country_of_manufacture` atributo.

<!-- ACP2E-1981 -->

* Os dados de origem do estoque agora são importados com êxito pelo processo de importação da loja, e o Commerce agora exibe uma mensagem de notificação completa quando o processo de importação é concluído. Anteriormente, a mensagem de notificação estava ausente.

<!-- ACP2E-1889 -->

* A invalidação do indexador redundante foi removida quando os indexadores estão no modo agendado.

<!-- ACP2E-1994 -->

* Os produtos exportados agora têm a `manage_stock` quando a variável `use_config_manage_stock` valor igual a `1`. Anteriormente, esse valor padrão estava incorreto.

<!-- ACP2E-1620 -->

* O Adobe Commerce agora exibe uma mensagem de erro informativa na grade de importação agendada quando uma imagem não é importada com êxito durante uma operação de importação agendada. Anteriormente, nenhuma mensagem de erro era exibida.

<!-- ACP2E-1565 -->

* O processo de importação do produto não é mais interrompido quando as imagens do produto estão ausentes. Anteriormente, quando uma imagem do produto estava ausente durante a importação de um serviço de terceiros usando um arquivo CSV, o Adobe Commerce exibia este erro: `Maximum error count has been reached or a system error is occurred!`.

<!-- ACP2E-1476 -->

* O desempenho da exportação do cliente a partir da grade do Cliente foi aprimorado em implantações em que o B2B está habilitado.

<!-- ACP2E-1391 -->

* O processo de importação de produto não lança mais um erro de validação quando um valor de atributo em `configurable_variations` contém uma vírgula.

<!-- ACP2E-1377 -->

* A decodificação foi excluída do processo de exportação. O texto do arquivo de exportação de arquivos CSV permanece inalterado após a importação. Como resultado, a descrição não é alterada após a reimportação. Anteriormente, as tags HTML eram removidas do editor do Page Builder após a exportação e importação do produto.

<!-- ACP2E-1451 -->

* As configurações não padrão (escopo de site ou loja) que são adicionadas como variáveis de ambiente não interrompem mais o `app:config:import` processo com um erro de recursão.

<!-- ACP2E-1569 -->

* A pesquisa no catálogo e os indexadores de preço no modo Atualizar ao salvar não são mais invalidados após a importação. Anteriormente, a versão do documento do Indexador de Elasticsearch mudava quando produtos novos e existentes eram importados.

<!-- ACP2E-1482 -->

* Os relatórios do produto agora são exportados para o `var` diretório.  Anteriormente, esses relatórios eram exportados para o diretório raiz do documento, que é um diretório somente leitura em instâncias da nuvem.

<!-- ACP2E-1736 -->

* Campos vazios de endereço de vários clientes selecionados não interrompem ou interrompem o processo de exportação.

### Índice

<!-- AC-9223 -->

* Todos os indexadores agora usam as mesmas cores para representar o estado do indexador. [GitHub-34648](https://github.com/magento/magento2/issues/34648)

<!-- ACP2E-1697 -->

* O desempenho do indexador do Produto de regra de catálogo em implantações em que as regras não são atribuídas a todos os sites foi aprimorado.

<!-- ACP2E-1401 -->

* Criação de um tipo de produto personalizado quando os indexadores estiverem definidos como **[!UICONTROL Update on schedule]** não causa mais a atualização do índice `cron` tarefa a falhar. [GitHub-36471](https://github.com/magento/magento2/issues/36471)

<!-- ACP2E-1574 -->

* Problemas de exibição na página de detalhes do produto da loja provocados pela indexação de permissões de catálogo foram resolvidos. Anteriormente, o Adobe Commerce limpava a tabela de índice primeiro e depois reindexava durante uma `catalogpermissions_product` ou `catalogpermissions_category` processo de indexação. As permissões de catálogo não funcionavam como esperado na loja até que a reindexação fosse concluída.

<!-- AC-6816 -->

* `bin/magento indexer:reindex customer_grid` O não falha mais com um erro MySQL quando a grade do cliente inclui atributos personalizados recém-criados do cliente. [GitHub-36233](https://github.com/magento/magento2/issues/36233)

<!-- AC-8076 -->

* A alteração do modo do indexador para vários indexadores (isto é, uma alteração do modo do indexador de ação em massa) agora altera o modo de um indexador somente quando o modo atual é diferente daquele que está sendo aplicado. Isso melhora o desempenho, evitando viagens desnecessárias ao banco de dados. [GitHub-36823](https://github.com/magento/magento2/issues/36823)

### Infraestrutura

<!-- AC-9390 -->

* MySQL substituído `CREATE TEMPORARY TABLE ... LIKE` com refatorado `CREATE TEMPORARY TABLE` para conformidade com o MySQL 8.x. [GitHub-37926](https://github.com/magento/magento2/issues/37926)

<!-- ACP2E-1462 -->

* O Adobe Commerce não inclui mais o caminho completo para a raiz do servidor na mensagem de erro exibida quando uma solicitação HTTP malformada foi enviada ao servidor. Somente as cadeias de caracteres agora são passadas para o `explode` como um segundo argumento.

<!-- AC-8384 -->

* `restricted_classes.php` substituiu `Zend_Validate_File_Upload`. Anteriormente, o validador falhava durante o upload de um arquivo de importação maior do que o valor configurado em `php.ini `. [GitHub-37281](https://github.com/magento/magento2/issues/37281)

<!-- ACP2E-1146 -->

* As opções de atributo fornecidas pelo modelo de fonte de dados e instaladas usando o patch de dados de configuração (normalmente de módulos de terceiros) agora podem ser usadas com regras de segmento do cliente. Anteriormente, essa combinação não retornava a lista de clientes que correspondiam ao segmento configurado.

<!-- AC-7093 -->

* O mecanismo de template de email agora pode processar corretamente determinadas diretivas aninhadas (por exemplo, `{{if}}{{depend}}...{{/depend}}{{/if}}`). [GitHub-36438](https://github.com/magento/magento2/issues/36438)

<!-- AC-7920 -->

* `product` consultas com dados de agregação agora retornam os valores de rótulo corretos para atributos de produto do tipo booleano. [GitHub-29123](https://github.com/magento/magento2/issues/29123)

<!-- https://github.com/magento/magento2/pull/29173 -->

* Os arquivos CSS não são mais corrompidos quando mesclados quando `var/tmp` e `pub/static` estão em diferentes sistemas de arquivos e **[!UICONTROL CSS Merging Enabled]** está ativado. Foram criados arquivos temporários no mesmo diretório estático do arquivo de destino para garantir que ambos os arquivos estejam no mesmo sistema de arquivos. Como resultado, a chamada para renomeá-lo é atômica. [GitHub-29172](https://github.com/magento/magento2/issues/29172)

<!-- https://github.com/magento/magento2/pull/36769 -->

* Chamada para uma função membro `getId()` O não aciona mais uma exceção.

<!-- https://github.com/magento/magento2/pull/34092 -->

* As verificações de tipo agora são aplicadas para o tipo de matriz no processador de configuração do tema de design.  [GitHub-34440](https://github.com/magento/magento2/issues/34440)

### Logs

<!-- ACP2E-1788 -->

* Atualização do formato de data e hora no recurso Relatórios do sistema para incluir registros de arquivos de log em relatórios.

<!-- ACP2E-1385 -->

* Os usuários administradores agora podem ver os logs de ações em massa criadas por integrações na seção Log de ações em massa do Administrador.

### Logon

<!-- ACP2E-1521 -->

* Redefinir uma senha em um navegador e fazer logon posteriormente por um navegador diferente não resulta mais em uma exceção. [GitHub-36447](https://github.com/magento/magento2/issues/36447)

<!-- ACP2E-1332 -->

* Os clientes agora são redirecionados para a página de logon após ativar uma conta conforme esperado. Antes, os clientes eram conectados automaticamente.

### Pedidos

<!-- ACP2E-1918 -->

* Os comerciantes agora podem gerar avisos de crédito para ordens que contêm alguns itens com um total zero quando outros itens da ordem estiverem disponíveis para reembolso. Anteriormente, os comerciantes não podiam realizar vários reembolsos quando um cliente tinha um desconto de 100% em alguns itens no pedido.

<!-- AC-8254 -->

* Os links entre produtos filho e pai agora são exibidos na página do pedido durante a reorganização do produto filho do Administrador. [GitHub-37028](https://github.com/magento/magento2/issues/37028)

<!-- AC-1756 -->

* A seção de cabeçalho da página do pedido agora contém as informações esperadas sobre a fatura enviada, o aviso de crédito e a remessa. [GitHub-27474](https://github.com/magento/magento2/issues/27474)

<!-- AC-7632 -->

* Os avisos de crédito para pedidos que contêm apenas um produto configurável agora são gerados corretamente. Anteriormente, a variável `isLast()` a função não retornou `true` conforme esperado. [GitHub-36722](https://github.com/magento/magento2/issues/36722)

<!-- ACP2E-1962 -->

* O Adobe Commerce não lança mais um erro ao criar um aviso de crédito com um reembolso offline para um saldo de cliente quando o usuário administrador não tem permissão para acessar o site do cliente. Anteriormente, o Adobe Commerce exibia este erro: `More permissions are needed to view this item`, e o usuário administrador não pôde criar uma restituição de crédito da loja.

<!-- ACP2E-1714 -->

* O status do pedido agora está correto quando um pedido que contém produtos agrupados foi reembolsado parcialmente. Anteriormente, o status do pedido era listado como concluído após a emissão de um reembolso parcial, mesmo que o pedido restante não estivesse completo. [GitHub-37377](https://github.com/magento/magento2/issues/37377)

<!-- ACP2E-1514 -->

* Os compradores não podem mais solicitar um produto usando um preço personalizado quando um pedido é gerado pela primeira vez pelo administrador usando o preço personalizado único. Anteriormente, se um pedido continha um item com preços personalizados, esse preço personalizado era aplicado a outros pedidos feitos com a funcionalidade de novo pedido.

<!-- ACP2E-1421 -->

* Os compradores não podem mais salvar status de pedidos incorretos na página de pedidos. O status do pedido não é mais alterado de Concluído para Processamento quando um item é entregue. Anteriormente, o Adobe Commerce não verificava o status atual do pedido antes de salvar o status do pedido depois que um comprador inseria um comentário. [GitHub-36562](https://github.com/magento/magento2/issues/36562)

<!-- ACP2E-1387 -->

* O Adobe Commerce não lança mais um erro na página de devolução de pedidos de vitrine quando o produto configurável que está sendo devolvido foi excluído. Anteriormente, o Adobe Commerce registrava este erro: `report.CRITICAL: Error: Call to a member function getShipmentType() on null in magento2ee/app/code/Magento/Rma/view/frontend/templates/return/create.phtml:52`.

<!-- ACP2E-1367 -->

* A grade da ordem de venda agora é sincronizada de forma assíncrona com todas as ordens, conforme esperado. [GitHub-36562](https://github.com/magento/magento2/issues/36562)

<!-- ACP2E-1197 -->

* A funcionalidade filtrar por data de compra na seção pedidos do cliente da página pedidos agora funciona conforme esperado. Anteriormente, um erro de JavaScript ocorria quando a lógica de conversão de fuso horário exibia um erro quando o mesmo fuso horário era fornecido ao método.

<!-- ACP2E-1294 -->

* O painel do Adobe Commerce agora exibe as estatísticas de pedidos corretas na primeira carga. Anteriormente, o painel exibia informações incorretas sobre a ordem, mas exibia as informações corretas depois que o período era atualizado.

<!-- ACP2E-1762 -->

* Os usuários administradores agora são redirecionados como esperado para a página de pedido depois de selecionar uma visualização de loja durante a criação de novo pedido pelo Administrador.

<!-- ACP2E-1418 -->

* A variável `GET V1/orders/<OrderID>` O endpoint agora retorna informações sobre produtos configuráveis e simples no pedido, independentemente do status do estoque desses produtos simples. Os usuários administradores agora só podem fazer pedidos se os itens selecionados (produtos) estiverem em estoque ou forem comercializáveis. Anteriormente, essa API retornava informações apenas sobre os produtos que estavam em estoque.

<!-- AC-7901 -->

* A página de aviso de crédito não trava mais quando o frete gratuito está habilitado quando o preço do frete inclui imposto e os cálculos de imposto são aplicados após os descontos. Anteriormente, o Adobe Commerce lançou uma `Division by zero` exceção. [GitHub-36800](https://github.com/magento/magento2/issues/36800)

<!-- AC-1342 -->

* Usar o `rest/V1/orders/{id}/comments` ponto de acesso para postar um comentário sobre um pedido sem fornecer o status do pedido não afeta mais a exibição do pedido. Anteriormente, o status do pedido era registrado como NULL na variável `sales_order` e `sales_order_grid` e nem a página Meus pedidos nem a grade Ordem administrativa exibiram a ordem. [GitHub-34180](https://github.com/magento/magento2/issues/34180)

<!-- ACP2E-1597 -->

* As faturas, remessas e avisos de crédito agora podem ser movidos de volta com êxito do arquivo junto com suas ordens associadas quando as IDs que eles incluem diferem das IDs da ordem. Anteriormente, se um pedido fosse movido para o arquivo e restaurado, os registros de fatura, remessa e aviso de crédito ficariam ausentes desse pedido se os números de ID não correspondessem. [GitHub-36847](https://github.com/magento/magento2/issues/36847)

### Page Builder

<!-- AC-9128 -->

* O desempenho das operações de salvamento do Page Builder no navegador Chrome melhorou.

<!-- ACP2E-1954 -->

* Agora é possível usar a opção Page Builder em Administração > **[!UICONTROL Content]** > **[!UICONTROL Pages]** para inserir texto copiado em todos os estilos usando o `text` elemento.  Anteriormente, o Page Builder exibia somente texto sem formatação e não salvava estilos.

<!-- ACP2E-1646 -->

* Os erros do CORS não aparecem mais durante a edição do conteúdo do produto com o Page Builder quando o usuário administrador tem uma ACL específica. O usuário administrador agora pode salvar o produto. Anteriormente, o Page Builder não salvava o produto e o processo de salvamento congelava.

<!-- ACP2E-1852 -->

* Informações precisas sobre o tamanho do arquivo agora são incluídas na visualização da imagem de imagens carregadas no PageBuilder.

<!-- ACP2E-2016 -->

* Os elementos de página do Page Builder agora são renderizados em uma velocidade aceitável no navegador Chrome (v112). Anteriormente, salvar o conteúdo com o PageBuilder em execução no navegador Chrome era lento, e o Commerce registrou esse erro no console do navegador: `[ERROR] Page Builder was rendering for 5 seconds without releasing locks`.

<!-- ACP2E-1654 -->

* A reprodução automática do elemento de vídeo do Page Builder agora funciona conforme esperado em navegadores móveis Safari no iOS quando o elemento é vinculado diretamente a um arquivo de vídeo remoto. Anteriormente, nenhuma imagem de visualização era exibida.

<!-- ACP2E-1974 -->

* O Page Builder agora funciona conforme esperado no navegador Chrome. Anteriormente, as alterações de conteúdo feitas nesse navegador nem sempre eram salvas.

<!-- ACP2E-2086 -->

* Carregar uma página de edição de produto do administrador um produto não gera mais uma página intermitente `Uncaught TypeError` Erro de JavaScript.

<!-- ACP2E-1886 -->

* As imagens carregadas por meio do editor do Page Builder agora são marcadas como usadas na **[!UICONTROL Content]** > **[!UICONTROL Media Gallery]**. Anteriormente, essas imagens eram marcadas como **não usado em nenhum lugar** na Galeria de mídia.

<!-- ACP2E-1564 -->

* Adicionar um produto a um carrinho de compras do carrossel do Page Builder não duplica mais a quantidade de itens das páginas com dois widgets diferentes que exibem os mesmos produtos.

<!-- ACP2E-1542 -->

* O Page Builder não adiciona mais o `tabindex` Atributo HTML para tags de hiperlink `a` ao editar um hiperlink, salve um modelo.

<!-- ACP2E-1444 -->

* O widget Produtos e a pré-visualização do Page Builder agora lidam corretamente com caracteres especiais de HTML. Anteriormente, o widget do produto não exibia corretamente SKUs que continham a variável `&` caractere.

<!-- ACP2E-1441 -->

* O conteúdo do elemento de texto do Page Builder agora é atualizado conforme esperado ao selecionar e atualizar o bloco de conteúdo completo no modo de visualização.

<!-- ACP2E-1362 -->

* Copiar e colar texto de um editor de texto do Page Builder para outro agora funciona conforme esperado. Anteriormente, a página na qual você tentou colar o texto não podia ser salva, e o Adobe Commerce exibia este erro de console: `[ERROR] Page Builder was rendering for 5 seconds without releasing locks.`.

<!-- ACP2E-1568 -->

* Page Builder `column-block` o tipo de conteúdo que foi criado em versões mais antigas do Page Builder agora é exibido corretamente.

<!-- ACP2E-1234 -->

* A filtragem da descrição de metadados do produto durante a criação do produto pelo administrador foi aprimorada. Anteriormente, se o Page Builder estivesse ativado, a descrição dos metadados do produto era gerada com base no padrão` {{name}} {{description}}` máscara. A máscara de metadescrição do produto padrão agora é composta de `{{name}}`. [GitHub-36107](https://github.com/magento/magento2/issues/36107)

<!-- ACP2E-1758 -->

* A adição de um bloco dinâmico sem conteúdo não aciona mais um erro.

### Pagamento

<!-- AC-9142 -->

* As transações de Finalização de compra do PayPal Express agora incluem SKUs de produto filho e títulos completos do produto. A variável `Magento/Paypal/Model/Cart.php` O arquivo agora coleta SKUs de produtos secundários com o título do produto principal para identificar o título do produto com o SKU secundário. [GitHub-36808](https://github.com/magento/magento2/issues/36808)

<!-- ACP2E-1964 -->

* A variável **[!UICONTROL Card Security Code Does Not Match]** A definição da configuração agora é processada conforme esperado durante o processo de pagamento do Payflow Pro. Anteriormente, esse processo de avaliação nunca era concluído, o que bloqueava o check-out.

<!-- ACP2E-1215 -->

* A opção de método de pagamento do Cofre não é mais exibida no fluxo de trabalho Checkout de administrador quando o comprador não tem um token de cofre. [GitHub-36273](https://github.com/magento/magento2/issues/36273)

<!-- ACP2E-1303 -->

* A variável **[!UICONTROL Venmo]** agora pode ser ocultado quando os botões PayPal estiverem ativados. Anteriormente, a variável **[!UICONTROL Venmo]** não foi possível remover o botão do carrinho, do minicarrinho, dos detalhes do produto ou das páginas de check-out.

#### Braintree

<!-- BUNDLE-3273 -->

* Solução de problemas com URLs de fallback para pedidos pagos com a Ideal Payments quando o pagamento local está ativado.

<!-- AC-2901 -->

* As informações de pagamento de Braintree agora são salvas por loja, e os compradores agora veem somente as informações de cartão que foram salvas na loja em que estão comprando. Anteriormente, os compradores podiam ver informações de cartões armazenadas de todas as lojas durante o check-out. [GitHub-34253](https://github.com/magento/magento2/issues/34253)

<!-- BUNDLE-3304 -->

* Os compradores agora podem fazer check-out de um pedido enviado para vários endereços usando um método de pagamento Braintree quando o cofre para pagamentos com cartão está desativado. [GitHub-37615](https://github.com/magento/magento2/issues/37615)

<!-- BUNDLE-3253 -->

* Os compradores não podem mais criar um pedido do PayPal sem adicionar um sobrenome.

<!-- ACP2E-1229 -->

* A opção de método de pagamento do Cofre de Braintree não é mais desmarcada automaticamente no fluxo de trabalho de finalização quando um comprador atualiza seu endereço de faturamento. Anteriormente, o método de pagamento era desmarcado quando o comprador desmarcava a variável **[!UICONTROL My billing and shipping address are the same]** botão.

<!-- BUNDLE-3248 -->

* Solução de problemas ao fazer check-out do PayPal pelo Braintree após a atualização do Adobe Commerce 2.4.5-p2. [GitHub-37242](https://github.com/magento/magento2/issues/37242)

<!-- BUNDLE-3257 -->

* Os números de telefone agora são renderizados conforme esperado com endereços nos campos de endereço de envio pop-up modal de Pagamento do Google. Anteriormente, os números de telefone estavam ausentes.

<!-- BUNDLE-3228 -->

* Os pedidos agora são feitos com sucesso com Braintree quando a resposta Braintree inclui um valor vazio para `threeDSecureInfo/eciFlag`. Anteriormente, um erro de PHP ocorria durante o check-out quando este valor estava vazio.

<!-- BUNDLE-3243 -->

* O Adobe Commerce não lança mais um erro quando um comprador aplica um cupom na página de revisão do pedido ao fazer check-out com o Google Pay do minicarrinho. Anteriormente, os compradores eram redirecionados para uma página 404.

<!-- BUNDLE-3245 -->

* Os compradores agora podem concluir o checkout usando o Braintree Payments e o Adobe Commerce 2.4.6 com ReCAPTCHA v2 ou v3 invisível. [GitHub-37241](https://github.com/magento/magento2/issues/37241)

<!-- BUNDLE-3241 -->

* Os compradores não podem mais clicar no link **[!UICONTROL PayPal]** botão para comprar um produto configurável sem primeiro selecionar as opções necessárias. Anteriormente, os compradores podiam clicar no link **[!UICONTROL PayPal]** e foram redirecionados posteriormente para a página do produto com um erro:

<!-- BUNDLE-3148 -->

* A variável **[!UICONTROL PayPal]** agora é exibido conforme esperado nas páginas do carrinho e do minicarrinho. Anteriormente, esse botão não era exibido na página do carrinho e duplicado na página do mini carrinho.

<!-- BUNDLE-3244 -->

* Os pedidos parcialmente faturados agora são capturados conforme esperado na conta correta em implantações em que os comerciantes têm duas IDs de conta de comerciante diferentes para a mesma moeda em sua conta Braintree.

<!-- BUNDLE-3250 -->

* A Adobe Commerce não lança mais um erro ao criar uma segunda fatura parcial para um pedido pago por Braintree quando o **[!UICONTROL Enable Vault for Card Payments]** está ativado. Anteriormente, quando um comerciante tentava criar uma segunda fatura, a Adobe Commerce exibia este erro: `Your payment could not be taken. Please try again or use a different payment method. Payment method token is invalid`.

### Desempenho

<!-- ACP2E-2098 -->

* O desempenho do `addProductToCart` ao ser executada com muitos atributos de produto personalizados melhorou. Anteriormente, quando essa mutação era executada com muitos atributos de produto ( aproximadamente 1000), o Commerce tentava carregar todos os atributos de produto.

<!-- ACP2E-1965 -->

* Problemas de desempenho ao carregar atributos de produto usados pelas regras do carrinho foram resolvidos. Somente atributos de produto para regras de carrinho ativas agora são carregados.

<!-- ACP2E-1864 -->

* A variável `bin/magento setup:perf:generate-fixtures setup/performance-toolkit/profiles/ee/small.xml` O comando agora é executado com sucesso quando executado várias vezes. Anteriormente, ocorria este erro quando executado mais de uma vez: `Coupon with the same code already exists`.

### Promoção

<!-- ACP2E-1290 -->

* Os efeitos da **[!UICONTROL Fixed amount discount for whole cart]** regra de preço, quando aplicada com a variável **[!UICONTROL Apply to shipping amount]** agora é distribuído proporcionalmente conforme esperado entre produtos e valores de remessa. Anteriormente, os cálculos de desconto estavam incorretos.

<!-- ACP2E-1300 -->

* A variável **[!UICONTROL Discard Subsequent Rules]** agora é aplicada conforme esperado. Quando esta configuração está habilitada, outras regras com baixa prioridade podem ser aplicadas somente a um produto diferente. [GitHub-35707](https://github.com/magento/magento2/issues/35707)

### Relatórios

<!-- ACP2E-1541 -->

* O relatório Pedidos (**[!UICONTROL REPORTS]** > **[!UICONTROL Sales]** > **[!UICONTROL Orders]**) agora inclui valores de pedido corretos quando os pedidos são gerados por lojas que usam moedas não padrão. Anteriormente, esse relatório incluía valores incorretos. [GitHub-36742](https://github.com/magento/magento2/issues/36742)

<!-- ACP2E-1477 -->

* Informações enganosas no formulário de relatório de ordem de venda foram revisadas para maior clareza.

<!-- ACP2E-1435 -->

* Os usuários administradores agora podem pesquisar registros com emails que contêm  `+` (mais) na página Relatório de carrinhos abandonados. [GitHub-36560](https://github.com/magento/magento2/issues/36560)

<!-- AC-7394 -->

* Os nomes das transações do GraphQL agora são exibidos corretamente depois que o New Relic é desativado no Administrador do Commerce. [GitHub-36112](https://github.com/magento/magento2/issues/36112)

### Recompensas

<!-- ACP2E-1473 -->

* A notificação por email de atualização do saldo de pontos de premiação agora leva em conta o contexto de loja atual. Anteriormente, o email de atualização de saldo de pontos de premiação usava as configurações da loja padrão.

<!-- ACP2E-1329 -->

* Os pontos de recompensa agora podem ser reembolsados após a criação de um memorando de crédito. Anteriormente, os comerciantes não podiam restituir pontos de recompensa após a criação de um aviso de crédito e o status do pedido permanecia `Completed`, não `Closed`.

### ADM

<!-- ACP2E-1230 -->

* A variável **[!UICONTROL Enable RMA]** O atributo no nível de produto individual agora respeita a configuração das configurações de RMA da loja. Anteriormente, essa configuração era desativada por padrão quando você adicionava um produto, independentemente das configurações da loja.

### Pesquisar {#search-heading}

<!-- ACP2E-1870 -->

* O preço da pesquisa avançada e os filtros SKU agora funcionam corretamente quando aplicados juntos em uma pesquisa avançada. [GitHub-37581](https://github.com/magento/magento2/issues/37581)

<!-- ACP2E-1787 -->

* As pesquisas não são mais executadas para campos de pesquisa vazios. Isso reduz o tamanho do `search_query` tabela. Anteriormente, consultas incorretas ou consultas em campos de pesquisa vazios retornavam um enorme conjunto de dados, o que aumentou o tamanho do `search_query` tabela e resultou em problemas com `/tmp`.

<!-- ACP2E-1916 -->

* Agora os filtros de vitrine eletrônica funcionam como esperado ao classificar entradas de catálogo com atributos personalizados suspensos.

<!-- ACP2E-1499 -->

* Os resultados da pesquisa agora exibem resultados relevantes com base no peso da pesquisa dos atributos, conforme esperado.

<!-- AC-7505 -->

* Texto informativo sob o `Search Weight` do atributo `Storefront Properties` campo de entrada em Admin **[!UICONTROL Stores]** > **[!UICONTROL Attributes]** > **[!UICONTROL Product]** A agora descreve os valores possíveis. [GitHub-36646](https://github.com/magento/magento2/issues/36675)

### Envio

<!-- ACP2E-2044 -->

* A variável `cart` a consulta agora retorna descontos de entrega discretos como descontos de entrega separados com etiquetas de desconto exclusivas. O novo `applied_to` a propriedade discount suporta a diferenciação entre descontos aplicados a um item de carrinho. Anteriormente, todos os descontos de envio eram combinados em um único código **[!UICONTROL Shipping Discount]** valor.

<!-- ACP2E-1826 -->

* Quando um usuário administrador cria um novo pedido, os endereços de faturamento e envio do pedido inicial preenchem automaticamente os campos relevantes quando o usuário administrador clica na guia **[!UICONTROL Reorder]** botão (Administrador **[!UICONTROL Sales]** > **[!UICONTROL Orders]** > **[!UICONTROL View]** ). Se os mesmos endereços forem salvos no catálogo de endereços do comprador, a reorganização sempre incorporará uma versão atualizada desses endereços. Anteriormente, o campo Endereço de entrega era pré-preenchido com os dados atualizados, mas o campo Endereço de cobrança não era.

<!-- AC-7003 -->

* A variável **[!UICONTROL Shipping Policy]** A caixa de texto agora está visível no escopo de Exibição da loja do administrador quando  **[!UICONTROL Apply custom Shipping Policy]** está ativada e uma política de envio personalizada está disponível. [GitHub-36425](https://github.com/magento/magento2/issues/36425)

<!-- AC-7550 -->

* A variável `cart` a consulta agora retorna um `selected_shipping_method` que corresponde a um dos `available_shipping_methods` códigos de transportadora e método. Anteriormente, quando um dos métodos de envio selecionados continha um sublinhado, esses códigos de transportadora/método eram incompatíveis. [GitHub-36606](https://github.com/magento/magento2/issues/36606)

<!-- AC-2556 -->

* A variável `setShippingAddressesOnCart` A mutação não lança mais um erro quando o segundo valor na matriz de rua é nulo. Anteriormente, essa exceção era gerada: `The address failed to save. Verify the address and try again`. [GitHub-35160](https://github.com/magento/magento2/issues/35160)


### Mapa do site

<!-- AC-2465 -->

* O mapa de site XML agora funciona como esperado em uma implantação de várias matérias. Anteriormente, os mapas de site não continham as páginas padrão atribuídas para cada loja. [GitHub-35001](https://github.com/magento/magento2/issues/35001)

<!-- AC-2267 -->

* Agora os comerciantes podem criar e salvar um produto quando o site `id != 1` e o modo de armazenamento único está ativado. Anteriormente, a ação de salvar falhava com esta mensagem: `SQLSTATE[23000]: Integrity constraint violation: 1452 Cannot add or update a child row: a foreign key constraint fails`. [GitHub-35009](https://github.com/magento/magento2/issues/35009)

### Estágios

<!-- ACP2E-1923 -->

* Os valores de rótulos de visualização da loja não são mais apagados após uma atualização programada para regras de preço do carrinho. Anteriormente, esses rótulos eram apagados mesmo se não estavam especificados na atualização.

<!-- ACP2E-1803 -->

* As visualizações de preparo de conteúdo agora funcionam corretamente em páginas vinculadas. Anteriormente, não era possível navegar para páginas vinculadas na visualização de preparo, mas elas eram direcionadas incorretamente para páginas da loja.

<!-- ACP2E-1876 -->

* Сalterar uma atualização de preparo não resulta mais na remoção de atualizações programadas que são atribuídas a uma data posterior.

<!-- ACP2E-1501 -->

* Os erros de JavaScript não ocorrem mais ao adicionar ou editar atualizações agendadas para categorias quando os Experimentos de conteúdo do Google Analytics estão ativados.

<!-- ACP2E-1344 -->

* Os comerciantes agora podem salvar com êxito uma atualização de programação existente para uma categoria depois de visualizá-la ou editá-la. Anteriormente, o Adobe Commerce emitia um erro no `system.log`.

<!-- ACP2E-1596 -->

* Os links para download agora são preservados conforme esperado quando uma atualização programada é aplicada enquanto os produtos adicionados anteriormente estão no carrinho. Anteriormente, os links baixáveis desapareciam das páginas Minha conta (Meus produtos baixáveis) e Exibição de pedido de administrador do cliente.

<!-- ACP2E-1458 -->

* Os produtos agora estão visíveis na loja, conforme esperado, após uma atualização de preparo que habilita o produto a ser aplicado. Anteriormente, o produto era habilitado no Admin, mas não estava visível na categoria vitrine quando o modo indexador do inventário do catálogo estava definido como Update on Schedule. Uma reindexação completa corrigiu o problema.

<!-- ACP2E-1647 -->

* A variável `staging.synchronize_entity_period` fila do consumidor no `magento_bulk` A tabela não aumenta mais quando não há atualizações de preparo a serem processadas. Anteriormente, quando `cron` foi configurado para executar a cada minuto, um novo registro relacionado à `staging.synchronize_entity_period` o consumidor foi adicionado a esta tabela a cada minuto.

<!-- ACP2E-1415 -->

* O Adobe Commerce não lança mais um erro SQL ao criar uma alteração de agendamento para um produto enquanto salva outro produto.  Anteriormente, o Adobe Commerce exibia este erro:  `The product with the SKU "%1" couldn't be added to the current update`.

### Regras do Target

<!-- ACP2E-1438 -->

* Agora as regras do Target funcionam corretamente com diferentes visualizações de loja. Anteriormente, os problemas com o cache da regra de produtos relacionados impedia a exibição de produtos recomendados em implantações de várias lojas.

### Imposto

<!-- ACP2E-1527 -->

* Agora é possível editar o valor do País e Região da Alíquota do Imposto na página de edição Regra de Imposto, conforme esperado. Anteriormente, as edições feitas nessa página não eram salvas.

<!-- ACP2E-1143 -->

* O valor do imposto na área de estimativa do carrinho agora é atualizado conforme esperado quando o método de envio é atualizado. Anteriormente, a taxa de imposto não era atualizada depois que um comprador mudava de país durante o check-out.

<!-- AC-8227 -->

* A variável `tax class` O valor de produtos simples recém-criados agora é definido como o valor do produto principal ao criar novas variações de um produto configurável existente no escopo Exibição de loja. Anteriormente, esse valor era definido como nenhum. Como resultado, nenhum imposto foi adicionado a esses produtos no carrinho, e os clientes estavam sujeitos a um imposto inferior. [GitHub-37180](https://github.com/magento/magento2/issues/37180)

### Teste

<!-- ACP2E-2202 -->

* Refatorado `Magento\GraphQl\Catalog\ProductSearchTest::testFilterProductsBySingleCategoryId` teste para lidar com a ordem de categoria aleatória em `products` respostas à consulta.

<!-- AC-7098 -->

* Problemas de desempenho com arrays grandes no `TableNameSniff` foram resolvidas.

<!-- ACP2E-1690 -->

* Os testes de integração para a funcionalidade editar registro de presentes não dependem mais das IDs de entidade existentes. Todos os dados necessários agora são obtidos através de luminárias. Anteriormente, `\Magento\GiftRegistry\Controller\Index\EditPostTest` falhou.

<!-- ACP2E-1748 -->

* `CollectionTest::testGetDateRangeFirstPart()` agora é responsável pelo Horário de verão.

<!-- ACP2E-1824 -->

* Aviso de desativação corrigido para `StorefrontDeleteItemFromRequisitionListPrintView`.

### IU

<!-- AC-8823 -->

* As senhas agora são exibidas conforme esperado quando a variável **[!UICONTROL Show Password]** a caixa de seleção na página de logon está ativa. Esse foi um problema conhecido para o 2.4.7-beta1.

<!-- ACP2E-2034 -->

* A Adobe Commerce agora exibe os preços corretos para pacotes de produtos fixos com preços especiais. Esse foi um problema conhecido para o 2.4.7-beta1.

<!-- AC-8285 -->

* Atualização do link para a página de listagem de problemas do GitHub no arquivo de modelo de rodapé da loja. [GitHub-37214](https://github.com/magento/magento2/issues/37214)

<!-- AC-6282 -->

* O widget Visualizado recentemente agora exibe o valor correto do imposto em preços de produtos agrupados. [GitHub-35881](https://github.com/magento/magento2/issues/35881)

<!-- AC-6636 -->

* Os usuários administradores agora podem arrastar e soltar as opções personalizáveis criadas para o produto simples, conforme esperado. [GitHub-36051](https://github.com/magento/magento2/issues/36051)

<!-- AC-8345 -->

* A ordem dos tipos de atributos suspensos do produto agora corresponde à ordem das imagens na página do produto configurável. [GitHub-37285](https://github.com/magento/magento2/issues/37285)

<!-- ACP2E-1969 -->

* As mensagens do sistema agora são carregadas mais rapidamente. Somente as mensagens que estão sendo exibidas são carregadas. Anteriormente, todas as mensagens eram carregadas do banco de dados, o que era demorado.

<!-- ACP2E-1804 -->

* Remoção do nó de navegação estrutural pela configuração `remove=true` no layout XML não resulta mais na remoção do título da página na página de categoria. Anteriormente, a remoção de navegações estruturais removia dessa maneira o título da página da categoria.

<!-- ACP2E-1717 -->

* O formulário de registro do cliente agora é carregado conforme esperado quando inclui vários atributos selecionados do cliente. Anteriormente, o Adobe Commerce lançava esta exceção: `[2023-03-05T05:57:40.032602+00:00] report.CRITICAL: Exception: Deprecated Functionality: explode(): Passing null to parameter #2 ($string) of type string is deprecated in /magento2ee/app/code/Magento/CustomAttributeManagement/Block/Form/Renderer/Multiselect.php on line 53 in /lib/internal/Magento/Framework/App/ErrorHandler.php:62`. [GitHub-37189](https://github.com/magento/magento2/issues/37189)

<!-- ACP2E-1602 -->

* As mensagens de boas-vindas que contêm aspas simples agora são renderizadas corretamente na loja sem erros do console. Anteriormente, se uma mensagem de boas-vindas continha uma aspa simples, ela não era carregada durante a renderização da loja. O Adobe Commerce também exibia erros de console.

<!-- ACP2E-1369 -->

* O Adobe Commerce não lança mais um erro quando você tenta alterar rapidamente a exibição entre o histórico de comentários e Retornos na página Ordem do administrador. Anteriormente, o Adobe Commerce exibia este erro genérico: `A technical problem with the server created an error`.

<!-- ACP2E-1374 -->

* Os usuários administradores com privilégios restritos a um site agora podem atualizar os atributos de produto específicos do site definidos como um `all stores view` âmbito de aplicação.

<!-- ACP2E-1648 -->

* O widget lente de aumento agora é carregado conforme esperado na página do produto.

<!-- ACP2E-1216 -->

* As opções personalizáveis de várias linhas agora são renderizadas adequadamente em documentos PDF de fatura, remessa e aviso de crédito. Anteriormente, o texto multilinha era precedido por uma quebra de página inesperada e, se o texto excedesse a página, o texto era truncado.

<!-- AC-7402 -->

* Os usuários administradores agora podem adicionar um novo endereço de cliente do Administrador quando esse cliente for criado para outro site cuja ID da loja não corresponde à ID do site. Anteriormente, o Adobe Commerce exibia esta mensagem pop-up: `Something went wrong`. [GitHub-36582](https://github.com/magento/magento2/issues/36582)

<!-- ACP2E-1529 -->

* Agora os detalhes do Administrador da empresa são salvos conforme esperado e os administradores são redirecionados corretamente, quando os emails de Atribuição de administrador da empresa contêm um `CMS Block URL` variável.

<!-- ACP2E-1775 -->

* As mensagens de erro associadas ao envio de comentários na página de detalhes do pedido agora são mais informativas. Anteriormente, quando um comprador clicava em **[!UICONTROL Submit comment]** sem alterar o status do pedido ou inserir texto na área de comentário, o Adobe Commerce exibiu esta mensagem: `The comment is missing. Enter and try again`.

<!-- ACP2E-1659 -->

* O ícone de calendário agora é exibido conforme esperado nos campos de intervalo de datas no Administrador **[!UICONTROL Marketing]** > **[!UICONTROL Cart Price Rules]** após a seleção de uma data para um campo. Anteriormente, após selecionar uma data para um campo, o ícone de calendário não era mais exibido em outros campos e o Adobe Commerce exibia o texto do espaço reservado. [GitHub-36499](https://github.com/magento/magento2/issues/36499)

<!-- ACP2E-1717 -->

* Os formulários de registro do cliente que incluem campos de seleção múltipla agora são carregados com êxito. Anteriormente, esse formulário não era carregado quando continha campos de seleção múltipla e o seguinte erro era acionado:  `report.CRITICAL: Exception: Deprecated Functionality: explode(): Passing null to parameter #2 ($string) of type string is deprecated in /magento2ee/app/code/Magento/CustomAttributeManagement/Block/Form/Renderer/Multiselect.php on line 53 in /lib/internal/Magento/Framework/App/ErrorHandler.php:62`. [GitHub-37189](https://github.com/magento/magento2/issues/37189)

<!-- AC-7092 -->

* Ao clicar em uma miniatura de vídeo no modo de tela cheia da galeria de produtos, o vídeo é exibido conforme esperado. Anteriormente, o vídeo não era exibido e o console do navegador exibia um erro de JavaScript. [GitHub-36456](https://github.com/magento/magento2/issues/36456)

<!-- AC-7806 -->

* Adição de uma variável à linha de direitos autorais que é atualizada automaticamente a cada ano. [GitHub-36776](https://github.com/magento/magento2/issues/36776)

<!-- AC-8441 -->

* O controle deslizante de imagem na página do produto agora funciona conforme esperado na exibição móvel. Anteriormente, somente a primeira imagem era exibida com sucesso. [GitHub-37232](https://github.com/magento/magento2/issues/37232)

### Substituições de URL

<!-- AC-6728 -->

* As substituições de URL de produto de categoria agora são geradas conforme esperado para todas as exibições de loja quando um produto é adicionado a uma categoria. [GitHub-32910](https://github.com/magento/magento2/issues/32910)

<!-- ACP2E-1783 -->

* O Commerce não lança mais um erro ao tentar criar um redirecionamento 301/302 para um URL de produto quando **Gerar substituições de URL de categoria/produto** está ativado. Quando um produto é criado e atribuído a uma categoria, são criadas regravações automáticas de URL: uma para o URL direto e outra para o produto por meio do caminho da categoria. Quando uma nova regravação de URL de produto é criada, as correlações entre produto, categoria e loja são verificadas. Esta verificação agora se baseia nas propriedades de entidade correlacionadas (categoria e produto). Anteriormente, essa verificação era executada em regravações de URL pré-existentes.

<!-- ACP2E-1737 -->

* As substituições de URL de categoria agora são geradas para todas as exibições de loja quando uma nova categoria é importada de um arquivo CSV.

<!-- ACP2E-1700 -->

* As configurações de sufixo de URL de produto e sufixo de URL de categoria agora correspondem aos sufixos na variável `url_rewrite` tabela. Anteriormente, ocorriam condições de corrida ao atualizar configurações de sufixo de URL, e os sufixos de URL configurados e o `url_rewrite` tabela não correspondente.

<!-- ACP2E-1703 -->

* O Adobe Commerce agora renderiza a árvore de categorias em todos os níveis ao criar regravações de URL de categoria. Anteriormente, apenas os três primeiros níveis de categorias eram exibidos. [GitHub-36973](https://github.com/magento/magento2/issues/36973)

<!-- ACP2E-1644 -->

* As páginas CMS recém-criadas com um nó secundário agora são incluídas na grade de filtro de marketing (**[!UICONTROL Marketing]** > **[!UICONTROL URL rewrites]**). Anteriormente, as regravações de URL não eram criadas para essas páginas CMS.

<!-- ACP2E-1737 -->

* As substituições de URL de categoria agora estão presentes no arquivo CSV durante a importação de uma nova categoria.

<!-- ACP2E-1668 -->

* Páginas CMS de várias lojas sem substituições de URL agora são encaminhadas conforme esperado. Anteriormente, as páginas do CMS de várias lojas solicitadas sem substituições de URL eram redirecionadas para a página inicial da loja, mas as páginas do CMS originais não eram direcionadas.

### Visual Merchandiser

<!-- ACP2E-1363 -->

* Agora você pode usar o `Categories` atributo para regras do Visual Merchandiser. Anteriormente, o Adobe Commerce lançava esta exceção:  `Something went wrong while saving the category`.

### Estrutura da API da Web

<!-- ACP2E-2053 -->

* As operações assíncronas de API REST em massa para atualizar produtos com preços de camada e diferentes conjuntos de atributos foram concluídas com êxito. Anteriormente, os produtos com conjuntos de atributos diferentes não podiam ser atualizados dessa maneira, e o Commerce exibia esse erro: `The product was unable to be saved. Please try again`.

<!-- AC-7002 -->

* A variável `POST /V1/products/tier-prices` O endpoint agora retorna uma mensagem de erro mais informativa quando um nome de grupo de clientes inválido é usado durante a criação do preço da camada. Anteriormente, o Adobe Commerce retornava um erro como este: `Notice: Undefined index: XXXXX in ~/public_html/vendor/magento/module-catalog/Model/Product/Price/Validation/TierPriceValidator.php on line 474"`. [GitHub-36431](https://github.com/magento/magento2/issues/36431)

<!-- ACP2E-1776 -->

* Agora você pode executar uma solicitação de API em massa assíncrona autorizada para criar clientes com uma ID de grupo não padrão. Anteriormente, essas solicitações redefiniam a ID do grupo para o valor padrão.

<!-- ACP2E-1543 -->

* Os clientes criados usando a API em massa agora recebem emails de registro do cliente no idioma configurado em seu site atribuído.  Anteriormente, todos os emails eram enviados ao local padrão, não ao local do site ao qual o cliente estava atribuído.

<!-- ACP2E-1339 AC-7577-->

* A variável `POST V1/guest-carts` a chamada não envia mais pedidos de convidados quando **[!UICONTROL Allow Guest Checkout]** está desativado.

<!-- ACP2E-1336 -->

* Agora você pode abrir um pedido do administrador com o status `Received` quando `AsyncOrder` não está ativado. Anteriormente, não era possível abrir a página de detalhes do pedido no Administrador quando o status do pedido era alterado por `POST V1/orders`.

<!-- ACP2E-1526 -->

* O Adobe Commerce agora retorna com êxito o `content` atributo (código de imagem base64) em `GET V1/products/sku/media` respostas da API de mídia do produto. A variável `content` atributo não aparecia anteriormente na resposta.

### Lista de desejos

<!-- ACP2E-1784 -->

* O Commerce agora exibe uma mensagem indicando que um item já foi adicionado a uma lista de desejos quando um comprador tenta adicionar o mesmo item a uma lista de desejos várias vezes. Anteriormente, sob essas condições, o Commerce aumentou a quantidade do produto na lista de desejos.

<!-- AC-8610 -->

* O Adobe Commerce agora adiciona com sucesso produtos com arquivos de opções personalizáveis carregados necessários à lista de desejos. Anteriormente, o Commerce adicionava dois produtos à lista de desejos, não um. [GitHub-37437](https://github.com/magento/magento2/issues/37437)

## Problemas conhecidos

Os seguintes problemas conhecidos serão corrigidos no Adobe Commerce 2.4.7-beta3:

**Problema**: um produto não é removido, conforme esperado, do minicarrinho depois que o catálogo compartilhado atribuído a ele é removido do produto. Esse problema era conhecido para a versão 2.4.7-beta1 e está programado para resolução na versão 2.4.7-beta3. <!-- AC-8935 -->

## Requisitos do sistema

Nossa pilha de tecnologia é construída em PHP e MySQL. Para obter mais informações, consulte [Requisitos do sistema](https://experienceleague.adobe.com/docs/commerce-operations/installation-guide/system-requirements.html).

## Instruções de instalação e atualização

Você pode instalar o Adobe Commerce 2.4.7-beta2 usando [Compositor](https://experienceleague.adobe.com/docs/commerce-operations/installation-guide/composer.html).
